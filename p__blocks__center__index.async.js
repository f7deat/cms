"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[1181],{81479:function(W,D,e){e.r(D);var C=e(15009),r=e.n(C),P=e(99289),o=e.n(P),u=e(5574),v=e.n(u),a=e(98364),M=e(66352),A=e(86548),h=e(48689),i=e(62884),T=e(22257),m=e(90905),U=e(27790),c=e(71577),_=e(86738),s=e(62435),n=e(86074),t=function(){var b=(0,m.useParams)(),B=b.id,I=(0,s.useRef)(),K=(0,s.useState)(),S=v()(K,2),R=S[0],L=S[1];(0,s.useEffect)(function(){(0,a.Xr)(B).then(function(p){return L(p)})},[]);var y=function(){var p=o()(r()().mark(function E(l){var O,j;return r()().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.next=2,(0,M.rB)(l);case 2:O=f.sent,O.succeeded&&(U.ZP.success("Deleted!"),(j=I.current)===null||j===void 0||j.reload());case 4:case"end":return f.stop()}},E)}));return function(l){return p.apply(this,arguments)}}(),g=[{title:"#",valueType:"indexBorder"},{title:"Name",dataIndex:"name"},{title:"Active",dataIndex:"active",valueEnum:{false:{text:"Draft",status:"Default"},true:{text:"Active",status:"Processing"}}},{title:"",valueType:"option",render:function(E,l){return[(0,n.jsx)(c.Z,{icon:(0,n.jsx)(A.Z,{}),type:"primary",onClick:function(){return m.history.push("/works/".concat(l.normalizedName,"/").concat(l.id))}},1),(0,n.jsx)(_.Z,{title:"Are you sure?",onConfirm:function(){return y(l.id)},children:(0,n.jsx)(c.Z,{icon:(0,n.jsx)(h.Z,{}),type:"primary",danger:!0})},3)]}}];return(0,n.jsx)(i._z,{title:R==null?void 0:R.name,children:(0,n.jsx)(T.Z,{actionRef:I,columns:g,rowKey:"id",request:function(E){return(0,a.Z)(E,B)}})})};D.default=t},98364:function(W,D,e){e.d(D,{CO:function(){return h},Xr:function(){return v},Z:function(){return T},eB:function(){return M},v7:function(){return U}});var C=e(15009),r=e.n(C),P=e(99289),o=e.n(P),u=e(90905);function v(_){return a.apply(this,arguments)}function a(){return a=o()(r()().mark(function _(s){return r()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,u.request)("component/".concat(s)));case 1:case"end":return t.stop()}},_)})),a.apply(this,arguments)}function M(){return(0,u.request)("component/list-all")}function A(_){return request("component/add",{method:"POST",data:_})}function h(){return i.apply(this,arguments)}function i(){return i=o()(r()().mark(function _(){return r()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,u.request)("component/list"));case 1:case"end":return n.stop()}},_)})),i.apply(this,arguments)}function T(_,s){return m.apply(this,arguments)}function m(){return m=o()(r()().mark(function _(s,n){return r()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.abrupt("return",(0,u.request)("component/list-work/".concat(n),{params:s}));case 1:case"end":return d.stop()}},_)})),m.apply(this,arguments)}function U(_){return c.apply(this,arguments)}function c(){return c=o()(r()().mark(function _(s){return r()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,u.request)("component/delete/".concat(s),{method:"POST"}));case 1:case"end":return t.stop()}},_)})),c.apply(this,arguments)}}}]);
