"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[3923],{1912:function(L,E,e){e.d(E,{Z:function(){return c}});var m=e(1413),_=e(62435),O={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M868 545.5L536.1 163a31.96 31.96 0 00-48.3 0L156 545.5a7.97 7.97 0 006 13.2h81c4.6 0 9-2 12.1-5.5L474 300.9V864c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V300.9l218.9 252.3c3 3.5 7.4 5.5 12.1 5.5h81c6.8 0 10.5-8 6-13.2z"}}]},name:"arrow-up",theme:"outlined"},p=O,f=e(84089),o=function(u,h){return _.createElement(f.Z,(0,m.Z)((0,m.Z)({},u),{},{ref:h,icon:p}))};o.displayName="ArrowUpOutlined";var c=_.forwardRef(o)},88484:function(L,E,e){e.d(E,{Z:function(){return c}});var m=e(1413),_=e(62435),O={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M400 317.7h73.9V656c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V317.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 163a8 8 0 00-12.6 0l-112 141.7c-4.1 5.3-.4 13 6.3 13zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z"}}]},name:"upload",theme:"outlined"},p=O,f=e(84089),o=function(u,h){return _.createElement(f.Z,(0,m.Z)((0,m.Z)({},u),{},{ref:h,icon:p}))};o.displayName="UploadOutlined";var c=_.forwardRef(o)},12873:function(L,E,e){var m=e(97857),_=e.n(m),O=e(15009),p=e.n(O),f=e(99289),o=e.n(f),c=e(5574),P=e.n(c),u=e(20385),h=e(73403),R=e(88484),B=e(99611),D=e(48689),A=e(13728),v=e(99351),b=e(22538),U=e(90905),I=e(27790),C=e(75527),W=e(69677),j=e(71577),t=e(31365),a=e(26713),s=e(13013),r=e(86738),d=e(62435),n=e(86074),Z=function(T){var F=(0,U.useIntl)(),K=(0,d.useRef)(),z=(0,d.useState)(),x=P()(z,2),y=x[0],V=x[1],G={name:"file",action:u.kE,onChange:function(l){if(l.file.status!=="uploading"&&console.log(l.file,l.fileList),l.file.status==="done"){var i;I.ZP.success("".concat(l.file.name," file uploaded successfully")),(i=K.current)===null||i===void 0||i.reload()}else l.file.status==="error"&&I.ZP.error("".concat(l.file.name," file upload failed."))}},$=function(){var M=o()(p()().mark(function l(){var i,S;return p()().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:if(y){g.next=2;break}return g.abrupt("return");case 2:return g.next=4,(0,u.tg)(y);case 4:i=g.sent,i.succeeded&&(I.ZP.success("Uploaded!"),(S=K.current)===null||S===void 0||S.reload());case 6:case"end":return g.stop()}},l)}));return function(){return M.apply(this,arguments)}}();return(0,n.jsxs)(v.Y,{open:T.open,onOpenChange:T.onOpenChange,onFinish:T.onFinish,submitter:!1,children:[(0,n.jsx)("div",{className:"mb-4",children:(0,n.jsxs)(C.Z,{children:[(0,n.jsx)(C.Z.Item,{href:"",children:(0,n.jsx)(h.Z,{})}),(0,n.jsx)(C.Z.Item,{href:"",children:"Home"})]})}),(0,n.jsxs)(W.Z.Group,{compact:!0,className:"mb-4",children:[(0,n.jsx)(W.Z,{style:{width:"calc(100% - 200px)"},onChange:function(l){return V(l.currentTarget.value)}}),(0,n.jsx)(j.Z,{type:"primary",onClick:$,children:"Quick add"})]}),(0,n.jsx)(b.Rs,{toolBarRender:function(){return[(0,d.createElement)(t.Z,_()(_()({},G),{},{key:0}),(0,n.jsx)(j.Z,{icon:(0,n.jsx)(R.Z,{}),type:"primary",children:"Upload"}))]},headerTitle:F.formatMessage({id:"menu.fileManager"}),request:function(l){return(0,u.V6)(_()({},l),T.type)},rowSelection:{},search:{layout:"vertical"},pagination:{pageSize:5},metas:{title:{dataIndex:"name",title:"Name",render:function(l,i){return(0,n.jsx)("a",{onClick:function(){T.onSelect&&(i.url=new URL(i.url,localStorage.getItem("wf_URL")||"").href,T.onSelect(i))},children:l})}},description:{search:!1,render:function(l,i){return(0,n.jsxs)(a.Z,{children:[(0,n.jsx)("span",{children:i.type}),(0,n.jsx)("span",{children:"|"}),(0,n.jsxs)("span",{children:[(i.size/1024).toFixed(2)," KB"]})]})}},actions:{render:function(l,i){return(0,n.jsx)(s.Z,{menu:{items:[{key:1,label:(0,n.jsxs)(a.Z,{onClick:function(){return U.history.push("/files/center/".concat(i.id))},children:[(0,n.jsx)(B.Z,{}),(0,n.jsx)(U.FormattedMessage,{id:"general.preview"})]})},{key:2,label:(0,n.jsx)(r.Z,{title:"Are you sure?",children:(0,n.jsxs)(a.Z,{children:[(0,n.jsx)(D.Z,{}),"Delete"]})}),danger:!0}]},children:(0,n.jsx)(j.Z,{icon:(0,n.jsx)(A.Z,{}),type:"link",size:"small"})})}}},actionRef:K})]})};E.Z=Z},31832:function(L,E,e){e.r(E);var m=e(5574),_=e.n(m),O=e(12873),p=e(1912),f=e(62884),o=e(22538),c=e(71577),P=e(62435),u=e(86074),h=function(){var B=(0,P.useState)(!1),D=_()(B,2),A=D[0],v=D[1];return(0,u.jsxs)(f._z,{extra:(0,u.jsx)(c.Z,{icon:(0,u.jsx)(p.Z,{}),type:"primary",onClick:function(){return v(!0)},children:"Upload"}),children:[(0,u.jsx)(o.Rs,{}),(0,u.jsx)(O.Z,{open:A,onOpenChange:v})]})};E.default=h},20385:function(L,E,e){e.d(E,{Ah:function(){return h},Cq:function(){return A},V6:function(){return P},kE:function(){return I},tg:function(){return W},z3:function(){return b}});var m=e(15009),_=e.n(m),O=e(97857),p=e.n(O),f=e(99289),o=e.n(f),c=e(90905);function P(t,a,s){return u.apply(this,arguments)}function u(){return u=o()(_()().mark(function t(a,s,r){return _()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,c.request)("fileExplorer/list",p()({method:"GET",params:p()({type:Object.keys(s!=null?s:[]).length>0?s==null?void 0:s.join(","):""},a)},r||{})));case 1:case"end":return n.stop()}},t)})),u.apply(this,arguments)}function h(t){return R.apply(this,arguments)}function R(){return R=o()(_()().mark(function t(a){return _()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,c.request)("fileExplorer/delete-file-content/".concat(a),{method:"POST"}));case 1:case"end":return r.stop()}},t)})),R.apply(this,arguments)}function B(t){return D.apply(this,arguments)}function D(){return D=_asyncToGenerator(_regeneratorRuntime().mark(function t(a){return _regeneratorRuntime().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",request("fileExplorer/delete-file-item",{method:"POST",data:a}));case 1:case"end":return r.stop()}},t)})),D.apply(this,arguments)}function A(t){return v.apply(this,arguments)}function v(){return v=o()(_()().mark(function t(a){return _()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,c.request)("fileExplorer/".concat(a)));case 1:case"end":return r.stop()}},t)})),v.apply(this,arguments)}function b(t,a){return U.apply(this,arguments)}function U(){return U=o()(_()().mark(function t(a,s){return _()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.abrupt("return",(0,c.request)("fileExplorer/file-items/".concat(s.id)));case 1:case"end":return d.stop()}},t)})),U.apply(this,arguments)}function I(t){return C.apply(this,arguments)}function C(){return C=o()(_()().mark(function t(a){var s;return _()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return s=new FormData,s.append("file",a),d.abrupt("return",(0,c.request)("fileExplorer/upload",{method:"POST",data:s}));case 3:case"end":return d.stop()}},t)})),C.apply(this,arguments)}function W(t){return j.apply(this,arguments)}function j(){return j=o()(_()().mark(function t(a){return _()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,c.request)("fileexplorer/upload-from-url",{method:"POST",data:{url:a}}));case 1:case"end":return r.stop()}},t)})),j.apply(this,arguments)}}}]);
