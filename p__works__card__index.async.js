"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[8587],{88484:function(Z,O,e){e.d(O,{Z:function(){return o}});var f=e(1413),s=e(62435),v={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M400 317.7h73.9V656c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V317.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 163a8 8 0 00-12.6 0l-112 141.7c-4.1 5.3-.4 13 6.3 13zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z"}}]},name:"upload",theme:"outlined"},p=v,x=e(84089),l=function(u,E){return s.createElement(x.Z,(0,f.Z)((0,f.Z)({},u),{},{ref:E,icon:p}))};l.displayName="UploadOutlined";var o=s.forwardRef(l)},90672:function(Z,O,e){var f=e(1413),s=e(91),v=e(86074),p=e(62435),x=e(15790),l=["fieldProps","proFieldProps"],o=function(u,E){var r=u.fieldProps,d=u.proFieldProps,c=(0,s.Z)(u,l);return(0,v.jsx)(x.Z,(0,f.Z)({ref:E,valueType:"textarea",fieldProps:r,proFieldProps:d},c))};O.Z=p.forwardRef(o)},5966:function(Z,O,e){var f=e(1413),s=e(91),v=e(86074),p=e(15790),x=["fieldProps","proFieldProps"],l=["fieldProps","proFieldProps"],o="text",M=function(d){var c=d.fieldProps,g=d.proFieldProps,P=(0,s.Z)(d,x);return(0,v.jsx)(p.Z,(0,f.Z)({valueType:o,fieldProps:c,filedConfig:{valueType:o},proFieldProps:g},P))},u=function(d){var c=d.fieldProps,g=d.proFieldProps,P=(0,s.Z)(d,l);return(0,v.jsx)(p.Z,(0,f.Z)({valueType:"password",fieldProps:c,proFieldProps:g,filedConfig:{valueType:o}},P))},E=M;E.Password=u,E.displayName="ProFormComponent",O.Z=E},12873:function(Z,O,e){var f=e(97857),s=e.n(f),v=e(20385),p=e(73403),x=e(88484),l=e(99611),o=e(48689),M=e(13728),u=e(99351),E=e(22538),r=e(90905),d=e(27790),c=e(75527),g=e(31365),P=e(71577),U=e(26713),C=e(13013),y=e(86738),I=e(62435),n=e(86074),i=function(t){var a=(0,r.useIntl)(),F=(0,I.useRef)(),A={name:"file",action:v.kE,onChange:function(h){if(h.file.status!=="uploading"&&console.log(h.file,h.fileList),h.file.status==="done"){var m;d.ZP.success("".concat(h.file.name," file uploaded successfully")),(m=F.current)===null||m===void 0||m.reload()}else h.file.status==="error"&&d.ZP.error("".concat(h.file.name," file upload failed."))}};return(0,n.jsxs)(u.Y,{title:"Select content",open:t.open,onOpenChange:t.onOpenChange,onFinish:t.onFinish,children:[(0,n.jsx)("div",{className:"mb-4",children:(0,n.jsxs)(c.Z,{children:[(0,n.jsx)(c.Z.Item,{href:"",children:(0,n.jsx)(p.Z,{})}),(0,n.jsx)(c.Z.Item,{href:"",children:"Home"})]})}),(0,n.jsx)(E.Rs,{toolBarRender:function(){return[(0,I.createElement)(g.Z,s()(s()({},A),{},{key:0}),(0,n.jsx)(P.Z,{icon:(0,n.jsx)(x.Z,{}),type:"primary",children:"Upload"}))]},headerTitle:a.formatMessage({id:"menu.fileManager"}),request:v.V6,rowSelection:{},search:{layout:"vertical"},pagination:{pageSize:5},metas:{title:{dataIndex:"name",title:"Name",render:function(h,m){return(0,n.jsx)("a",{onClick:function(){t.onSelect&&(m.url=new URL(m.url,localStorage.getItem("wf_URL")||"").href,t.onSelect(m))},children:h})}},description:{search:!1,render:function(h,m){return(0,n.jsxs)(U.Z,{children:[(0,n.jsx)("span",{children:m.type}),(0,n.jsx)("span",{children:"|"}),(0,n.jsxs)("span",{children:[(m.size/1024).toFixed(2)," KB"]})]})}},actions:{render:function(h,m){return(0,n.jsx)(C.Z,{menu:{items:[{key:1,label:(0,n.jsxs)(U.Z,{onClick:function(){return r.history.push("/files/center/".concat(m.id))},children:[(0,n.jsx)(l.Z,{}),(0,n.jsx)(r.FormattedMessage,{id:"general.preview"})]})},{key:2,label:(0,n.jsx)(y.Z,{title:"Are you sure?",children:(0,n.jsxs)(U.Z,{children:[(0,n.jsx)(o.Z,{}),"Delete"]})}),danger:!0}]},children:(0,n.jsx)(P.Z,{icon:(0,n.jsx)(M.Z,{}),type:"link",size:"small"})})}}},actionRef:F})]})};O.Z=i},67721:function(Z,O,e){e.r(O),e.d(O,{default:function(){return m}});var f=e(15009),s=e.n(f),v=e(99289),p=e.n(v),x=e(5574),l=e.n(x),o=e(48689),M=e(86738),u=e(71577),E=e(22850),r=e(86074),d=function(D){var b=function(){D.onRemove&&D.onRemove(D.src)};return(0,r.jsx)("div",{className:"flex",children:(0,r.jsxs)("div",{style:{padding:".5rem 2rem",backgroundColor:"#efefef",position:"relative",width:200,height:150,display:"flex",justifyContent:"center",flexDirection:"column",alignItems:"center"},children:[(0,r.jsx)(M.Z,{title:"Are you sure?",onConfirm:b,children:(0,r.jsx)(u.Z,{icon:(0,r.jsx)(o.Z,{}),size:"small",type:"link",danger:!0,style:{position:"absolute",right:0,top:0}})}),(0,r.jsx)("div",{className:"text-center",children:(0,r.jsx)("img",{style:{maxHeight:180,maxWidth:100},src:D.src.url,alt:D.src.name,onClick:D.onClick,className:"cursor-pointer"})}),(0,r.jsx)(E.Z.Text,{className:"truncate",children:D.src.name})]})})},c=d,g=e(12873),P=e(66352),U=e(62884),C=e(30029),y=e(97269),I=e(15790),n=e(5966),i=e(90672),_=e(90905),t=e(27790),a=e(32983),F=e(71230),A=e(15746),T=e(62435),h=function(){var D=(0,_.useIntl)(),b=(0,_.useParams)(),S=b.id,N=(0,T.useRef)(),Y=(0,T.useState)(!1),V=l()(Y,2),J=V[0],B=V[1],Q=(0,T.useState)(),G=l()(Q,2),z=G[0],H=G[1];(0,T.useEffect)(function(){(0,P.nO)(S).then(function(R){if(R){var j;(j=N.current)===null||j===void 0||j.setFields([{name:"title",value:R.title},{name:"text",value:R.text}]),H(R.image)}})},[S]);var X=function(){var R=p()(s()().mark(function j(L){var $;return s()().wrap(function(W){for(;;)switch(W.prev=W.next){case 0:return L.id=S,L.image=z,W.next=4,(0,P.z_)(L);case 4:$=W.sent,$.succeeded&&t.ZP.success(D.formatMessage({id:"general.saved"}));case 6:case"end":return W.stop()}},j)}));return function(L){return R.apply(this,arguments)}}(),w=function(j){H(j),B(!1)},k=function(){return z?(0,r.jsx)(c,{src:z,onClick:function(){return B(!0)}}):(0,r.jsx)("div",{className:"image-placeholder",onClick:function(){return B(!0)},children:(0,r.jsx)(a.Z,{})})};return(0,r.jsxs)(U._z,{title:D.formatMessage({id:"menu.component.card"}),children:[(0,r.jsxs)(F.Z,{gutter:16,children:[(0,r.jsx)(A.Z,{span:4,children:(0,r.jsx)(C.Z,{title:"Work contents",children:(0,r.jsx)(a.Z,{})})}),(0,r.jsx)(A.Z,{span:12,children:(0,r.jsx)(C.Z,{title:"Content",children:(0,r.jsxs)(y.A,{onFinish:X,formRef:N,children:[(0,r.jsx)(I.Z,{label:"Image",children:k()}),(0,r.jsx)(n.Z,{name:"title",label:"Title"}),(0,r.jsx)(i.Z,{name:"text",label:"Text"})]})})}),(0,r.jsx)(A.Z,{span:8,children:(0,r.jsx)(C.Z,{title:"Preview",children:(0,r.jsx)(a.Z,{})})})]}),(0,r.jsx)(g.Z,{visible:J,onVisibleChange:B,onSelect:w})]})},m=h},20385:function(Z,O,e){e.d(O,{Ah:function(){return E},Cq:function(){return g},V6:function(){return M},kE:function(){return y},z3:function(){return U}});var f=e(15009),s=e.n(f),v=e(97857),p=e.n(v),x=e(99289),l=e.n(x),o=e(90905);function M(n,i){return u.apply(this,arguments)}function u(){return u=l()(s()().mark(function n(i,_){return s()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,o.request)("fileExplorer/list",p()({method:"GET",params:p()({},i)},_||{})));case 1:case"end":return a.stop()}},n)})),u.apply(this,arguments)}function E(n){return r.apply(this,arguments)}function r(){return r=l()(s()().mark(function n(i){return s()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,o.request)("fileExplorer/delete-file-content/".concat(i),{method:"POST"}));case 1:case"end":return t.stop()}},n)})),r.apply(this,arguments)}function d(n){return c.apply(this,arguments)}function c(){return c=_asyncToGenerator(_regeneratorRuntime().mark(function n(i){return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",request("fileExplorer/delete-file-item",{method:"POST",data:i}));case 1:case"end":return t.stop()}},n)})),c.apply(this,arguments)}function g(n){return P.apply(this,arguments)}function P(){return P=l()(s()().mark(function n(i){return s()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,o.request)("fileExplorer/".concat(i)));case 1:case"end":return t.stop()}},n)})),P.apply(this,arguments)}function U(n,i){return C.apply(this,arguments)}function C(){return C=l()(s()().mark(function n(i,_){return s()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,o.request)("fileExplorer/file-items/".concat(_.id)));case 1:case"end":return a.stop()}},n)})),C.apply(this,arguments)}function y(n){return I.apply(this,arguments)}function I(){return I=l()(s()().mark(function n(i){var _;return s()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return _=new FormData,_.append("file",i),a.abrupt("return",(0,o.request)("fileExplorer/upload",{method:"POST",data:_}));case 3:case"end":return a.stop()}},n)})),I.apply(this,arguments)}}}]);
