"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[8587],{14361:function(A,f,e){var o=e(1413),r=e(62435),h=e(3843),m=e(91146),_=function(i,p){return r.createElement(m.Z,(0,o.Z)((0,o.Z)({},i),{},{ref:p,icon:h.Z}))};_.displayName="BarsOutlined",f.Z=r.forwardRef(_)},82061:function(A,f,e){var o=e(1413),r=e(62435),h=e(47046),m=e(91146),_=function(i,p){return r.createElement(m.Z,(0,o.Z)((0,o.Z)({},i),{},{ref:p,icon:h.Z}))};_.displayName="DeleteOutlined",f.Z=r.forwardRef(_)},55287:function(A,f,e){var o=e(1413),r=e(62435),h=e(5717),m=e(91146),_=function(i,p){return r.createElement(m.Z,(0,o.Z)((0,o.Z)({},i),{},{ref:p,icon:h.Z}))};_.displayName="EyeOutlined",f.Z=r.forwardRef(_)},88484:function(A,f,e){e.d(f,{Z:function(){return i}});var o=e(1413),r=e(62435),h={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M400 317.7h73.9V656c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V317.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 163a8 8 0 00-12.6 0l-112 141.7c-4.1 5.3-.4 13 6.3 13zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z"}}]},name:"upload",theme:"outlined"},m=h,_=e(91146),u=function(P,j){return r.createElement(_.Z,(0,o.Z)((0,o.Z)({},P),{},{ref:j,icon:m}))};u.displayName="UploadOutlined";var i=r.forwardRef(u)},90672:function(A,f,e){var o=e(1413),r=e(91),h=e(62435),m=e(19617),_=e(86074),u=["fieldProps","proFieldProps"],i=function(P,j){var n=P.fieldProps,W=P.proFieldProps,O=(0,r.Z)(P,u);return(0,_.jsx)(m.Z,(0,o.Z)({ref:j,valueType:"textarea",fieldProps:n,proFieldProps:W},O))};f.Z=h.forwardRef(i)},5966:function(A,f,e){var o=e(1413),r=e(91),h=e(62435),m=e(19617),_=e(86074),u=["fieldProps","proFieldProps"],i=["fieldProps","proFieldProps"],p="text",P=function(O){var T=O.fieldProps,D=O.proFieldProps,R=(0,r.Z)(O,u);return(0,_.jsx)(m.Z,(0,o.Z)({valueType:p,fieldProps:T,filedConfig:{valueType:p},proFieldProps:D},R))},j=function(O){var T=O.fieldProps,D=O.proFieldProps,R=(0,r.Z)(O,i);return(0,_.jsx)(m.Z,(0,o.Z)({valueType:"password",fieldProps:T,proFieldProps:D,filedConfig:{valueType:p}},R))},n=P;n.Password=j,n.displayName="ProFormComponent",f.Z=n},12873:function(A,f,e){var o=e(97857),r=e.n(o),h=e(15009),m=e.n(h),_=e(99289),u=e.n(_),i=e(5574),p=e.n(i),P=e(20385),j=e(73403),n=e(88484),W=e(55287),O=e(82061),T=e(14361),D=e(93933),R=e(16309),g=e(35312),K=e(27790),I=e(85673),b=e(96365),U=e(71577),a=e(65419),c=e(42075),l=e(85418),s=e(86738),v=e(62435),t=e(86074),Q=function(B){var M=(0,g.useIntl)(),F=(0,v.useRef)(),S=(0,v.useState)(),z=p()(S,2),V=z[0],$=z[1],Y={name:"file",action:P.kE,onChange:function(d){if(d.file.status!=="uploading"&&console.log(d.file,d.fileList),d.file.status==="done"){var E;K.ZP.success("".concat(d.file.name," file uploaded successfully")),(E=F.current)===null||E===void 0||E.reload()}else d.file.status==="error"&&K.ZP.error("".concat(d.file.name," file upload failed."))}},N=function(){var C=u()(m()().mark(function d(){var E,y;return m()().wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:if(V){Z.next=2;break}return Z.abrupt("return");case 2:return Z.next=4,(0,P.tg)(V);case 4:E=Z.sent,E.succeeded&&(K.ZP.success("Uploaded!"),(y=F.current)===null||y===void 0||y.reload());case 6:case"end":return Z.stop()}},d)}));return function(){return C.apply(this,arguments)}}();return(0,t.jsxs)(D.Y,{open:B.open,onOpenChange:B.onOpenChange,onFinish:B.onFinish,submitter:!1,children:[(0,t.jsx)("div",{className:"mb-4",children:(0,t.jsxs)(I.Z,{children:[(0,t.jsx)(I.Z.Item,{href:"",children:(0,t.jsx)(j.Z,{})}),(0,t.jsx)(I.Z.Item,{href:"",children:"Home"})]})}),(0,t.jsxs)(b.Z.Group,{compact:!0,className:"mb-4",children:[(0,t.jsx)(b.Z,{style:{width:"calc(100% - 200px)"},onChange:function(d){return $(d.currentTarget.value)}}),(0,t.jsx)(U.ZP,{type:"primary",onClick:N,children:"Quick add"})]}),(0,t.jsx)(R.Rs,{toolBarRender:function(){return[(0,v.createElement)(a.Z,r()(r()({},Y),{},{key:0}),(0,t.jsx)(U.ZP,{icon:(0,t.jsx)(n.Z,{}),type:"primary",children:"Upload"}))]},headerTitle:M.formatMessage({id:"menu.fileManager"}),request:function(d){return(0,P.V6)(r()({},d),B.type)},rowSelection:{},search:{layout:"vertical"},pagination:{pageSize:5},metas:{title:{dataIndex:"name",title:"Name",render:function(d,E){return(0,t.jsx)("a",{onClick:function(){B.onSelect&&(E.url=new URL(E.url,localStorage.getItem("wf_URL")||"").href,B.onSelect(E))},children:d})}},description:{search:!1,render:function(d,E){return(0,t.jsxs)(c.Z,{children:[(0,t.jsx)("span",{children:E.type}),(0,t.jsx)("span",{children:"|"}),(0,t.jsxs)("span",{children:[(E.size/1024).toFixed(2)," KB"]})]})}},actions:{render:function(d,E){return(0,t.jsx)(l.Z,{menu:{items:[{key:1,label:(0,t.jsxs)(c.Z,{onClick:function(){return g.history.push("/files/center/".concat(E.id))},children:[(0,t.jsx)(W.Z,{}),(0,t.jsx)(g.FormattedMessage,{id:"general.preview"})]})},{key:2,label:(0,t.jsx)(s.Z,{title:"Are you sure?",children:(0,t.jsxs)(c.Z,{children:[(0,t.jsx)(O.Z,{}),"Delete"]})}),danger:!0}]},children:(0,t.jsx)(U.ZP,{icon:(0,t.jsx)(T.Z,{}),type:"link",size:"small"})})}}},actionRef:F})]})};f.Z=Q},67721:function(A,f,e){e.r(f),e.d(f,{default:function(){return J}});var o=e(15009),r=e.n(o),h=e(99289),m=e.n(h),_=e(5574),u=e.n(_),i=e(82061),p=e(86738),P=e(71577),j=e(25514),n=e(86074),W=function(M){var F=function(){M.onRemove&&M.onRemove(M.src)};return(0,n.jsx)("div",{className:"flex",children:(0,n.jsxs)("div",{style:{padding:".5rem 2rem",backgroundColor:"#efefef",position:"relative",width:200,height:150,display:"flex",justifyContent:"center",flexDirection:"column",alignItems:"center"},children:[(0,n.jsx)(p.Z,{title:"Are you sure?",onConfirm:F,children:(0,n.jsx)(P.ZP,{icon:(0,n.jsx)(i.Z,{}),size:"small",type:"link",danger:!0,style:{position:"absolute",right:0,top:0}})}),(0,n.jsx)("div",{className:"text-center",children:(0,n.jsx)("img",{style:{maxHeight:180,maxWidth:100},src:M.src.url,alt:M.src.name,onClick:M.onClick,className:"cursor-pointer"})}),(0,n.jsx)(j.Z.Text,{className:"truncate",children:M.src.name})]})})},O=W,T=e(12873),D=e(66352),R=e(63386),g=e(28199),K=e(34994),I=e(19617),b=e(5966),U=e(90672),a=e(35312),c=e(27790),l=e(32983),s=e(71230),v=e(15746),t=e(62435),Q=function(){var M=(0,a.useIntl)(),F=(0,a.useParams)(),S=F.id,z=(0,t.useRef)(),V=(0,t.useState)(!1),$=u()(V,2),Y=$[0],N=$[1],C=(0,t.useState)(),d=u()(C,2),E=d[0],y=d[1];(0,t.useEffect)(function(){(0,D.nO)(S).then(function(L){if(L){var x;(x=z.current)===null||x===void 0||x.setFields([{name:"title",value:L.title},{name:"text",value:L.text}]),y(L.image)}})},[S]);var X=function(){var L=m()(r()().mark(function x(H){var w;return r()().wrap(function(G){for(;;)switch(G.prev=G.next){case 0:return H.id=S,H.image=E,G.next=4,(0,D.z_)(H);case 4:w=G.sent,w.succeeded&&c.ZP.success(M.formatMessage({id:"general.saved"}));case 6:case"end":return G.stop()}},x)}));return function(H){return L.apply(this,arguments)}}(),Z=function(x){y(x),N(!1)},k=function(){return E?(0,n.jsx)(O,{src:E,onClick:function(){return N(!0)}}):(0,n.jsx)("div",{className:"image-placeholder",onClick:function(){return N(!0)},children:(0,n.jsx)(l.Z,{})})};return(0,n.jsxs)(R._z,{title:M.formatMessage({id:"menu.component.card"}),children:[(0,n.jsxs)(s.Z,{gutter:16,children:[(0,n.jsx)(v.Z,{span:4,children:(0,n.jsx)(g.Z,{title:"Work contents",children:(0,n.jsx)(l.Z,{})})}),(0,n.jsx)(v.Z,{span:12,children:(0,n.jsx)(g.Z,{title:"Content",children:(0,n.jsxs)(K.A,{onFinish:X,formRef:z,children:[(0,n.jsx)(I.Z,{label:"Image",children:k()}),(0,n.jsx)(b.Z,{name:"title",label:"Title"}),(0,n.jsx)(U.Z,{name:"text",label:"Text"})]})})}),(0,n.jsx)(v.Z,{span:8,children:(0,n.jsx)(g.Z,{title:"Preview",children:(0,n.jsx)(l.Z,{})})})]}),(0,n.jsx)(T.Z,{open:Y,onOpenChange:N,onSelect:Z})]})},J=Q},20385:function(A,f,e){e.d(f,{Ah:function(){return j},Cq:function(){return T},V6:function(){return p},kE:function(){return K},tg:function(){return b},z3:function(){return R}});var o=e(15009),r=e.n(o),h=e(97857),m=e.n(h),_=e(99289),u=e.n(_),i=e(35312);function p(a,c,l){return P.apply(this,arguments)}function P(){return P=u()(r()().mark(function a(c,l,s){return r()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,i.request)("fileExplorer/list",m()({method:"GET",params:m()({type:Object.keys(l!=null?l:[]).length>0?l==null?void 0:l.join(","):""},c)},s||{})));case 1:case"end":return t.stop()}},a)})),P.apply(this,arguments)}function j(a){return n.apply(this,arguments)}function n(){return n=u()(r()().mark(function a(c){return r()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",(0,i.request)("fileExplorer/delete-file-content/".concat(c),{method:"POST"}));case 1:case"end":return s.stop()}},a)})),n.apply(this,arguments)}function W(a){return O.apply(this,arguments)}function O(){return O=_asyncToGenerator(_regeneratorRuntime().mark(function a(c){return _regeneratorRuntime().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",request("fileExplorer/delete-file-item",{method:"POST",data:c}));case 1:case"end":return s.stop()}},a)})),O.apply(this,arguments)}function T(a){return D.apply(this,arguments)}function D(){return D=u()(r()().mark(function a(c){return r()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",(0,i.request)("fileExplorer/".concat(c)));case 1:case"end":return s.stop()}},a)})),D.apply(this,arguments)}function R(a,c){return g.apply(this,arguments)}function g(){return g=u()(r()().mark(function a(c,l){return r()().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return v.abrupt("return",(0,i.request)("fileExplorer/file-items/".concat(l.id)));case 1:case"end":return v.stop()}},a)})),g.apply(this,arguments)}function K(a){return I.apply(this,arguments)}function I(){return I=u()(r()().mark(function a(c){var l;return r()().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return l=new FormData,l.append("file",c),v.abrupt("return",(0,i.request)("fileExplorer/upload",{method:"POST",data:l}));case 3:case"end":return v.stop()}},a)})),I.apply(this,arguments)}function b(a){return U.apply(this,arguments)}function U(){return U=u()(r()().mark(function a(c){return r()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",(0,i.request)("fileexplorer/upload-from-url",{method:"POST",data:{url:c}}));case 1:case"end":return s.stop()}},a)})),U.apply(this,arguments)}}}]);
