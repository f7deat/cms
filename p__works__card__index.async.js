"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[8587],{88484:function(U,E,e){e.d(E,{Z:function(){return i}});var _=e(1413),s=e(62435),f={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M400 317.7h73.9V656c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V317.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 163a8 8 0 00-12.6 0l-112 141.7c-4.1 5.3-.4 13 6.3 13zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z"}}]},name:"upload",theme:"outlined"},v=f,O=e(84089),o=function(c,p){return s.createElement(O.Z,(0,_.Z)((0,_.Z)({},c),{},{ref:p,icon:v}))};o.displayName="UploadOutlined";var i=s.forwardRef(o)},90672:function(U,E,e){var _=e(1413),s=e(91),f=e(86074),v=e(62435),O=e(15790),o=["fieldProps","proFieldProps"],i=function(c,p){var n=c.fieldProps,d=c.proFieldProps,P=(0,s.Z)(c,o);return(0,f.jsx)(O.Z,(0,_.Z)({ref:p,valueType:"textarea",fieldProps:n,proFieldProps:d},P))};E.Z=v.forwardRef(i)},5966:function(U,E,e){var _=e(1413),s=e(91),f=e(86074),v=e(15790),O=["fieldProps","proFieldProps"],o=["fieldProps","proFieldProps"],i="text",C=function(d){var P=d.fieldProps,x=d.proFieldProps,h=(0,s.Z)(d,O);return(0,f.jsx)(v.Z,(0,_.Z)({valueType:i,fieldProps:P,filedConfig:{valueType:i},proFieldProps:x},h))},c=function(d){var P=d.fieldProps,x=d.proFieldProps,h=(0,s.Z)(d,o);return(0,f.jsx)(v.Z,(0,_.Z)({valueType:"password",fieldProps:P,proFieldProps:x,filedConfig:{valueType:i}},h))},p=C;p.Password=c,p.displayName="ProFormComponent",E.Z=p},12873:function(U,E,e){var _=e(97857),s=e.n(_),f=e(20385),v=e(73403),O=e(88484),o=e(13728),i=e(99351),C=e(30029),c=e(22538),p=e(69677),n=e(27790),d=e(75527),P=e(31365),x=e(71577),h=e(62435),l=e(86074),g=p.Z.Search,R=function(t){var u=(0,h.useRef)(),m={name:"file",action:f.kE,onChange:function(r){if(r.file.status!=="uploading"&&console.log(r.file,r.fileList),r.file.status==="done"){var M;n.ZP.success("".concat(r.file.name," file uploaded successfully")),(M=u.current)===null||M===void 0||M.reload()}else r.file.status==="error"&&n.ZP.error("".concat(r.file.name," file upload failed."))}};return(0,l.jsxs)(i.Y,{title:"Select content",open:t.open,onOpenChange:t.onOpenChange,onFinish:t.onFinish,children:[(0,l.jsx)("div",{className:"mb-4",children:(0,l.jsxs)(d.Z,{children:[(0,l.jsx)(d.Z.Item,{href:"",children:(0,l.jsx)(v.Z,{})}),(0,l.jsx)(d.Z.Item,{href:"",children:"Home"})]})}),(0,l.jsxs)(C.Z,{title:"List",extra:(0,l.jsx)(P.Z,s()(s()({},m),{},{children:(0,l.jsx)(x.Z,{icon:(0,l.jsx)(O.Z,{}),type:"primary",children:"Upload"})})),children:[(0,l.jsx)(g,{}),(0,l.jsx)(c.Rs,{request:f.V6,rowSelection:{},metas:{title:{dataIndex:"name",render:function(r,M){return(0,l.jsx)(x.Z,{type:"link",size:"small",onClick:function(){t.onSelect&&(M.url=new URL(M.url,localStorage.getItem("wf_URL")||"").href,t.onSelect(M))},children:r})}},actions:{render:function(){return(0,l.jsx)(x.Z,{icon:(0,l.jsx)(o.Z,{}),type:"link",size:"small"})}}},actionRef:u})]})]})};E.Z=R},67721:function(U,E,e){e.r(E),e.d(E,{default:function(){return H}});var _=e(15009),s=e.n(_),f=e(99289),v=e.n(f),O=e(5574),o=e.n(O),i=e(48689),C=e(86738),c=e(71577),p=e(22850),n=e(86074),d=function(D){var L=function(){D.onRemove&&D.onRemove(D.src)};return(0,n.jsx)("div",{className:"flex",children:(0,n.jsxs)("div",{style:{padding:".5rem 2rem",backgroundColor:"#efefef",position:"relative",width:200,height:150,display:"flex",justifyContent:"center",flexDirection:"column",alignItems:"center"},children:[(0,n.jsx)(C.Z,{title:"Are you sure?",onConfirm:L,children:(0,n.jsx)(c.Z,{icon:(0,n.jsx)(i.Z,{}),size:"small",type:"link",danger:!0,style:{position:"absolute",right:0,top:0}})}),(0,n.jsx)("div",{className:"text-center",children:(0,n.jsx)("img",{style:{maxHeight:180,maxWidth:100},src:D.src.url,alt:D.src.name,onClick:D.onClick,className:"cursor-pointer"})}),(0,n.jsx)(p.Z.Text,{className:"truncate",children:D.src.name})]})})},P=d,x=e(12873),h=e(66352),l=e(62884),g=e(30029),R=e(97269),I=e(15790),t=e(5966),u=e(90672),m=e(90905),a=e(27790),r=e(32983),M=e(71230),S=e(15746),y=e(62435),G=function(){var D=(0,m.useIntl)(),L=(0,m.useParams)(),A=L.id,K=(0,y.useRef)(),Y=(0,y.useState)(!1),b=o()(Y,2),J=b[0],F=b[1],Q=(0,y.useState)(),z=o()(Q,2),B=z[0],N=z[1];(0,y.useEffect)(function(){(0,h.nO)(A).then(function(T){if(T){var j;(j=K.current)===null||j===void 0||j.setFields([{name:"title",value:T.title},{name:"text",value:T.text}]),N(T.image)}})},[A]);var X=function(){var T=v()(s()().mark(function j(W){var V;return s()().wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:return W.id=A,W.image=B,Z.next=4,(0,h.z_)(W);case 4:V=Z.sent,V.succeeded&&a.ZP.success(D.formatMessage({id:"general.saved"}));case 6:case"end":return Z.stop()}},j)}));return function(W){return T.apply(this,arguments)}}(),w=function(j){N(j),F(!1)},k=function(){return B?(0,n.jsx)(P,{src:B,onClick:function(){return F(!0)}}):(0,n.jsx)("div",{className:"image-placeholder",onClick:function(){return F(!0)},children:(0,n.jsx)(r.Z,{})})};return(0,n.jsxs)(l._z,{title:D.formatMessage({id:"menu.component.card"}),children:[(0,n.jsxs)(M.Z,{gutter:16,children:[(0,n.jsx)(S.Z,{span:4,children:(0,n.jsx)(g.Z,{title:"Work contents",children:(0,n.jsx)(r.Z,{})})}),(0,n.jsx)(S.Z,{span:12,children:(0,n.jsx)(g.Z,{title:"Content",children:(0,n.jsxs)(R.A,{onFinish:X,formRef:K,children:[(0,n.jsx)(I.Z,{label:"Image",children:k()}),(0,n.jsx)(t.Z,{name:"title",label:"Title"}),(0,n.jsx)(u.Z,{name:"text",label:"Text"})]})})}),(0,n.jsx)(S.Z,{span:8,children:(0,n.jsx)(g.Z,{title:"Preview",children:(0,n.jsx)(r.Z,{})})})]}),(0,n.jsx)(x.Z,{visible:J,onVisibleChange:F,onSelect:w})]})},H=G},20385:function(U,E,e){e.d(E,{Ah:function(){return p},Cq:function(){return x},V6:function(){return C},kE:function(){return R},z3:function(){return l}});var _=e(15009),s=e.n(_),f=e(97857),v=e.n(f),O=e(99289),o=e.n(O),i=e(90905);function C(t,u){return c.apply(this,arguments)}function c(){return c=o()(s()().mark(function t(u,m){return s()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,i.request)("fileExplorer/list",v()({method:"GET",params:v()({},u)},m||{})));case 1:case"end":return r.stop()}},t)})),c.apply(this,arguments)}function p(t){return n.apply(this,arguments)}function n(){return n=o()(s()().mark(function t(u){return s()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,i.request)("fileExplorer/delete-file-content/".concat(u),{method:"POST"}));case 1:case"end":return a.stop()}},t)})),n.apply(this,arguments)}function d(t){return P.apply(this,arguments)}function P(){return P=_asyncToGenerator(_regeneratorRuntime().mark(function t(u){return _regeneratorRuntime().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",request("fileExplorer/delete-file-item",{method:"POST",data:u}));case 1:case"end":return a.stop()}},t)})),P.apply(this,arguments)}function x(t){return h.apply(this,arguments)}function h(){return h=o()(s()().mark(function t(u){return s()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,i.request)("fileExplorer/".concat(u)));case 1:case"end":return a.stop()}},t)})),h.apply(this,arguments)}function l(t,u){return g.apply(this,arguments)}function g(){return g=o()(s()().mark(function t(u,m){return s()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,i.request)("fileExplorer/file-items/".concat(m.id)));case 1:case"end":return r.stop()}},t)})),g.apply(this,arguments)}function R(t){return I.apply(this,arguments)}function I(){return I=o()(s()().mark(function t(u){var m;return s()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return m=new FormData,m.append("file",u),r.abrupt("return",(0,i.request)("fileExplorer/upload",{method:"POST",data:m}));case 3:case"end":return r.stop()}},t)})),I.apply(this,arguments)}}}]);
