"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[8587],{14361:function(j,m,e){var a=e(1413),n=e(62435),v=e(3843),c=e(91146),l=function(o,f){return n.createElement(c.Z,(0,a.Z)((0,a.Z)({},o),{},{ref:f,icon:v.Z}))};l.displayName="BarsOutlined",m.Z=n.forwardRef(l)},82061:function(j,m,e){var a=e(1413),n=e(62435),v=e(47046),c=e(91146),l=function(o,f){return n.createElement(c.Z,(0,a.Z)((0,a.Z)({},o),{},{ref:f,icon:v.Z}))};l.displayName="DeleteOutlined",m.Z=n.forwardRef(l)},55287:function(j,m,e){var a=e(1413),n=e(62435),v=e(5717),c=e(91146),l=function(o,f){return n.createElement(c.Z,(0,a.Z)((0,a.Z)({},o),{},{ref:f,icon:v.Z}))};l.displayName="EyeOutlined",m.Z=n.forwardRef(l)},89050:function(j,m,e){e.d(m,{Z:function(){return o}});var a=e(1413),n=e(62435),v={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M551.5 490.5H521c-4.6 0-8.4 3.7-8.4 8.4V720c0 4.6 3.7 8.4 8.4 8.4h30.5c4.6 0 8.4-3.7 8.4-8.4V498.9c-.1-4.6-3.8-8.4-8.4-8.4zM477.3 600h-88.1c-4.6 0-8.4 3.7-8.4 8.4v23.8c0 4.6 3.7 8.4 8.4 8.4h47.6v.7c-.6 29.9-23 49.8-56.5 49.8-39.2 0-63.6-30.7-63.6-81.4 0-50.1 23.9-80.6 62.3-80.6 28.1 0 47.5 13.5 55.4 38.3l.9 2.8h49.2l-.7-4.6C475.9 515.9 434.7 484 379 484c-68.8 0-113 49.4-113 125.9 0 77.5 43.7 126.1 113.6 126.1 64.4 0 106-40.3 106-102.9v-24.8c0-4.6-3.7-8.3-8.3-8.3z"}},{tag:"path",attrs:{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM602 137.8L790.2 326H602V137.8zM792 888H232V136h302v216a42 42 0 0042 42h216v494z"}},{tag:"path",attrs:{d:"M608.2 727.8h32.3c4.6 0 8.4-3.7 8.4-8.4v-84.8h87.8c4.6 0 8.4-3.7 8.4-8.4v-25.5c0-4.6-3.7-8.4-8.4-8.4h-87.8v-58.9h96.8c4.6 0 8.4-3.7 8.4-8.4v-26.8c0-4.6-3.7-8.4-8.4-8.4H608.2c-4.6 0-8.4 3.7-8.4 8.4v221.1c0 4.8 3.8 8.5 8.4 8.5z"}}]},name:"file-gif",theme:"outlined"},c=v,l=e(91146),s=function(i,E){return n.createElement(l.Z,(0,a.Z)((0,a.Z)({},i),{},{ref:E,icon:c}))};s.displayName="FileGifOutlined";var o=n.forwardRef(s)},15245:function(j,m,e){e.d(m,{Z:function(){return o}});var a=e(1413),n=e(62435),v={icon:function(i,E){return{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M534 352V136H232v752h560V394H576a42 42 0 01-42-42zm-134 50c22.1 0 40 17.9 40 40s-17.9 40-40 40-40-17.9-40-40 17.9-40 40-40zm296 294H328.1c-6.7 0-10.4-7.7-6.3-12.9l99.8-127.2a8 8 0 0112.6 0l41.1 52.4 77.8-99.2a8.1 8.1 0 0112.7 0l136.5 174c4.1 5.2.4 12.9-6.3 12.9z",fill:E}},{tag:"path",attrs:{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM602 137.8L790.2 326H602V137.8zM792 888H232V136h302v216a42 42 0 0042 42h216v494z",fill:i}},{tag:"path",attrs:{d:"M553.1 509.1l-77.8 99.2-41.1-52.4a8 8 0 00-12.6 0l-99.8 127.2a7.98 7.98 0 006.3 12.9H696c6.7 0 10.4-7.7 6.3-12.9l-136.5-174a8.1 8.1 0 00-12.7 0zM360 442a40 40 0 1080 0 40 40 0 10-80 0z",fill:i}}]}},name:"file-image",theme:"twotone"},c=v,l=e(91146),s=function(i,E){return n.createElement(l.Z,(0,a.Z)((0,a.Z)({},i),{},{ref:E,icon:c}))};s.displayName="FileImageTwoTone";var o=n.forwardRef(s)},55555:function(j,m,e){e.d(m,{Z:function(){return o}});var a=e(1413),n=e(62435),v={icon:function(i,E){return{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M534 352V136H232v752h560V394H576a42 42 0 01-42-42zm-22 322c0 4.4-3.6 8-8 8H320c-4.4 0-8-3.6-8-8v-48c0-4.4 3.6-8 8-8h184c4.4 0 8 3.6 8 8v48zm200-184v48c0 4.4-3.6 8-8 8H320c-4.4 0-8-3.6-8-8v-48c0-4.4 3.6-8 8-8h384c4.4 0 8 3.6 8 8z",fill:E}},{tag:"path",attrs:{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM602 137.8L790.2 326H602V137.8zM792 888H232V136h302v216a42 42 0 0042 42h216v494z",fill:i}},{tag:"path",attrs:{d:"M312 490v48c0 4.4 3.6 8 8 8h384c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H320c-4.4 0-8 3.6-8 8zm192 128H320c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h184c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8z",fill:i}}]}},name:"file-text",theme:"twotone"},c=v,l=e(91146),s=function(i,E){return n.createElement(l.Z,(0,a.Z)((0,a.Z)({},i),{},{ref:E,icon:c}))};s.displayName="FileTextTwoTone";var o=n.forwardRef(s)},88484:function(j,m,e){e.d(m,{Z:function(){return o}});var a=e(1413),n=e(62435),v={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M400 317.7h73.9V656c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V317.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 163a8 8 0 00-12.6 0l-112 141.7c-4.1 5.3-.4 13 6.3 13zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z"}}]},name:"upload",theme:"outlined"},c=v,l=e(91146),s=function(i,E){return n.createElement(l.Z,(0,a.Z)((0,a.Z)({},i),{},{ref:E,icon:c}))};s.displayName="UploadOutlined";var o=n.forwardRef(s)},90672:function(j,m,e){var a=e(1413),n=e(91),v=e(62435),c=e(96987),l=e(86074),s=["fieldProps","proFieldProps"],o=function(i,E){var M=i.fieldProps,r=i.proFieldProps,P=(0,n.Z)(i,s);return(0,l.jsx)(c.Z,(0,a.Z)({ref:E,valueType:"textarea",fieldProps:M,proFieldProps:r},P))};m.Z=v.forwardRef(o)},5966:function(j,m,e){var a=e(1413),n=e(91),v=e(62435),c=e(96987),l=e(86074),s=["fieldProps","proFieldProps"],o=["fieldProps","proFieldProps"],f="text",i=function(P){var C=P.fieldProps,O=P.proFieldProps,I=(0,n.Z)(P,s);return(0,l.jsx)(c.Z,(0,a.Z)({valueType:f,fieldProps:C,filedConfig:{valueType:f},proFieldProps:O},I))},E=function(P){var C=P.fieldProps,O=P.proFieldProps,I=(0,n.Z)(P,o);return(0,l.jsx)(c.Z,(0,a.Z)({valueType:"password",fieldProps:C,proFieldProps:O,filedConfig:{valueType:f}},I))},M=i;M.Password=E,M.displayName="ProFormComponent",m.Z=M},77198:function(j,m,e){var a=e(97857),n=e.n(a),v=e(5574),c=e.n(v),l=e(20385),s=e(15245),o=e(89050),f=e(55555),i=e(55287),E=e(82061),M=e(14361),r=e(73403),P=e(88484),C=e(30009),O=e(35312),I=e(58301),R=e(85418),L=e(93421),B=e(86738),U=e(71577),y=e(98366),u=e(71230),h=e(15746),_=e(85673),d=e(96365),p=e(65419),T=e(62435),t=e(86074),G=function(D){var z=(0,O.useIntl)(),F=(0,T.useRef)(),H=(0,T.useState)(),V=c()(H,2),$=V[0],X=V[1],K={name:"file",action:l.kE,onChange:function(x){if(x.file.status!=="uploading"&&console.log(x.file,x.fileList),x.file.status==="done"){var W;I.ZP.success("".concat(x.file.name," file uploaded successfully")),(W=F.current)===null||W===void 0||W.reload()}else x.file.status==="error"&&I.ZP.error("".concat(x.file.name," file upload failed."))}},J=[{key:"images",name:"Images",icon:(0,t.jsx)(s.Z,{twoToneColor:"#eb2f96"})},{key:"videos",name:"Videos",icon:(0,t.jsx)(o.Z,{})},{key:"text",name:"Documents",icon:(0,t.jsx)(f.Z,{twoToneColor:"#52c41a"})}],b=[{title:"#",valueType:"indexBorder"},{title:"Name",dataIndex:"name"},{title:"Date modified",dataIndex:"modifiedDate"},{title:"Type",dataIndex:"type"},{title:"Size",dataIndex:"size"},{title:"Action",render:function(x,W){return(0,t.jsx)(R.Z,{menu:{items:[{key:1,label:(0,t.jsxs)(L.Z,{onClick:function(){return O.history.push("/files/center/".concat(W.id))},children:[(0,t.jsx)(i.Z,{}),(0,t.jsx)(O.FormattedMessage,{id:"general.preview"})]})},{key:2,label:(0,t.jsx)(B.Z,{title:"Are you sure?",children:(0,t.jsxs)(L.Z,{children:[(0,t.jsx)(E.Z,{}),"Delete"]})}),danger:!0}]},children:(0,t.jsx)(U.ZP,{icon:(0,t.jsx)(M.Z,{}),type:"link",size:"small"})})}}];return(0,t.jsxs)(y.Z,{title:"File Explorer",open:D.open,onCancel:function(){return D.onOpenChange()},centered:!0,width:1100,footer:!1,children:[(0,t.jsx)("div",{className:"mb-4",children:(0,t.jsxs)(u.Z,{gutter:16,children:[(0,t.jsx)(h.Z,{span:4}),(0,t.jsx)(h.Z,{span:20,children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)(_.Z,{children:[(0,t.jsx)(_.Z.Item,{href:"",children:(0,t.jsx)(r.Z,{})}),(0,t.jsx)(_.Z.Item,{href:"",children:"Home"})]}),(0,t.jsx)("div",{children:(0,t.jsx)(d.Z.Search,{placeholder:"Search"})})]})})]})}),(0,t.jsxs)(u.Z,{gutter:16,children:[(0,t.jsx)(h.Z,{span:4,style:{borderRight:"1px solid #d1d1d1"},children:J.map(function(g){return(0,t.jsx)("div",{className:"hover-light",children:(0,t.jsx)(U.ZP,{type:"link",icon:g.icon,children:g.name})},g.key)})}),(0,t.jsx)(h.Z,{span:20,children:(0,t.jsx)(C.Z,{rowSelection:{},toolBarRender:function(){return[(0,T.createElement)(p.Z,n()(n()({},K),{},{key:0}),(0,t.jsx)(U.ZP,{icon:(0,t.jsx)(P.Z,{}),type:"primary",children:"Upload"}))]},search:!1,columns:b,request:function(x){return(0,l.V6)(n()({},x),D.type)},pagination:{defaultPageSize:8},actionRef:F})})]})]})};m.Z=G},67721:function(j,m,e){e.r(m),e.d(m,{default:function(){return G}});var a=e(15009),n=e.n(a),v=e(99289),c=e.n(v),l=e(5574),s=e.n(l),o=e(77198),f=e(82061),i=e(86738),E=e(71577),M=e(25514),r=e(86074),P=function(D){var z=function(){D.onRemove&&D.onRemove(D.src)};return(0,r.jsx)("div",{className:"flex",children:(0,r.jsxs)("div",{style:{padding:".5rem 2rem",backgroundColor:"#efefef",position:"relative",width:200,height:150,display:"flex",justifyContent:"center",flexDirection:"column",alignItems:"center"},children:[(0,r.jsx)(i.Z,{title:"Are you sure?",onConfirm:z,children:(0,r.jsx)(E.ZP,{icon:(0,r.jsx)(f.Z,{}),size:"small",type:"link",danger:!0,style:{position:"absolute",right:0,top:0}})}),(0,r.jsx)("div",{className:"text-center",children:(0,r.jsx)("img",{style:{maxHeight:180,maxWidth:100},src:D.src.url,alt:D.src.name,onClick:D.onClick,className:"cursor-pointer"})}),(0,r.jsx)(M.Z.Text,{className:"truncate",children:D.src.name})]})})},C=P,O=e(66352),I=e(63386),R=e(28199),L=e(34994),B=e(96987),U=e(5966),y=e(90672),u=e(35312),h=e(58301),_=e(32983),d=e(71230),p=e(15746),T=e(62435),t=function(){var D=(0,u.useIntl)(),z=(0,u.useParams)(),F=z.id,H=(0,T.useRef)(),V=(0,T.useState)(!1),$=s()(V,2),X=$[0],K=$[1],J=(0,T.useState)(),b=s()(J,2),g=b[0],x=b[1];(0,T.useEffect)(function(){(0,O.nO)(F).then(function(A){if(A){var Z;(Z=H.current)===null||Z===void 0||Z.setFields([{name:"title",value:A.title},{name:"text",value:A.text}]),x(A.image)}})},[F]);var W=function(){var A=c()(n()().mark(function Z(N){var w;return n()().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:return N.id=F,N.image=g,S.next=4,(0,O.z_)(N);case 4:w=S.sent,w.succeeded&&h.ZP.success(D.formatMessage({id:"general.saved"}));case 6:case"end":return S.stop()}},Z)}));return function(N){return A.apply(this,arguments)}}(),Y=function(Z){x(Z),K(!1)},k=function(){return g?(0,r.jsx)(C,{src:g,onClick:function(){return K(!0)}}):(0,r.jsx)("div",{className:"image-placeholder",onClick:function(){return K(!0)},children:(0,r.jsx)(_.Z,{})})};return(0,r.jsxs)(I._z,{title:D.formatMessage({id:"menu.component.card"}),children:[(0,r.jsxs)(d.Z,{gutter:16,children:[(0,r.jsx)(p.Z,{span:4,children:(0,r.jsx)(R.Z,{title:"Work contents",children:(0,r.jsx)(_.Z,{})})}),(0,r.jsx)(p.Z,{span:12,children:(0,r.jsx)(R.Z,{title:"Content",children:(0,r.jsxs)(L.A,{onFinish:W,formRef:H,children:[(0,r.jsx)(B.Z,{label:"Image",children:k()}),(0,r.jsx)(U.Z,{name:"title",label:"Title"}),(0,r.jsx)(y.Z,{name:"text",label:"Text"})]})})}),(0,r.jsx)(p.Z,{span:8,children:(0,r.jsx)(R.Z,{title:"Preview",children:(0,r.jsx)(_.Z,{})})})]}),(0,r.jsx)(o.Z,{open:X,onOpenChange:K,onSelect:Y})]})},G=t},20385:function(j,m,e){e.d(m,{Ah:function(){return E},Cq:function(){return C},V6:function(){return f},kE:function(){return L},tg:function(){return U},z3:function(){return I}});var a=e(15009),n=e.n(a),v=e(97857),c=e.n(v),l=e(99289),s=e.n(l),o=e(35312);function f(u,h,_){return i.apply(this,arguments)}function i(){return i=s()(n()().mark(function u(h,_,d){return n()().wrap(function(T){for(;;)switch(T.prev=T.next){case 0:return T.abrupt("return",(0,o.request)("fileExplorer/list",c()({method:"GET",params:c()({type:Object.keys(_!=null?_:[]).length>0?_==null?void 0:_.join(","):""},h)},d||{})));case 1:case"end":return T.stop()}},u)})),i.apply(this,arguments)}function E(u){return M.apply(this,arguments)}function M(){return M=s()(n()().mark(function u(h){return n()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.abrupt("return",(0,o.request)("fileExplorer/delete-file-content/".concat(h),{method:"POST"}));case 1:case"end":return d.stop()}},u)})),M.apply(this,arguments)}function r(u){return P.apply(this,arguments)}function P(){return P=_asyncToGenerator(_regeneratorRuntime().mark(function u(h){return _regeneratorRuntime().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.abrupt("return",request("fileExplorer/delete-file-item",{method:"POST",data:h}));case 1:case"end":return d.stop()}},u)})),P.apply(this,arguments)}function C(u){return O.apply(this,arguments)}function O(){return O=s()(n()().mark(function u(h){return n()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.abrupt("return",(0,o.request)("fileExplorer/".concat(h)));case 1:case"end":return d.stop()}},u)})),O.apply(this,arguments)}function I(u,h){return R.apply(this,arguments)}function R(){return R=s()(n()().mark(function u(h,_){return n()().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return p.abrupt("return",(0,o.request)("fileExplorer/file-items/".concat(_.id)));case 1:case"end":return p.stop()}},u)})),R.apply(this,arguments)}function L(u){return B.apply(this,arguments)}function B(){return B=s()(n()().mark(function u(h){var _;return n()().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return _=new FormData,_.append("file",h),p.abrupt("return",(0,o.request)("fileExplorer/upload",{method:"POST",data:_}));case 3:case"end":return p.stop()}},u)})),B.apply(this,arguments)}function U(u){return y.apply(this,arguments)}function y(){return y=s()(n()().mark(function u(h){return n()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.abrupt("return",(0,o.request)("fileexplorer/upload-from-url",{method:"POST",data:{url:h}}));case 1:case"end":return d.stop()}},u)})),y.apply(this,arguments)}}}]);
