"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[587],{90672:function(U,g,e){var E=e(1413),a=e(91),h=e(86074),P=e(62435),C=e(15790),i=["fieldProps","proFieldProps"],u=function(m,v){var r=m.fieldProps,c=m.proFieldProps,f=(0,a.Z)(m,i);return(0,h.jsx)(C.Z,(0,E.Z)({ref:v,valueType:"textarea",fieldProps:r,proFieldProps:c},f))};g.Z=P.forwardRef(u)},5966:function(U,g,e){var E=e(1413),a=e(91),h=e(86074),P=e(15790),C=["fieldProps","proFieldProps"],i=["fieldProps","proFieldProps"],u="text",F=function(c){var f=c.fieldProps,D=c.proFieldProps,p=(0,a.Z)(c,C);return(0,h.jsx)(P.Z,(0,E.Z)({valueType:u,fieldProps:f,filedConfig:{valueType:u},proFieldProps:D},p))},m=function(c){var f=c.fieldProps,D=c.proFieldProps,p=(0,a.Z)(c,i);return(0,h.jsx)(P.Z,(0,E.Z)({valueType:"password",fieldProps:f,proFieldProps:D,filedConfig:{valueType:u}},p))},v=F;v.Password=m,v.displayName="ProFormComponent",g.Z=v},5410:function(U,g,e){e.d(g,{Z:function(){return l}});var E=e(97857),a=e.n(E),h=e(20385),P=e(73403),C=e(1413),i=e(62435),u={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M400 317.7h73.9V656c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V317.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 163a8 8 0 00-12.6 0l-112 141.7c-4.1 5.3-.4 13 6.3 13zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z"}}]},name:"upload",theme:"outlined"},F=u,m=e(84089),v=function(x,T){return i.createElement(m.Z,(0,C.Z)((0,C.Z)({},x),{},{ref:T,icon:F}))};v.displayName="UploadOutlined";var r=i.forwardRef(v),c=e(13728),f=e(99351),D=e(30029),p=e(22538),I=e(69677),O=e(27790),M=e(75527),S=e(31365),t=e(71577),n=e(86074),d=I.Z.Search,s=function(x){var T=(0,i.useRef)(),b={name:"file",action:h.kE,onChange:function(j){if(j.file.status!=="uploading"&&console.log(j.file,j.fileList),j.file.status==="done"){var o;O.ZP.success("".concat(j.file.name," file uploaded successfully")),(o=T.current)===null||o===void 0||o.reload()}else j.file.status==="error"&&O.ZP.error("".concat(j.file.name," file upload failed."))}};return(0,n.jsxs)(f.Y,{title:"Select content",open:x.open,onOpenChange:x.onOpenChange,onFinish:x.onFinish,children:[(0,n.jsx)("div",{className:"mb-4",children:(0,n.jsxs)(M.Z,{children:[(0,n.jsx)(M.Z.Item,{href:"",children:(0,n.jsx)(P.Z,{})}),(0,n.jsx)(M.Z.Item,{href:"",children:"Home"})]})}),(0,n.jsxs)(D.Z,{title:"List",extra:(0,n.jsx)(S.Z,a()(a()({},b),{},{children:(0,n.jsx)(t.Z,{icon:(0,n.jsx)(r,{}),type:"primary",children:"Upload"})})),children:[(0,n.jsx)(d,{}),(0,n.jsx)(p.Rs,{request:h.V6,metas:{title:{dataIndex:"name",render:function(j,o){return(0,n.jsx)(t.Z,{type:"link",size:"small",onClick:function(){x.onSelect&&(o.url=new URL(o.url,localStorage.getItem("wf_URL")||"").href,x.onSelect(o))},children:j})}},actions:{render:function(){return(0,n.jsx)(t.Z,{icon:(0,n.jsx)(c.Z,{}),type:"link",size:"small"})}}},actionRef:T})]})]})},l=s},67721:function(U,g,e){e.r(g),e.d(g,{default:function(){return A}});var E=e(15009),a=e.n(E),h=e(99289),P=e.n(h),C=e(5574),i=e.n(C),u=e(48689),F=e(86738),m=e(71577),v=e(22850),r=e(86074),c=function(o){var W=function(){o.onRemove&&o.onRemove(o.src)};return(0,r.jsx)("div",{className:"flex",children:(0,r.jsxs)("div",{style:{padding:".5rem 2rem",backgroundColor:"#efefef",position:"relative",width:200,height:150,display:"flex",justifyContent:"center",flexDirection:"column",alignItems:"center"},children:[(0,r.jsx)(F.Z,{title:"Are you sure?",onConfirm:W,children:(0,r.jsx)(m.Z,{icon:(0,r.jsx)(u.Z,{}),size:"small",type:"link",danger:!0,style:{position:"absolute",right:0,top:0}})}),(0,r.jsx)("div",{className:"text-center",children:(0,r.jsx)("img",{style:{maxHeight:180,maxWidth:100},src:o.src.url,alt:o.src.name,onClick:o.onClick,className:"cursor-pointer"})}),(0,r.jsx)(v.Z.Text,{className:"truncate",children:o.src.name})]})})},f=c,D=e(5410),p=e(66352),I=e(62884),O=e(30029),M=e(97269),S=e(15790),t=e(5966),n=e(90672),d=e(90905),s=e(27790),l=e(32983),K=e(71230),x=e(15746),T=e(62435),b=function(){var o=(0,d.useIntl)(),W=(0,d.useParams)(),L=W.id,N=(0,T.useRef)(),Y=(0,T.useState)(!1),V=i()(Y,2),J=V[0],B=V[1],Q=(0,T.useState)(),G=i()(Q,2),z=G[0],H=G[1];(0,T.useEffect)(function(){(0,p.nO)(L).then(function(y){if(y){var Z;(Z=N.current)===null||Z===void 0||Z.setFields([{name:"title",value:y.title},{name:"text",value:y.text}]),H(y.image)}})},[L]);var X=function(){var y=P()(a()().mark(function Z(_){var $;return a()().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:return _.id=L,_.image=z,R.next=4,(0,p.z_)(_);case 4:$=R.sent,$.succeeded&&s.ZP.success(o.formatMessage({id:"general.saved"}));case 6:case"end":return R.stop()}},Z)}));return function(_){return y.apply(this,arguments)}}(),w=function(Z){H(Z),B(!1)},k=function(){return z?(0,r.jsx)(f,{src:z,onClick:function(){return B(!0)}}):(0,r.jsx)("div",{className:"image-placeholder",onClick:function(){return B(!0)},children:(0,r.jsx)(l.Z,{})})};return(0,r.jsxs)(I._z,{title:o.formatMessage({id:"menu.component.card"}),children:[(0,r.jsxs)(K.Z,{gutter:16,children:[(0,r.jsx)(x.Z,{span:4,children:(0,r.jsx)(O.Z,{title:"Work contents",children:(0,r.jsx)(l.Z,{})})}),(0,r.jsx)(x.Z,{span:12,children:(0,r.jsx)(O.Z,{title:"Content",children:(0,r.jsxs)(M.A,{onFinish:X,formRef:N,children:[(0,r.jsx)(S.Z,{label:"Image",children:k()}),(0,r.jsx)(t.Z,{name:"title",label:"Title"}),(0,r.jsx)(n.Z,{name:"text",label:"Text"})]})})}),(0,r.jsx)(x.Z,{span:8,children:(0,r.jsx)(O.Z,{title:"Preview",children:(0,r.jsx)(l.Z,{})})})]}),(0,r.jsx)(D.Z,{visible:J,onVisibleChange:B,onSelect:w})]})},A=b},20385:function(U,g,e){e.d(g,{Ah:function(){return v},Cq:function(){return D},V6:function(){return F},kE:function(){return M},z3:function(){return I}});var E=e(15009),a=e.n(E),h=e(97857),P=e.n(h),C=e(99289),i=e.n(C),u=e(90905);function F(t,n){return m.apply(this,arguments)}function m(){return m=i()(a()().mark(function t(n,d){return a()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",(0,u.request)("fileExplorer/list",P()({method:"GET",params:P()({},n)},d||{})));case 1:case"end":return l.stop()}},t)})),m.apply(this,arguments)}function v(t){return r.apply(this,arguments)}function r(){return r=i()(a()().mark(function t(n){return a()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",(0,u.request)("fileExplorer/delete-file-content/".concat(n),{method:"POST"}));case 1:case"end":return s.stop()}},t)})),r.apply(this,arguments)}function c(t){return f.apply(this,arguments)}function f(){return f=_asyncToGenerator(_regeneratorRuntime().mark(function t(n){return _regeneratorRuntime().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",request("fileExplorer/delete-file-item",{method:"POST",data:n}));case 1:case"end":return s.stop()}},t)})),f.apply(this,arguments)}function D(t){return p.apply(this,arguments)}function p(){return p=i()(a()().mark(function t(n){return a()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",(0,u.request)("fileExplorer/".concat(n)));case 1:case"end":return s.stop()}},t)})),p.apply(this,arguments)}function I(t,n){return O.apply(this,arguments)}function O(){return O=i()(a()().mark(function t(n,d){return a()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",(0,u.request)("fileExplorer/file-items/".concat(d.id)));case 1:case"end":return l.stop()}},t)})),O.apply(this,arguments)}function M(t){return S.apply(this,arguments)}function S(){return S=i()(a()().mark(function t(n){var d;return a()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return d=new FormData,d.append("file",n),l.abrupt("return",(0,u.request)("fileExplorer/upload",{method:"POST",data:d}));case 3:case"end":return l.stop()}},t)})),S.apply(this,arguments)}}}]);
