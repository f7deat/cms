"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[9319],{82826:function(S,h,e){e.d(h,{Z:function(){return R}});var E=e(1413),o=e(62435),M={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M872 474H286.9l350.2-304c5.6-4.9 2.2-14-5.2-14h-88.5c-3.9 0-7.6 1.4-10.5 3.9L155 487.8a31.96 31.96 0 000 48.3L535.1 866c1.5 1.3 3.3 2 5.2 2h91.5c7.4 0 10.8-9.2 5.2-14L286.9 550H872c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z"}}]},name:"arrow-left",theme:"outlined"},m=M,D=e(91146),l=function(A,C){return o.createElement(D.Z,(0,E.Z)((0,E.Z)({},A),{},{ref:C,icon:m}))};l.displayName="ArrowLeftOutlined";var R=o.forwardRef(l)},33251:function(S,h,e){var E=e(15009),o=e.n(E),M=e(99289),m=e.n(M),D=e(37476),l=e(5966),R=e(64317),i=e(86074),A=function(P){var T=function(){var v=m()(o()().mark(function O(j){return o()().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:P.onFinish(j);case 1:case"end":return c.stop()}},O)}));return function(j){return v.apply(this,arguments)}}();return(0,i.jsxs)(D.Y,{onFinish:T,open:P.open,onOpenChange:P.onOpenChange,children:[(0,i.jsx)(l.Z,{name:"id",hidden:!0}),(0,i.jsx)(l.Z,{name:"name",label:"Name"}),(0,i.jsx)(l.Z,{name:"href",label:"URL",rules:[{required:!0}]}),(0,i.jsx)(R.Z,{name:"target",label:"Target",allowClear:!0,options:[{value:"_blank",label:"Open in new tab"}]})]})};h.Z=A},85335:function(S,h,e){var E=e(15009),o=e.n(E),M=e(99289),m=e.n(M),D=e(66352),l=e(28199),R=e(34994),i=e(5966),A=e(63434),C=e(35312),P=e(58301),T=e(62435),v=e(86074),O=function(){var L=(0,C.useParams)(),c=L.id,K=(0,T.useRef)();(0,T.useEffect)(function(){(0,D.Mk)(c).then(function(y){var p;(p=K.current)===null||p===void 0||p.setFields([{name:"name",value:y.name},{name:"active",value:y.active}])})},[c]);var W=function(){var y=m()(o()().mark(function p(f){var B;return o()().wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:return Z.next=2,(0,D.Qb)(f);case 2:B=Z.sent,B.succeeded?P.ZP.success("Saved!"):P.ZP.error(B.errors[0].description);case 4:case"end":return Z.stop()}},p)}));return function(f){return y.apply(this,arguments)}}();return(0,v.jsx)(l.Z,{title:"Info",children:(0,v.jsxs)(R.A,{formRef:K,onFinish:W,children:[(0,v.jsx)(i.Z,{hidden:!0,name:"id",initialValue:c}),(0,v.jsx)(i.Z,{name:"name",label:"Name"}),(0,v.jsx)(A.Z,{name:"active",label:"Active"})]})})};h.Z=O},71641:function(S,h,e){e.r(h),e.d(h,{default:function(){return w}});var E=e(15009),o=e.n(E),M=e(99289),m=e.n(M),D=e(5574),l=e.n(D),R=e(85335),i=e(66352),A=e(63386),C=e(28199),P=e(34994),T=e(5966),v=e(62639),O=e(35312),j=e(58301),L=e(71577),c=e(86738),K=e(71230),W=e(15746),y=e(83062),p=e(96074),f=e(62435),B=e(47389),$=e(82061),Z=e(82826),Y=e(51042),J=e(33251);function b(){return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,function(F){return(F^crypto.getRandomValues(new Uint8Array(1))[0]&15>>F/4).toString(16)})}var r=e(86074),X=function(){var k=(0,O.useParams)(),I=k.id,q=(0,f.useState)(),N=l()(q,2),g=N[0],U=N[1],ee=(0,f.useState)(),H=l()(ee,2),ne=H[0],z=H[1],V=(0,f.useRef)();(0,f.useEffect)(function(){(0,i.Tu)(I).then(function(s){if(s){var a;U(s),z(s.items),(a=V.current)===null||a===void 0||a.setFields([{name:"name",value:s.name}])}})},[I]);var re=(0,f.useRef)(),te=(0,f.useState)(!1),Q=l()(te,2),ae=Q[0],G=Q[1],se=function(){var s=m()(o()().mark(function a(t){var n,_,x,u;return o()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:if(n=g,!n){d.next=8;break}return _=n.items.filter(function(me){return me.id!==t}),n.items=_,d.next=6,(0,i.iH)(I,n);case 6:x=d.sent,x.succeeded&&(j.ZP.success("Deleted!"),U(n),(u=re.current)===null||u===void 0||u.reload());case 8:case"end":return d.stop()}},a)}));return function(t){return s.apply(this,arguments)}}(),oe=function(){var s=m()(o()().mark(function a(t){var n,_,x,u;return o()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return n=g,_={id:b(),link:{href:t.href,name:t.name,target:t.target,id:b()}},n!=null&&n.items?n==null||(x=n.items)===null||x===void 0||x.push(_):n.items=[_],d.next=5,(0,i.iH)(I,n);case 5:u=d.sent,u.succeeded&&(U(n),j.ZP.success("Added!"),G(!1));case 7:case"end":return d.stop()}},a)}));return function(t){return s.apply(this,arguments)}}(),ie=function(){var s=m()(o()().mark(function a(t){var n,_;return o()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return n={name:"",items:[]},g&&(n=g),n.name=t.name,u.next=5,(0,i.iH)(I,n);case 5:_=u.sent,_.succeeded&&(U(n),j.ZP.success("Saved!"));case 7:case"end":return u.stop()}},a)}));return function(t){return s.apply(this,arguments)}}(),le=[{title:"#",dataIndex:"sort",className:"drag-visible"},{title:"Name",render:function(a,t){var n;return(n=t.link)===null||n===void 0?void 0:n.name}},{title:"Url",render:function(a,t){var n;return(n=t.link)===null||n===void 0?void 0:n.href}},{title:"Action",valueType:"option",render:function(a,t){return[(0,r.jsx)(L.ZP,{type:"primary",icon:(0,r.jsx)(B.Z,{})},1),(0,r.jsx)(c.Z,{title:"Are you sure?",onConfirm:function(){return se(t.id)},children:(0,r.jsx)(L.ZP,{icon:(0,r.jsx)($.Z,{}),danger:!0,type:"primary"})},4)]}}],ue=function(a){var t=g;t&&(t.items=a),U(t),z(a),j.ZP.success("Saved!")};return(0,r.jsx)(A._z,{title:g==null?void 0:g.name,extra:(0,r.jsx)(L.ZP,{icon:(0,r.jsx)(Z.Z,{}),onClick:function(){return history.back()},children:(0,r.jsx)("span",{children:(0,r.jsx)(O.FormattedMessage,{id:"general.back"})})}),children:(0,r.jsxs)(K.Z,{gutter:16,children:[(0,r.jsxs)(W.Z,{span:16,children:[(0,r.jsx)(C.Z,{children:(0,r.jsxs)(P.A,{formRef:V,onFinish:ie,children:[(0,r.jsx)(T.Z,{name:"name",label:"Name",rules:[{required:!0}]}),(0,r.jsx)(v.Z,{toolBarRender:function(){return[(0,r.jsx)(y.Z,{title:(0,r.jsx)(O.FormattedMessage,{id:"general.new"}),children:(0,r.jsx)(L.ZP,{type:"link",icon:(0,r.jsx)(Y.Z,{}),onClick:function(){return G(!0)}})},"new")]},rowKey:"id",ghost:!0,columns:le,dataSource:ne,pagination:!1,search:!1,dragSortKey:"sort",onDragSortEnd:ue}),(0,r.jsx)(p.Z,{dashed:!0})]})}),(0,r.jsx)(J.Z,{open:ae,onOpenChange:G,onFinish:oe})]}),(0,r.jsx)(W.Z,{span:8,children:(0,r.jsx)(R.Z,{})})]})})},w=X}}]);
