"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[9319],{82826:function(K,m,e){e.d(m,{Z:function(){return M}});var s=e(1413),a=e(62435),D={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M872 474H286.9l350.2-304c5.6-4.9 2.2-14-5.2-14h-88.5c-3.9 0-7.6 1.4-10.5 3.9L155 487.8a31.96 31.96 0 000 48.3L535.1 866c1.5 1.3 3.3 2 5.2 2h91.5c7.4 0 10.8-9.2 5.2-14L286.9 550H872c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z"}}]},name:"arrow-left",theme:"outlined"},u=D,c=e(91146),v=function(T,y){return a.createElement(c.Z,(0,s.Z)((0,s.Z)({},T),{},{ref:y,icon:u}))};v.displayName="ArrowLeftOutlined";var M=a.forwardRef(v)},47389:function(K,m,e){var s=e(1413),a=e(62435),D=e(27363),u=e(91146),c=function(M,f){return a.createElement(u.Z,(0,s.Z)((0,s.Z)({},M),{},{ref:f,icon:D.Z}))};c.displayName="EditOutlined",m.Z=a.forwardRef(c)},64317:function(K,m,e){var s=e(1413),a=e(91),D=e(22270),u=e(62435),c=e(66758),v=e(96987),M=e(86074),f=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","showSearch","options"],T=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","options"],y=u.forwardRef(function(t,Z){var L=t.fieldProps,_=t.children,S=t.params,g=t.proFieldProps,h=t.mode,d=t.valueEnum,A=t.request,B=t.showSearch,E=t.options,N=(0,a.Z)(t,f),$=(0,u.useContext)(c.Z);return(0,M.jsx)(v.Z,(0,s.Z)((0,s.Z)({valueEnum:(0,D.h)(d),request:A,params:S,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:(0,s.Z)({options:E,mode:h,showSearch:B,getPopupContainer:$.getPopupContainer},L),ref:Z,proFieldProps:g},N),{},{children:_}))}),W=u.forwardRef(function(t,Z){var L=t.fieldProps,_=t.children,S=t.params,g=t.proFieldProps,h=t.mode,d=t.valueEnum,A=t.request,B=t.options,E=(0,a.Z)(t,T),N=(0,s.Z)({options:B,mode:h||"multiple",labelInValue:!0,showSearch:!0,showArrow:!1,autoClearSearchValue:!0,optionLabelProp:"label"},L),$=(0,u.useContext)(c.Z);return(0,M.jsx)(v.Z,(0,s.Z)((0,s.Z)({valueEnum:(0,D.h)(d),request:A,params:S,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:(0,s.Z)({getPopupContainer:$.getPopupContainer},N),ref:Z,proFieldProps:g},E),{},{children:_}))}),j=y,C=W,x=j;x.SearchSelect=C,x.displayName="ProFormComponent",m.Z=x},85335:function(K,m,e){var s=e(15009),a=e.n(s),D=e(99289),u=e.n(D),c=e(66352),v=e(28199),M=e(34994),f=e(5966),T=e(63434),y=e(35312),W=e(58301),j=e(62435),C=e(86074),x=function(){var Z=(0,y.useParams)(),L=Z.id,_=(0,j.useRef)();(0,j.useEffect)(function(){(0,c.Mk)(L).then(function(g){var h;(h=_.current)===null||h===void 0||h.setFields([{name:"name",value:g.name},{name:"active",value:g.active}])})},[L]);var S=function(){var g=u()(a()().mark(function h(d){var A;return a()().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:return E.next=2,(0,c.Qb)(d);case 2:A=E.sent,A.succeeded?W.ZP.success("Saved!"):W.ZP.error(A.errors[0].description);case 4:case"end":return E.stop()}},h)}));return function(d){return g.apply(this,arguments)}}();return(0,C.jsx)(v.Z,{title:"Info",children:(0,C.jsxs)(M.A,{formRef:_,onFinish:S,children:[(0,C.jsx)(f.Z,{hidden:!0,name:"id",initialValue:L}),(0,C.jsx)(f.Z,{name:"name",label:"Name"}),(0,C.jsx)(T.Z,{name:"active",label:"Active"})]})})};m.Z=x},67486:function(K,m,e){e.r(m),e.d(m,{default:function(){return re}});var s=e(15009),a=e.n(s),D=e(99289),u=e.n(D),c=e(5574),v=e.n(c),M=e(85335),f=e(66352),T=e(63386),y=e(28199),W=e(34994),j=e(5966),C=e(62639),x=e(35312),t=e(58301),Z=e(71577),L=e(86738),_=e(71230),S=e(15746),g=e(83062),h=e(96074),d=e(62435),A=e(47389),B=e(82061),E=e(82826),N=e(51042),$=e(37476),k=e(64317),r=e(86074),q=function(G){var F=function(){var z=u()(a()().mark(function H(O){return a()().wrap(function(V){for(;;)switch(V.prev=V.next){case 0:G.onFinish(O);case 1:case"end":return V.stop()}},H)}));return function(O){return z.apply(this,arguments)}}();return(0,r.jsxs)($.Y,{onFinish:F,open:G.open,onOpenChange:G.onOpenChange,children:[(0,r.jsx)(j.Z,{name:"id",hidden:!0}),(0,r.jsx)(j.Z,{name:"name",label:"Name"}),(0,r.jsx)(j.Z,{name:"href",label:"URL",rules:[{required:!0}]}),(0,r.jsx)(k.Z,{name:"target",label:"Target",allowClear:!0,options:[{value:"_blank",label:"Open in new tab"}]})]})},ee=q,Q=e(89575),ne=function(){var G=(0,x.useParams)(),F=G.id,z=(0,d.useState)(),H=v()(z,2),O=H[0],U=H[1],V=(0,d.useState)(),Y=v()(V,2),ae=Y[0],b=Y[1],J=(0,d.useRef)();(0,d.useEffect)(function(){(0,f.Tu)(F).then(function(l){if(l){var i;U(l),b(l.items),(i=J.current)===null||i===void 0||i.setFields([{name:"name",value:l.name}])}})},[F]);var oe=(0,d.useRef)(),se=(0,d.useState)(!1),X=v()(se,2),ie=X[0],w=X[1],le=function(){var l=u()(a()().mark(function i(o){var n,R,I,p;return a()().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:if(n=O,!n){P.next=8;break}return R=n.items.filter(function(fe){return fe.id!==o}),n.items=R,P.next=6,(0,f.iH)(F,n);case 6:I=P.sent,I.succeeded&&(t.ZP.success("Deleted!"),U(n),(p=oe.current)===null||p===void 0||p.reload());case 8:case"end":return P.stop()}},i)}));return function(o){return l.apply(this,arguments)}}(),ue=function(){var l=u()(a()().mark(function i(o){var n,R,I,p;return a()().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return n=O,R={id:(0,Q.k)(),link:{href:o.href,name:o.name,target:o.target,id:(0,Q.k)()}},n!=null&&n.items?n==null||(I=n.items)===null||I===void 0||I.push(R):n.items=[R],P.next=5,(0,f.iH)(F,n);case 5:p=P.sent,p.succeeded&&(U(n),t.ZP.success("Added!"),w(!1));case 7:case"end":return P.stop()}},i)}));return function(o){return l.apply(this,arguments)}}(),de=function(){var l=u()(a()().mark(function i(o){var n,R;return a()().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return n={name:"",items:[]},O&&(n=O),n.name=o.name,p.next=5,(0,f.iH)(F,n);case 5:R=p.sent,R.succeeded&&(U(n),t.ZP.success("Saved!"));case 7:case"end":return p.stop()}},i)}));return function(o){return l.apply(this,arguments)}}(),me=[{title:"#",dataIndex:"sort",className:"drag-visible"},{title:"Name",render:function(i,o){var n;return(n=o.link)===null||n===void 0?void 0:n.name}},{title:"Url",render:function(i,o){var n;return(n=o.link)===null||n===void 0?void 0:n.href}},{title:"Action",valueType:"option",render:function(i,o){return[(0,r.jsx)(Z.ZP,{type:"primary",icon:(0,r.jsx)(A.Z,{})},1),(0,r.jsx)(L.Z,{title:"Are you sure?",onConfirm:function(){return le(o.id)},children:(0,r.jsx)(Z.ZP,{icon:(0,r.jsx)(B.Z,{}),danger:!0,type:"primary"})},4)]}}],ce=function(i){var o=O;o&&(o.items=i),U(o),b(i),t.ZP.success("Saved!")};return(0,r.jsx)(T._z,{title:O==null?void 0:O.name,extra:(0,r.jsx)(Z.ZP,{icon:(0,r.jsx)(E.Z,{}),onClick:function(){return history.back()},children:(0,r.jsx)("span",{children:(0,r.jsx)(x.FormattedMessage,{id:"general.back"})})}),children:(0,r.jsxs)(_.Z,{gutter:16,children:[(0,r.jsxs)(S.Z,{span:16,children:[(0,r.jsx)(y.Z,{children:(0,r.jsxs)(W.A,{formRef:J,onFinish:de,children:[(0,r.jsx)(j.Z,{name:"name",label:"Name",rules:[{required:!0}]}),(0,r.jsx)(C.Z,{toolBarRender:function(){return[(0,r.jsx)(g.Z,{title:(0,r.jsx)(x.FormattedMessage,{id:"general.new"}),children:(0,r.jsx)(Z.ZP,{type:"link",icon:(0,r.jsx)(N.Z,{}),onClick:function(){return w(!0)}})},"new")]},rowKey:"id",ghost:!0,columns:me,dataSource:ae,pagination:!1,search:!1,dragSortKey:"sort",onDragSortEnd:ce}),(0,r.jsx)(h.Z,{dashed:!0})]})}),(0,r.jsx)(ee,{open:ie,onOpenChange:w,onFinish:ue})]}),(0,r.jsx)(S.Z,{span:8,children:(0,r.jsx)(M.Z,{})})]})})},re=ne},89575:function(K,m,e){e.d(m,{k:function(){return s}});function s(){return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,function(a){return(a^crypto.getRandomValues(new Uint8Array(1))[0]&15>>a/4).toString(16)})}}}]);
