"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[9319],{82826:function(x,m,e){e.d(m,{Z:function(){return D}});var t=e(1413),r=e(62435),v={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M872 474H286.9l350.2-304c5.6-4.9 2.2-14-5.2-14h-88.5c-3.9 0-7.6 1.4-10.5 3.9L155 487.8a31.96 31.96 0 000 48.3L535.1 866c1.5 1.3 3.3 2 5.2 2h91.5c7.4 0 10.8-9.2 5.2-14L286.9 550H872c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z"}}]},name:"arrow-left",theme:"outlined"},l=v,E=e(91146),d=function(T,W){return r.createElement(E.Z,(0,t.Z)((0,t.Z)({},T),{},{ref:W,icon:l}))};d.displayName="ArrowLeftOutlined";var D=r.forwardRef(d)},47389:function(x,m,e){var t=e(1413),r=e(62435),v=e(27363),l=e(91146),E=function(D,i){return r.createElement(l.Z,(0,t.Z)((0,t.Z)({},D),{},{ref:i,icon:v.Z}))};E.displayName="EditOutlined",m.Z=r.forwardRef(E)},64317:function(x,m,e){var t=e(1413),r=e(91),v=e(22270),l=e(62435),E=e(66758),d=e(96987),D=e(86074),i=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","showSearch","options"],T=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","options"],W=l.forwardRef(function(_,C){var c=_.fieldProps,B=_.children,U=_.params,A=_.proFieldProps,p=_.mode,P=_.valueEnum,j=_.request,S=_.showSearch,R=_.options,y=(0,r.Z)(_,i),b=(0,l.useContext)(E.Z);return(0,D.jsx)(d.Z,(0,t.Z)((0,t.Z)({valueEnum:(0,v.h)(P),request:j,params:U,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:(0,t.Z)({options:R,mode:p,showSearch:S,getPopupContainer:b.getPopupContainer},c),ref:C,proFieldProps:A},y),{},{children:B}))}),L=l.forwardRef(function(_,C){var c=_.fieldProps,B=_.children,U=_.params,A=_.proFieldProps,p=_.mode,P=_.valueEnum,j=_.request,S=_.options,R=(0,r.Z)(_,T),y=(0,t.Z)({options:S,mode:p||"multiple",labelInValue:!0,showSearch:!0,showArrow:!1,autoClearSearchValue:!0,optionLabelProp:"label"},c),b=(0,l.useContext)(E.Z);return(0,D.jsx)(d.Z,(0,t.Z)((0,t.Z)({valueEnum:(0,v.h)(P),request:j,params:U,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:(0,t.Z)({getPopupContainer:b.getPopupContainer},y),ref:C,proFieldProps:A},R),{},{children:B}))}),g=W,h=L,O=g;O.SearchSelect=h,O.displayName="ProFormComponent",m.Z=O},33251:function(x,m,e){var t=e(15009),r=e.n(t),v=e(99289),l=e.n(v),E=e(37476),d=e(5966),D=e(64317),i=e(86074),T=function(L){var g=function(){var h=l()(r()().mark(function O(_){return r()().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:L.onFinish(_);case 1:case"end":return c.stop()}},O)}));return function(_){return h.apply(this,arguments)}}();return(0,i.jsxs)(E.Y,{onFinish:g,open:L.open,onOpenChange:L.onOpenChange,children:[(0,i.jsx)(d.Z,{name:"id",hidden:!0}),(0,i.jsx)(d.Z,{name:"name",label:"Name"}),(0,i.jsx)(d.Z,{name:"href",label:"URL",rules:[{required:!0}]}),(0,i.jsx)(D.Z,{name:"target",label:"Target",allowClear:!0,options:[{value:"_blank",label:"Open in new tab"}]})]})};m.Z=T},85335:function(x,m,e){var t=e(15009),r=e.n(t),v=e(99289),l=e.n(v),E=e(66352),d=e(28199),D=e(34994),i=e(5966),T=e(63434),W=e(35312),L=e(58301),g=e(62435),h=e(86074),O=function(){var C=(0,W.useParams)(),c=C.id,B=(0,g.useRef)();(0,g.useEffect)(function(){(0,E.Mk)(c).then(function(A){var p;(p=B.current)===null||p===void 0||p.setFields([{name:"name",value:A.name},{name:"active",value:A.active}])})},[c]);var U=function(){var A=l()(r()().mark(function p(P){var j;return r()().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:return R.next=2,(0,E.Qb)(P);case 2:j=R.sent,j.succeeded?L.ZP.success("Saved!"):L.ZP.error(j.errors[0].description);case 4:case"end":return R.stop()}},p)}));return function(P){return A.apply(this,arguments)}}();return(0,h.jsx)(d.Z,{title:"Info",children:(0,h.jsxs)(D.A,{formRef:B,onFinish:U,children:[(0,h.jsx)(i.Z,{hidden:!0,name:"id",initialValue:c}),(0,h.jsx)(i.Z,{name:"name",label:"Name"}),(0,h.jsx)(T.Z,{name:"active",label:"Active"})]})})};m.Z=O},50855:function(x,m,e){e.r(m);var t=e(15009),r=e.n(t),v=e(99289),l=e.n(v),E=e(5574),d=e.n(E),D=e(85335),i=e(66352),T=e(63386),W=e(28199),L=e(34994),g=e(5966),h=e(62639),O=e(35312),_=e(58301),C=e(71577),c=e(86738),B=e(71230),U=e(15746),A=e(83062),p=e(96074),P=e(62435),j=e(47389),S=e(82061),R=e(82826),y=e(51042),b=e(33251),$=e(89575),s=e(86074),J=function(){var X=(0,O.useParams)(),F=X.id,w=(0,P.useState)(),H=d()(w,2),K=H[0],G=H[1],k=(0,P.useState)(),V=d()(k,2),q=V[0],z=V[1],Q=(0,P.useRef)();(0,P.useEffect)(function(){(0,i.Tu)(F).then(function(u){if(u){var o;G(u),z(u.items),(o=Q.current)===null||o===void 0||o.setFields([{name:"name",value:u.name}])}})},[F]);var ee=(0,P.useRef)(),ne=(0,P.useState)(!1),Y=d()(ne,2),_e=Y[0],N=Y[1],re=function(){var u=l()(r()().mark(function o(a){var n,I,Z,M;return r()().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:if(n=K,!n){f.next=8;break}return I=n.items.filter(function(le){return le.id!==a}),n.items=I,f.next=6,(0,i.iH)(F,n);case 6:Z=f.sent,Z.succeeded&&(_.ZP.success("Deleted!"),G(n),(M=ee.current)===null||M===void 0||M.reload());case 8:case"end":return f.stop()}},o)}));return function(a){return u.apply(this,arguments)}}(),se=function(){var u=l()(r()().mark(function o(a){var n,I,Z,M;return r()().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return n=K,I={id:(0,$.k)(),link:{href:a.href,name:a.name,target:a.target,id:(0,$.k)()}},n!=null&&n.items?n==null||(Z=n.items)===null||Z===void 0||Z.push(I):n.items=[I],f.next=5,(0,i.iH)(F,n);case 5:M=f.sent,M.succeeded&&(G(n),_.ZP.success("Added!"),N(!1));case 7:case"end":return f.stop()}},o)}));return function(a){return u.apply(this,arguments)}}(),te=function(){var u=l()(r()().mark(function o(a){var n,I;return r()().wrap(function(M){for(;;)switch(M.prev=M.next){case 0:return n={name:"",items:[]},K&&(n=K),n.name=a.name,M.next=5,(0,i.iH)(F,n);case 5:I=M.sent,I.succeeded&&(G(n),_.ZP.success("Saved!"));case 7:case"end":return M.stop()}},o)}));return function(a){return u.apply(this,arguments)}}(),ae=[{title:"#",dataIndex:"sort",className:"drag-visible"},{title:"Name",render:function(o,a){var n;return(n=a.link)===null||n===void 0?void 0:n.name}},{title:"Url",render:function(o,a){var n;return(n=a.link)===null||n===void 0?void 0:n.href}},{title:"Action",valueType:"option",render:function(o,a){return[(0,s.jsx)(C.ZP,{type:"primary",icon:(0,s.jsx)(j.Z,{})},1),(0,s.jsx)(c.Z,{title:"Are you sure?",onConfirm:function(){return re(a.id)},children:(0,s.jsx)(C.ZP,{icon:(0,s.jsx)(S.Z,{}),danger:!0,type:"primary"})},4)]}}],oe=function(o){var a=K;a&&(a.items=o),G(a),z(o),_.ZP.success("Saved!")};return(0,s.jsx)(T._z,{title:K==null?void 0:K.name,extra:(0,s.jsx)(C.ZP,{icon:(0,s.jsx)(R.Z,{}),onClick:function(){return history.back()},children:(0,s.jsx)("span",{children:(0,s.jsx)(O.FormattedMessage,{id:"general.back"})})}),children:(0,s.jsxs)(B.Z,{gutter:16,children:[(0,s.jsxs)(U.Z,{span:16,children:[(0,s.jsx)(W.Z,{children:(0,s.jsxs)(L.A,{formRef:Q,onFinish:te,children:[(0,s.jsx)(g.Z,{name:"name",label:"Name",rules:[{required:!0}]}),(0,s.jsx)(h.Z,{toolBarRender:function(){return[(0,s.jsx)(A.Z,{title:(0,s.jsx)(O.FormattedMessage,{id:"general.new"}),children:(0,s.jsx)(C.ZP,{type:"link",icon:(0,s.jsx)(y.Z,{}),onClick:function(){return N(!0)}})},"new")]},rowKey:"id",ghost:!0,columns:ae,dataSource:q,pagination:!1,search:!1,dragSortKey:"sort",onDragSortEnd:oe}),(0,s.jsx)(p.Z,{dashed:!0})]})}),(0,s.jsx)(b.Z,{open:_e,onOpenChange:N,onFinish:se})]}),(0,s.jsx)(U.Z,{span:8,children:(0,s.jsx)(D.Z,{})})]})})};m.default=J},89575:function(x,m,e){e.d(m,{k:function(){return t}});function t(){return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,function(r){return(r^crypto.getRandomValues(new Uint8Array(1))[0]&15>>r/4).toString(16)})}}}]);
