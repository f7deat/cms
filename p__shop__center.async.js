"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[7123],{77171:function(B,C,e){e.d(C,{Z:function(){return c}});var f=e(1413),r=e(62435),h={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M862 465.3h-81c-4.6 0-9 2-12.1 5.5L550 723.1V160c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v563.1L255.1 470.8c-3-3.5-7.4-5.5-12.1-5.5h-81c-6.8 0-10.5 8.1-6 13.2L487.9 861a31.96 31.96 0 0048.3 0L868 478.5c4.5-5.2.8-13.2-6-13.2z"}}]},name:"arrow-down",theme:"outlined"},a=h,m=e(84089),p=function(E,U){return r.createElement(m.Z,(0,f.Z)((0,f.Z)({},E),{},{ref:U,icon:a}))};p.displayName="ArrowDownOutlined";var c=r.forwardRef(p)},1912:function(B,C,e){e.d(C,{Z:function(){return c}});var f=e(1413),r=e(62435),h={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M868 545.5L536.1 163a31.96 31.96 0 00-48.3 0L156 545.5a7.97 7.97 0 006 13.2h81c4.6 0 9-2 12.1-5.5L474 300.9V864c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V300.9l218.9 252.3c3 3.5 7.4 5.5 12.1 5.5h81c6.8 0 10.5-8 6-13.2z"}}]},name:"arrow-up",theme:"outlined"},a=h,m=e(84089),p=function(E,U){return r.createElement(m.Z,(0,f.Z)((0,f.Z)({},E),{},{ref:U,icon:a}))};p.displayName="ArrowUpOutlined";var c=r.forwardRef(p)},76131:function(B,C,e){var f=e(5574),r=e.n(f),h=e(98364),a=e(99351),m=e(5966),p=e(64317),c=e(62435),P=e(86074),E=function(M){var v=(0,c.useState)(),R=r()(v,2),L=R[0],j=R[1];return(0,c.useEffect)(function(){(0,h.eB)().then(function(T){j(T.map(function(O){return{label:O.name,value:O.id}}))})},[]),(0,P.jsxs)(a.Y,{open:M.open,title:"Component",onFinish:M.onFinish,onOpenChange:M.onOpenChange,children:[(0,P.jsx)(m.Z,{name:"name",label:"Name"}),(0,P.jsx)(p.Z,{showSearch:!0,options:L,name:"componentId",label:"Component"})]})};C.Z=E},90451:function(B,C,e){var f=e(15009),r=e.n(f),h=e(99289),a=e.n(h),m=e(5574),p=e.n(m),c=e(66352),P=e(24969),E=e(86548),U=e(1912),M=e(77171),v=e(48689),R=e(22538),L=e(99351),j=e(5966),T=e(64317),O=e(27790),A=e(71577),g=e(86738),s=e(90905),o=e(62435),D=e(76131),n=e(86074),S=function(){var F=(0,s.useParams)(),I=F.id,W=(0,o.useRef)(),z=(0,o.useState)(!1),b=p()(z,2),G=b[0],K=b[1],N=(0,o.useState)(!1),w=p()(N,2),V=w[0],y=w[1],X=(0,o.useState)(),x=p()(X,2),Y=x[0],H=x[1];(0,o.useEffect)(function(){var l;(l=W.current)===null||l===void 0||l.reload()},[I]);var J=function(){var l=a()(r()().mark(function i(t){var d,u;return r()().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.next=2,(0,c.zt)(t,I);case 2:d=_.sent,d.succeeded?(O.ZP.success("Deleted!"),(u=W.current)===null||u===void 0||u.reload()):O.ZP.error(d.errors[0].description);case 4:case"end":return _.stop()}},i)}));return function(t){return l.apply(this,arguments)}}(),$=function(){var l=a()(r()().mark(function i(t){var d,u;return r()().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.next=2,(0,c.aN)(t);case 2:d=_.sent,d.succeeded&&(O.ZP.success("Sorted!"),(u=W.current)===null||u===void 0||u.reload());case 4:case"end":return _.stop()}},i)}));return function(t){return l.apply(this,arguments)}}(),Q=function(){var l=a()(r()().mark(function i(t){var d,u;return r()().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return t.catalogId=I,_.next=3,(0,c.yL)(t);case 3:d=_.sent,d.succeeded&&(O.ZP.success("Added!"),K(!1),(u=W.current)===null||u===void 0||u.reload());case 5:case"end":return _.stop()}},i)}));return function(t){return l.apply(this,arguments)}}(),k=function(){var l=a()(r()().mark(function i(){var t;return r()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,(0,c.x)();case 2:t=u.sent,H(t),y(!0);case 5:case"end":return u.stop()}},i)}));return function(){return l.apply(this,arguments)}}(),q=function(){var l=a()(r()().mark(function i(t){var d,u;return r()().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.next=2,(0,c.jX)(t);case 2:d=_.sent,d.succeeded&&(O.ZP.success("Saved"),y(!1),(u=W.current)===null||u===void 0||u.reload());case 4:case"end":return _.stop()}},i)}));return function(t){return l.apply(this,arguments)}}();return(0,n.jsxs)("div",{children:[(0,n.jsx)(R.Rs,{toolBarRender:function(){return[(0,n.jsx)(A.Z,{onClick:function(){return K(!0)},type:"primary",icon:(0,n.jsx)(P.Z,{}),children:(0,n.jsx)(s.FormattedMessage,{id:"general.new"})},0),(0,n.jsx)(A.Z,{onClick:k,children:"Select"},1)]},rowSelection:{},actionRef:W,request:a()(r()().mark(function l(){return r()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,c.KC)(I));case 1:case"end":return t.stop()}},l)})),headerTitle:"Work items",metas:{title:{dataIndex:"name"},actions:{render:function(i,t){return[(0,n.jsx)(A.Z,{type:"primary",icon:(0,n.jsx)(E.Z,{}),onClick:function(){s.history.push("/works/".concat(t.normalizedName.toLocaleLowerCase(),"/").concat(t.id))}},1),(0,n.jsx)(A.Z,{icon:(0,n.jsx)(U.Z,{}),onClick:function(){return $({workId:t.id,catalogId:I,sortOrder:t.sortOrder-1})}},2),(0,n.jsx)(A.Z,{icon:(0,n.jsx)(M.Z,{}),onClick:function(){return $({workId:t.id,catalogId:I,sortOrder:t.sortOrder+1})}},3),(0,n.jsxs)(g.Z,{title:"Are you sure?",onConfirm:function(){return J(t.id)},children:[(0,n.jsx)(A.Z,{icon:(0,n.jsx)(v.Z,{}),danger:!0,type:"primary"}),","]},4)]}}}}),(0,n.jsx)(D.Z,{open:G,onOpenChange:K,onFinish:Q}),(0,n.jsxs)(L.Y,{open:V,onOpenChange:y,onFinish:q,children:[(0,n.jsx)(j.Z,{name:"catalogId",initialValue:I,hidden:!0}),(0,n.jsx)(T.Z,{showSearch:!0,name:"workContentId",options:Y,label:"Work"})]})]})};C.Z=S},33969:function(B,C,e){e.r(C);var f=e(5574),r=e.n(f),h=e(90451),a=e(61614),m=e(62884),p=e(30029),c=e(90905),P=e(71230),E=e(15746),U=e(62435),M=e(74350),v=e(86074),R=function(){var j=(0,c.useParams)(),T=j.id,O=(0,U.useState)(),A=r()(O,2),g=A[0],s=A[1];return(0,U.useEffect)(function(){(0,a.R4)(T).then(function(o){s(o)})},[T]),(0,v.jsx)(m._z,{title:g==null?void 0:g.name,children:(0,v.jsxs)(P.Z,{gutter:16,children:[(0,v.jsx)(E.Z,{span:16,children:(0,v.jsx)(p.Z,{children:(0,v.jsx)(h.Z,{})})}),(0,v.jsx)(E.Z,{span:8,children:(0,v.jsx)(M.Z,{})})]})})};C.default=R},98364:function(B,C,e){e.d(C,{CO:function(){return L},KL:function(){return v},Xr:function(){return p},Z:function(){return T},eB:function(){return P},v7:function(){return A}});var f=e(15009),r=e.n(f),h=e(99289),a=e.n(h),m=e(90905);function p(s){return c.apply(this,arguments)}function c(){return c=a()(r()().mark(function s(o){return r()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,m.request)("component/".concat(o)));case 1:case"end":return n.stop()}},s)})),c.apply(this,arguments)}function P(){return E.apply(this,arguments)}function E(){return E=a()(r()().mark(function s(){return r()().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:return D.abrupt("return",(0,m.request)("component/list-all"));case 1:case"end":return D.stop()}},s)})),E.apply(this,arguments)}function U(s){return M.apply(this,arguments)}function M(){return M=_asyncToGenerator(_regeneratorRuntime().mark(function s(o){return _regeneratorRuntime().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",request("component/add",{method:"POST",data:o}));case 1:case"end":return n.stop()}},s)})),M.apply(this,arguments)}function v(s){return R.apply(this,arguments)}function R(){return R=a()(r()().mark(function s(o){return r()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,m.request)("component/update",{method:"POST",data:o}));case 1:case"end":return n.stop()}},s)})),R.apply(this,arguments)}function L(s){return j.apply(this,arguments)}function j(){return j=a()(r()().mark(function s(o){return r()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,m.request)("component/list",{params:o}));case 1:case"end":return n.stop()}},s)})),j.apply(this,arguments)}function T(s,o){return O.apply(this,arguments)}function O(){return O=a()(r()().mark(function s(o,D){return r()().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:return S.abrupt("return",(0,m.request)("component/list-work/".concat(D),{params:o}));case 1:case"end":return S.stop()}},s)})),O.apply(this,arguments)}function A(s){return g.apply(this,arguments)}function g(){return g=a()(r()().mark(function s(o){return r()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,m.request)("component/delete/".concat(o),{method:"POST"}));case 1:case"end":return n.stop()}},s)})),g.apply(this,arguments)}}}]);
