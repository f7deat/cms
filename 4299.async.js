"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[4299],{64317:function(Y,y,r){var i=r(1413),n=r(91),E=r(86074),o=r(22270),_=r(62435),h=r(66758),c=r(25338),R=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","showSearch","options"],m=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","options"],p=_.forwardRef(function(a,I){var S=a.fieldProps,K=a.children,C=a.params,b=a.proFieldProps,g=a.mode,L=a.valueEnum,f=a.request,l=a.showSearch,A=a.options,w=(0,n.Z)(a,R),M=(0,_.useContext)(h.Z);return(0,E.jsx)(c.Z,(0,i.Z)((0,i.Z)({valueEnum:(0,o.h)(L),request:f,params:C,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:(0,i.Z)({options:A,mode:g,showSearch:l,getPopupContainer:M.getPopupContainer},S),ref:I,proFieldProps:b},w),{},{children:K}))}),v=_.forwardRef(function(a,I){var S=a.fieldProps,K=a.children,C=a.params,b=a.proFieldProps,g=a.mode,L=a.valueEnum,f=a.request,l=a.options,A=(0,n.Z)(a,m),w=(0,i.Z)({options:l,mode:g||"multiple",labelInValue:!0,showSearch:!0,showArrow:!1,autoClearSearchValue:!0,optionLabelProp:"label"},S),M=(0,_.useContext)(h.Z);return(0,E.jsx)(c.Z,(0,i.Z)((0,i.Z)({valueEnum:(0,o.h)(L),request:f,params:C,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:(0,i.Z)({getPopupContainer:M.getPopupContainer},w),ref:I,proFieldProps:b},A),{},{children:K}))}),d=p,P=v,O=d;O.SearchSelect=P,O.displayName="ProFormComponent",y.Z=O},90672:function(Y,y,r){var i=r(1413),n=r(91),E=r(86074),o=r(62435),_=r(25338),h=["fieldProps","proFieldProps"],c=function(m,p){var v=m.fieldProps,d=m.proFieldProps,P=(0,n.Z)(m,h);return(0,E.jsx)(_.Z,(0,i.Z)({ref:p,valueType:"textarea",fieldProps:v,proFieldProps:d},P))};y.Z=o.forwardRef(c)},5966:function(Y,y,r){var i=r(1413),n=r(91),E=r(86074),o=r(25338),_=["fieldProps","proFieldProps"],h=["fieldProps","proFieldProps"],c="text",R=function(d){var P=d.fieldProps,O=d.proFieldProps,a=(0,n.Z)(d,_);return(0,E.jsx)(o.Z,(0,i.Z)({valueType:c,fieldProps:P,filedConfig:{valueType:c},proFieldProps:O},a))},m=function(d){var P=d.fieldProps,O=d.proFieldProps,a=(0,n.Z)(d,h);return(0,E.jsx)(o.Z,(0,i.Z)({valueType:"password",fieldProps:P,proFieldProps:O,filedConfig:{valueType:c}},a))},p=R;p.Password=m,p.displayName="ProFormComponent",y.Z=p},84299:function(Y,y,r){var i=r(97857),n=r.n(i),E=r(15009),o=r.n(E),_=r(99289),h=r.n(_),c=r(5574),R=r.n(c),m=r(55375),p=r(61614),v=r(86548),d=r(48689),P=r(24969),O=r(34545),a=r(99351),I=r(5966),S=r(90672),K=r(64317),C=r(90905),b=r(27790),g=r(71577),L=r(86738),f=r(62435),l=r(86074),A=function(M){var F=(0,f.useRef)(),x=(0,f.useState)(!1),z=R()(x,2),$=z[0],G=z[1],N=(0,f.useState)(),H=R()(N,2),V=H[0],t=H[1],s=function(){var j=h()(o()().mark(function U(T){var B,W;return o()().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:return D.next=2,(0,p.S8)(T);case 2:B=D.sent,B.succeeded?(b.ZP.success("Deleted"),(W=F.current)===null||W===void 0||W.reload()):b.ZP.error(B.errors[0].description);case 4:case"end":return D.stop()}},U)}));return function(T){return j.apply(this,arguments)}}();(0,f.useEffect)(function(){(0,p.Z9)().then(function(j){return t(j)})},[]);var u=function(){switch(M.type){case m.H.Tag:return"catalog/tag";default:return"catalog"}},e=[{title:"#",valueType:"indexBorder"},{title:"Name",dataIndex:"name"},{title:"Modified date",dataIndex:"modifiedDate",valueType:"fromNow",search:!1},{title:"View",dataIndex:"viewCount",valueType:"digit",search:!1},{title:"Active",dataIndex:"active",valueEnum:{false:{text:"Draft",status:"Default"},true:{text:"Active",status:"Processing"}}},{title:"",valueType:"option",render:function(U,T){return[(0,l.jsx)(g.Z,{icon:(0,l.jsx)(v.Z,{}),type:"primary",onClick:function(){return C.history.push("/".concat(u(),"/").concat(T.id))}},1),(0,l.jsx)(L.Z,{title:"Are you sure?",onConfirm:function(){return s(T.id)},children:(0,l.jsx)(g.Z,{icon:(0,l.jsx)(d.Z,{}),type:"primary",danger:!0})},2)]}}],Z=function(){var j=h()(o()().mark(function U(T){var B,W;return o()().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:return T.type=Number(T.type),D.next=3,(0,p.BP)(T);case 3:B=D.sent,B.succeeded&&(b.ZP.success("Added!"),(W=F.current)===null||W===void 0||W.reload(),G(!1));case 5:case"end":return D.stop()}},U)}));return function(T){return j.apply(this,arguments)}}();return(0,l.jsxs)("div",{children:[(0,l.jsx)(O.Z,{rowKey:"id",request:function(U){return(0,p.A$)(n()(n()({},U),{},{type:M.type}))},columns:e,actionRef:F,toolBarRender:function(){return[(0,l.jsxs)(g.Z,{type:"primary",onClick:function(){return G(!0)},children:[(0,l.jsx)(P.Z,{}),(0,l.jsx)(C.FormattedMessage,{id:"general.new"})]},"new")]}}),(0,l.jsxs)(a.Y,{open:$,onOpenChange:G,onFinish:Z,children:[(0,l.jsx)(I.Z,{name:"name",label:"Name",rules:[{required:!0}]}),(0,l.jsx)(S.Z,{label:"Description",name:"description"}),(0,l.jsx)(K.Z,{name:"type",options:V,label:"Type",rules:[{required:!0}]})]})]})};y.Z=A},61614:function(Y,y,r){r.d(y,{A$:function(){return p},BA:function(){return I},BP:function(){return R},M0:function(){return H},R4:function(){return h},S8:function(){return O},Z9:function(){return F},_V:function(){return b},gY:function(){return L},m_:function(){return z},r5:function(){return w},wu:function(){return G},zo:function(){return l}});var i=r(15009),n=r.n(i),E=r(99289),o=r.n(E),_=r(90905);function h(t){return c.apply(this,arguments)}function c(){return c=o()(n()().mark(function t(s){return n()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,_.request)("catalog/".concat(s)));case 1:case"end":return e.stop()}},t)})),c.apply(this,arguments)}function R(t){return m.apply(this,arguments)}function m(){return m=o()(n()().mark(function t(s){return n()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,_.request)("catalog/add",{method:"POST",data:s}));case 1:case"end":return e.stop()}},t)})),m.apply(this,arguments)}function p(t){return v.apply(this,arguments)}function v(){return v=o()(n()().mark(function t(s){return n()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,_.request)("catalog/list",{method:"GET",params:s}));case 1:case"end":return e.stop()}},t)})),v.apply(this,arguments)}function d(){return P.apply(this,arguments)}function P(){return P=_asyncToGenerator(_regeneratorRuntime().mark(function t(){return _regeneratorRuntime().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.abrupt("return",request("catalog/tree"));case 1:case"end":return u.stop()}},t)})),P.apply(this,arguments)}function O(t){return a.apply(this,arguments)}function a(){return a=o()(n()().mark(function t(s){return n()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,_.request)("catalog/delete/".concat(s),{method:"POST"}));case 1:case"end":return e.stop()}},t)})),a.apply(this,arguments)}function I(t){return S.apply(this,arguments)}function S(){return S=o()(n()().mark(function t(s){return n()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,_.request)("catalog/save",{method:"POST",data:s}));case 1:case"end":return e.stop()}},t)})),S.apply(this,arguments)}function K(t){return C.apply(this,arguments)}function C(){return C=_asyncToGenerator(_regeneratorRuntime().mark(function t(s){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",request("catalog/tree-drop",{method:"POST",data:s}));case 1:case"end":return e.stop()}},t)})),C.apply(this,arguments)}function b(){return g.apply(this,arguments)}function g(){return g=o()(n()().mark(function t(){return n()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.abrupt("return",(0,_.request)("catalog/view-count"));case 1:case"end":return u.stop()}},t)})),g.apply(this,arguments)}function L(t){return f.apply(this,arguments)}function f(){return f=o()(n()().mark(function t(s){return n()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,_.request)("catalog/active/".concat(s),{method:"POST"}));case 1:case"end":return e.stop()}},t)})),f.apply(this,arguments)}function l(t){return A.apply(this,arguments)}function A(){return A=o()(n()().mark(function t(s){return n()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,_.request)("catalog/article/save",{method:"POST",data:s}));case 1:case"end":return e.stop()}},t)})),A.apply(this,arguments)}function w(t){return M.apply(this,arguments)}function M(){return M=o()(n()().mark(function t(s){return n()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,_.request)("catalog/update-thumbnail",{method:"POST",data:s}));case 1:case"end":return e.stop()}},t)})),M.apply(this,arguments)}function F(){return x.apply(this,arguments)}function x(){return x=o()(n()().mark(function t(){return n()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.abrupt("return",(0,_.request)("catalog/types"));case 1:case"end":return u.stop()}},t)})),x.apply(this,arguments)}function z(t){return $.apply(this,arguments)}function $(){return $=o()(n()().mark(function t(s){return n()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,_.request)("catalog/list-tag/".concat(s)));case 1:case"end":return e.stop()}},t)})),$.apply(this,arguments)}function G(t){return N.apply(this,arguments)}function N(){return N=o()(n()().mark(function t(s){return n()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,_.request)("catalog/list-tag-select",{params:s}));case 1:case"end":return e.stop()}},t)})),N.apply(this,arguments)}function H(t,s){return V.apply(this,arguments)}function V(){return V=o()(n()().mark(function t(s,u){return n()().wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:return Z.abrupt("return",(0,_.request)("catalog/list-by-tag/".concat(s),{params:u}));case 1:case"end":return Z.stop()}},t)})),V.apply(this,arguments)}}}]);
