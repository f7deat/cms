"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[5690],{77171:function(F,O,e){e.d(O,{Z:function(){return c}});var d=e(1413),r=e(62435),P={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M862 465.3h-81c-4.6 0-9 2-12.1 5.5L550 723.1V160c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v563.1L255.1 470.8c-3-3.5-7.4-5.5-12.1-5.5h-81c-6.8 0-10.5 8.1-6 13.2L487.9 861a31.96 31.96 0 0048.3 0L868 478.5c4.5-5.2.8-13.2-6-13.2z"}}]},name:"arrow-down",theme:"outlined"},a=P,i=e(84089),l=function(g,M){return r.createElement(i.Z,(0,d.Z)((0,d.Z)({},g),{},{ref:M,icon:a}))};l.displayName="ArrowDownOutlined";var c=r.forwardRef(l)},1912:function(F,O,e){e.d(O,{Z:function(){return c}});var d=e(1413),r=e(62435),P={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M868 545.5L536.1 163a31.96 31.96 0 00-48.3 0L156 545.5a7.97 7.97 0 006 13.2h81c4.6 0 9-2 12.1-5.5L474 300.9V864c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V300.9l218.9 252.3c3 3.5 7.4 5.5 12.1 5.5h81c6.8 0 10.5-8 6-13.2z"}}]},name:"arrow-up",theme:"outlined"},a=P,i=e(84089),l=function(g,M){return r.createElement(i.Z,(0,d.Z)((0,d.Z)({},g),{},{ref:M,icon:a}))};l.displayName="ArrowUpOutlined";var c=r.forwardRef(l)},63434:function(F,O,e){var d=e(1413),r=e(91),P=e(86074),a=e(22270),i=e(32808),l=e(62435),c=e(90789),w=e(15790),g=["options","fieldProps","proFieldProps","valueEnum"],M=l.forwardRef(function(j,h){var U=j.options,_=j.fieldProps,y=j.proFieldProps,R=j.valueEnum,t=(0,r.Z)(j,g);return(0,P.jsx)(w.Z,(0,d.Z)({ref:h,valueType:"checkbox",valueEnum:(0,a.h)(R,void 0),fieldProps:(0,d.Z)({options:U},_),lightProps:(0,d.Z)({labelFormatter:function(){return(0,P.jsx)(w.Z,(0,d.Z)({ref:h,valueType:"checkbox",mode:"read",valueEnum:(0,a.h)(R,void 0),filedConfig:{customLightMode:!0},fieldProps:(0,d.Z)({options:U},_),proFieldProps:y},t))}},t.lightProps),proFieldProps:y},t))}),x=l.forwardRef(function(j,h){var U=j.fieldProps,_=j.children;return(0,P.jsx)(i.Z,(0,d.Z)((0,d.Z)({ref:h},U),{},{children:_}))}),b=(0,c.G)(x,{valuePropName:"checked"}),Z=b;Z.Group=M,O.Z=Z},90672:function(F,O,e){var d=e(1413),r=e(91),P=e(86074),a=e(62435),i=e(15790),l=["fieldProps","proFieldProps"],c=function(g,M){var x=g.fieldProps,b=g.proFieldProps,Z=(0,r.Z)(g,l);return(0,P.jsx)(i.Z,(0,d.Z)({ref:M,valueType:"textarea",fieldProps:x,proFieldProps:b},Z))};O.Z=a.forwardRef(c)},76131:function(F,O,e){var d=e(99351),r=e(5966),P=e(65675),a=e(86074),i=function(c){return(0,a.jsxs)(d.Y,{open:c.open,title:"Component",onFinish:c.onFinish,onOpenChange:c.onOpenChange,children:[(0,a.jsx)(r.Z,{name:"name",label:"Name"}),(0,a.jsx)(P.Z,{name:"componentId",label:"Component"})]})};O.Z=i},65675:function(F,O,e){var d=e(98364),r=e(64317),P=e(86074),a=function(l){return(0,P.jsx)(r.Z,{showSearch:!0,request:d.Ef,name:l.name,label:l.label})};O.Z=a},18741:function(F,O,e){e.r(O),e.d(O,{default:function(){return he}});var d=e(15009),r=e.n(d),P=e(99289),a=e.n(P),i=e(5574),l=e.n(i),c=e(66352),w=e(24969),g=e(86548),M=e(1912),x=e(77171),b=e(48689),Z=e(22538),j=e(99351),h=e(5966),U=e(64317),_=e(27790),y=e(71577),R=e(86738),t=e(90905),s=e(62435),u=e(76131),n=e(86074),C=function(){var G=(0,t.useParams)(),T=G.id,A=(0,s.useRef)(),V=(0,s.useState)(!1),B=l()(V,2),Y=B[0],K=B[1],X=(0,s.useState)(!1),I=l()(X,2),D=I[0],S=I[1],N=(0,s.useState)(),k=l()(N,2),W=k[0],Q=k[1];(0,s.useEffect)(function(){var m;(m=A.current)===null||m===void 0||m.reload()},[T]);var q=function(){var m=a()(r()().mark(function f(o){var E,v;return r()().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return p.next=2,(0,c.zt)(o,T);case 2:E=p.sent,E.succeeded?(_.ZP.success("Deleted!"),(v=A.current)===null||v===void 0||v.reload()):_.ZP.error(E.errors[0].description);case 4:case"end":return p.stop()}},f)}));return function(o){return m.apply(this,arguments)}}(),H=function(){var m=a()(r()().mark(function f(o){var E,v;return r()().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return p.next=2,(0,c.aN)(o);case 2:E=p.sent,E.succeeded&&(_.ZP.success("Sorted!"),(v=A.current)===null||v===void 0||v.reload());case 4:case"end":return p.stop()}},f)}));return function(o){return m.apply(this,arguments)}}(),$=function(){var m=a()(r()().mark(function f(o){var E,v;return r()().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return o.catalogId=T,p.next=3,(0,c.yL)(o);case 3:E=p.sent,E.succeeded&&(_.ZP.success("Added!"),K(!1),(v=A.current)===null||v===void 0||v.reload());case 5:case"end":return p.stop()}},f)}));return function(o){return m.apply(this,arguments)}}(),L=function(){var m=a()(r()().mark(function f(){var o;return r()().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return v.next=2,(0,c.x)();case 2:o=v.sent,Q(o),S(!0);case 5:case"end":return v.stop()}},f)}));return function(){return m.apply(this,arguments)}}(),J=function(){var m=a()(r()().mark(function f(o){var E,v;return r()().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return p.next=2,(0,c.jX)(o);case 2:E=p.sent,E.succeeded&&(_.ZP.success("Saved"),S(!1),(v=A.current)===null||v===void 0||v.reload());case 4:case"end":return p.stop()}},f)}));return function(o){return m.apply(this,arguments)}}();return(0,n.jsxs)("div",{children:[(0,n.jsx)(Z.Rs,{toolBarRender:function(){return[(0,n.jsx)(y.Z,{onClick:function(){return K(!0)},type:"primary",icon:(0,n.jsx)(w.Z,{}),children:(0,n.jsx)(t.FormattedMessage,{id:"general.new"})},0),(0,n.jsx)(y.Z,{onClick:L,icon:(0,n.jsx)(w.Z,{}),children:"Ch\u1ECDn"},1)]},rowSelection:{},actionRef:A,request:a()(r()().mark(function m(){return r()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",(0,c.KC)(T));case 1:case"end":return o.stop()}},m)})),headerTitle:"Work items",metas:{title:{dataIndex:"name"},actions:{render:function(f,o){return[(0,n.jsx)(y.Z,{type:"primary",icon:(0,n.jsx)(g.Z,{}),onClick:function(){t.history.push("/works/".concat(o.normalizedName.toLocaleLowerCase(),"/").concat(o.id))}},1),(0,n.jsx)(y.Z,{icon:(0,n.jsx)(M.Z,{}),onClick:function(){return H({workId:o.id,catalogId:T,sortOrder:o.sortOrder-1})}},2),(0,n.jsx)(y.Z,{icon:(0,n.jsx)(x.Z,{}),onClick:function(){return H({workId:o.id,catalogId:T,sortOrder:o.sortOrder+1})}},3),(0,n.jsxs)(R.Z,{title:"Are you sure?",onConfirm:function(){return q(o.id)},children:[(0,n.jsx)(y.Z,{icon:(0,n.jsx)(b.Z,{}),danger:!0,type:"primary"}),","]},4)]}}}}),(0,n.jsx)(u.Z,{open:Y,onOpenChange:K,onFinish:$}),(0,n.jsxs)(j.Y,{open:D,onOpenChange:S,onFinish:J,children:[(0,n.jsx)(h.Z,{name:"catalogId",initialValue:T,hidden:!0}),(0,n.jsx)(U.Z,{showSearch:!0,name:"workContentId",options:W,label:"Work"})]})]})},te=C,ae=e(78710),z=e(61614),se=e(62884),ue=e(30029),oe=e(71230),ne=e(15746),ie=e(26713),le=e(97269),ce=e(90672),de=e(63434),me=function(){var G=(0,t.useParams)(),T=G.id,A=(0,s.useRef)(),V=(0,s.useState)(),B=l()(V,2),Y=B[0],K=B[1];(0,s.useEffect)(function(){(0,z.Z9)().then(function(I){K(I),(0,z.R4)(T).then(function(D){var S;(S=A.current)===null||S===void 0||S.setFields([{name:"id",value:D.id},{name:"name",value:D.name},{name:"normalizedName",value:D.normalizedName},{name:"description",value:D.description},{name:"thumbnail",value:D.thumbnail},{name:"type",value:D.type.toString()},{name:"active",value:D.active}])})})},[T]);var X=function(){var I=a()(r()().mark(function D(S){var N;return r()().wrap(function(W){for(;;)switch(W.prev=W.next){case 0:return S.type=Number(S.type),W.next=3,(0,z.BA)(S);case 3:N=W.sent,N.succeeded&&_.ZP.success("Saved!");case 5:case"end":return W.stop()}},D)}));return function(S){return I.apply(this,arguments)}}();return(0,n.jsxs)(le.A,{formRef:A,onFinish:X,children:[(0,n.jsx)(h.Z,{name:"id",hidden:!0}),(0,n.jsx)(h.Z,{name:"name",label:"Name",rules:[{required:!0}]}),(0,n.jsx)(h.Z,{name:"normalizedName",label:"Normalized name",rules:[{required:!0}]}),(0,n.jsx)(ce.Z,{name:"description",label:"Description"}),(0,n.jsx)(h.Z,{name:"thumbnail",label:"Thumbnail"}),(0,n.jsx)(U.Z,{name:"type",label:"Type",options:Y,allowClear:!1}),(0,n.jsx)(de.Z,{name:"active",label:"Active"})]})},pe=me,fe=e(2343),ve=function(){var G=(0,t.useIntl)(),T=(0,t.useParams)(),A=T.id,V=(0,s.useState)(!1),B=l()(V,2),Y=B[0],K=B[1],X=(0,s.useState)(),I=l()(X,2),D=I[0],S=I[1],N=(0,s.useState)("content"),k=l()(N,2),W=k[0],Q=k[1];(0,s.useEffect)(function(){(0,z.R4)(A).then(function($){return S($)})},[A]);var q=function(){var $=a()(r()().mark(function L(J){return r()().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:(0,z.BP)(J).then(function(o){o.succeeded&&(_.ZP.success("Saved!"),K(!1))});case 1:case"end":return f.stop()}},L)}));return function(J){return $.apply(this,arguments)}}(),H=function(){var $=a()(r()().mark(function L(){return r()().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return m.next=2,(0,ae.W)(A);case 2:case"end":return m.stop()}},L)}));return function(){return $.apply(this,arguments)}}();return(0,n.jsx)(se._z,{title:D==null?void 0:D.name,children:(0,n.jsxs)(oe.Z,{gutter:16,children:[(0,n.jsxs)(ne.Z,{span:18,children:[(0,n.jsx)(ue.Z,{tabs:{tabPosition:"top",activeKey:W,items:[{label:"Content",key:"content",children:(0,n.jsx)(te,{})},{label:G.formatMessage({id:"menu.settings"}),key:"setting",children:(0,n.jsx)(pe,{})}],onChange:function(L){Q(L)}},extra:(0,n.jsxs)(ie.Z,{children:[(0,n.jsx)(y.Z,{type:"primary",onClick:H,children:"Export"}),(0,n.jsx)(y.Z,{type:"primary",danger:!0,children:"Import"})]})}),(0,n.jsxs)(j.Y,{onFinish:q,open:Y,onOpenChange:K,children:[(0,n.jsx)(h.Z,{name:"name",label:"Name"}),(0,n.jsx)(h.Z,{name:"normalizedName",label:"Normalized Name"})]})]}),(0,n.jsx)(ne.Z,{span:6,children:(0,n.jsx)(fe.Z,{})})]})})},he=ve},78710:function(F,O,e){e.d(O,{Jx:function(){return b},W:function(){return y},_O:function(){return w},_s:function(){return M},dk:function(){return U},gn:function(){return j},rZ:function(){return l}});var d=e(15009),r=e.n(d),P=e(99289),a=e.n(P),i=e(90905);function l(){return c.apply(this,arguments)}function c(){return c=a()(r()().mark(function t(){return r()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.abrupt("return",(0,i.request)("backup/statistic"));case 1:case"end":return u.stop()}},t)})),c.apply(this,arguments)}function w(){return g.apply(this,arguments)}function g(){return g=a()(r()().mark(function t(){return r()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.abrupt("return",(0,i.request)("backup/export",{method:"POST"}));case 1:case"end":return u.stop()}},t)})),g.apply(this,arguments)}function M(){return x.apply(this,arguments)}function x(){return x=a()(r()().mark(function t(){return r()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.abrupt("return",(0,i.request)("backup/upgrade",{method:"POST"}));case 1:case"end":return u.stop()}},t)})),x.apply(this,arguments)}function b(){return Z.apply(this,arguments)}function Z(){return Z=a()(r()().mark(function t(){return r()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.abrupt("return",(0,i.request)("backup/upgrade/list"));case 1:case"end":return u.stop()}},t)})),Z.apply(this,arguments)}function j(t){return h.apply(this,arguments)}function h(){return h=a()(r()().mark(function t(s){return r()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,i.request)(s,{method:"POST"}));case 1:case"end":return n.stop()}},t)})),h.apply(this,arguments)}function U(t){return _.apply(this,arguments)}function _(){return _=a()(r()().mark(function t(s){var u;return r()().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return u=new FormData,u.append("file",s),C.abrupt("return",(0,i.request)("backup/import",{method:"POST",data:u}));case 3:case"end":return C.stop()}},t)})),_.apply(this,arguments)}function y(t){return R.apply(this,arguments)}function R(){return R=a()(r()().mark(function t(s){return r()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,i.request)("backup/export/catalog/".concat(s),{method:"POST"}));case 1:case"end":return n.stop()}},t)})),R.apply(this,arguments)}},98364:function(F,O,e){e.d(O,{CO:function(){return b},Ef:function(){return y},KL:function(){return M},Xr:function(){return l},Z:function(){return j},v7:function(){return U}});var d=e(15009),r=e.n(d),P=e(99289),a=e.n(P),i=e(90905);function l(t){return c.apply(this,arguments)}function c(){return c=a()(r()().mark(function t(s){return r()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,i.request)("component/".concat(s)));case 1:case"end":return n.stop()}},t)})),c.apply(this,arguments)}function w(t){return g.apply(this,arguments)}function g(){return g=_asyncToGenerator(_regeneratorRuntime().mark(function t(s){return _regeneratorRuntime().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",request("component/add",{method:"POST",data:s}));case 1:case"end":return n.stop()}},t)})),g.apply(this,arguments)}function M(t){return x.apply(this,arguments)}function x(){return x=a()(r()().mark(function t(s){return r()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,i.request)("component/update",{method:"POST",data:s}));case 1:case"end":return n.stop()}},t)})),x.apply(this,arguments)}function b(t){return Z.apply(this,arguments)}function Z(){return Z=a()(r()().mark(function t(s){return r()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,i.request)("component/list",{params:s}));case 1:case"end":return n.stop()}},t)})),Z.apply(this,arguments)}function j(t,s){return h.apply(this,arguments)}function h(){return h=a()(r()().mark(function t(s,u){return r()().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return C.abrupt("return",(0,i.request)("component/list-work/".concat(u),{params:s}));case 1:case"end":return C.stop()}},t)})),h.apply(this,arguments)}function U(t){return _.apply(this,arguments)}function _(){return _=a()(r()().mark(function t(s){return r()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,i.request)("component/delete/".concat(s),{method:"POST"}));case 1:case"end":return n.stop()}},t)})),_.apply(this,arguments)}function y(t){return R.apply(this,arguments)}function R(){return R=a()(r()().mark(function t(s){var u;return r()().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return u={searchTerm:s.keyWords},C.abrupt("return",(0,i.request)("component/form-select",{params:u}));case 2:case"end":return C.stop()}},t)})),R.apply(this,arguments)}}}]);
