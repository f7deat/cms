"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[5690],{77171:function(U,g,n){n.d(g,{Z:function(){return d}});var _=n(1413),r=n(62435),C={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M862 465.3h-81c-4.6 0-9 2-12.1 5.5L550 723.1V160c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v563.1L255.1 470.8c-3-3.5-7.4-5.5-12.1-5.5h-81c-6.8 0-10.5 8.1-6 13.2L487.9 861a31.96 31.96 0 0048.3 0L868 478.5c4.5-5.2.8-13.2-6-13.2z"}}]},name:"arrow-down",theme:"outlined"},u=C,i=n(84089),f=function(y,w){return r.createElement(i.Z,(0,_.Z)((0,_.Z)({},y),{},{ref:w,icon:u}))};f.displayName="ArrowDownOutlined";var d=r.forwardRef(f)},1912:function(U,g,n){n.d(g,{Z:function(){return d}});var _=n(1413),r=n(62435),C={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M868 545.5L536.1 163a31.96 31.96 0 00-48.3 0L156 545.5a7.97 7.97 0 006 13.2h81c4.6 0 9-2 12.1-5.5L474 300.9V864c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V300.9l218.9 252.3c3 3.5 7.4 5.5 12.1 5.5h81c6.8 0 10.5-8 6-13.2z"}}]},name:"arrow-up",theme:"outlined"},u=C,i=n(84089),f=function(y,w){return r.createElement(i.Z,(0,_.Z)((0,_.Z)({},y),{},{ref:w,icon:u}))};f.displayName="ArrowUpOutlined";var d=r.forwardRef(f)},76131:function(U,g,n){var _=n(99351),r=n(5966),C=n(65675),u=n(86074),i=function(d){return(0,u.jsxs)(_.Y,{open:d.open,title:"Component",onFinish:d.onFinish,onOpenChange:d.onOpenChange,children:[(0,u.jsx)(r.Z,{name:"name",label:"Name"}),(0,u.jsx)(C.Z,{name:"componentId",label:"Component"})]})};g.Z=i},65675:function(U,g,n){var _=n(98364),r=n(64317),C=n(86074),u=function(f){return(0,C.jsx)(r.Z,{showSearch:!0,request:_.Ef,name:f.name,label:f.label})};g.Z=u},38832:function(U,g,n){n.r(g),n.d(g,{default:function(){return de}});var _=n(15009),r=n.n(_),C=n(99289),u=n.n(C),i=n(5574),f=n.n(i),d=n(66352),T=n(24969),y=n(86548),w=n(1912),D=n(77171),b=n(48689),P=n(22538),x=n(99351),j=n(5966),L=n(64317),O=n(27790),E=n(71577),Z=n(86738),t=n(90905),s=n(62435),a=n(76131),e=n(86074),v=function(){var z=(0,t.useParams)(),A=z.id,S=(0,s.useRef)(),G=(0,s.useState)(!1),W=f()(G,2),V=W[0],I=W[1],Y=(0,s.useState)(!1),$=f()(Y,2),B=$[0],K=$[1],X=(0,s.useState)(),F=f()(X,2),J=F[0],H=F[1];(0,s.useEffect)(function(){var c;(c=S.current)===null||c===void 0||c.reload()},[A]);var Q=function(){var c=u()(r()().mark(function p(o){var h,m;return r()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,(0,d.zt)(o,A);case 2:h=l.sent,h.succeeded?(O.ZP.success("Deleted!"),(m=S.current)===null||m===void 0||m.reload()):O.ZP.error(h.errors[0].description);case 4:case"end":return l.stop()}},p)}));return function(o){return c.apply(this,arguments)}}(),N=function(){var c=u()(r()().mark(function p(o){var h,m;return r()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,(0,d.aN)(o);case 2:h=l.sent,h.succeeded&&(O.ZP.success("Sorted!"),(m=S.current)===null||m===void 0||m.reload());case 4:case"end":return l.stop()}},p)}));return function(o){return c.apply(this,arguments)}}(),R=function(){var c=u()(r()().mark(function p(o){var h,m;return r()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return o.catalogId=A,l.next=3,(0,d.yL)(o);case 3:h=l.sent,h.succeeded&&(O.ZP.success("Added!"),I(!1),(m=S.current)===null||m===void 0||m.reload());case 5:case"end":return l.stop()}},p)}));return function(o){return c.apply(this,arguments)}}(),M=function(){var c=u()(r()().mark(function p(){var o;return r()().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return m.next=2,(0,d.x)();case 2:o=m.sent,H(o),K(!0);case 5:case"end":return m.stop()}},p)}));return function(){return c.apply(this,arguments)}}(),k=function(){var c=u()(r()().mark(function p(o){var h,m;return r()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,(0,d.jX)(o);case 2:h=l.sent,h.succeeded&&(O.ZP.success("Saved"),K(!1),(m=S.current)===null||m===void 0||m.reload());case 4:case"end":return l.stop()}},p)}));return function(o){return c.apply(this,arguments)}}();return(0,e.jsxs)("div",{children:[(0,e.jsx)(P.Rs,{toolBarRender:function(){return[(0,e.jsx)(E.Z,{onClick:function(){return I(!0)},type:"primary",icon:(0,e.jsx)(T.Z,{}),children:(0,e.jsx)(t.FormattedMessage,{id:"general.new"})},0),(0,e.jsx)(E.Z,{onClick:M,icon:(0,e.jsx)(T.Z,{}),children:"Ch\u1ECDn"},1)]},rowSelection:{},actionRef:S,request:u()(r()().mark(function c(){return r()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",(0,d.KC)(A));case 1:case"end":return o.stop()}},c)})),headerTitle:"Work items",metas:{title:{dataIndex:"name"},actions:{render:function(p,o){return[(0,e.jsx)(E.Z,{type:"primary",icon:(0,e.jsx)(y.Z,{}),onClick:function(){t.history.push("/works/".concat(o.normalizedName.toLocaleLowerCase(),"/").concat(o.id))}},1),(0,e.jsx)(E.Z,{icon:(0,e.jsx)(w.Z,{}),onClick:function(){return N({workId:o.id,catalogId:A,sortOrder:o.sortOrder-1})}},2),(0,e.jsx)(E.Z,{icon:(0,e.jsx)(D.Z,{}),onClick:function(){return N({workId:o.id,catalogId:A,sortOrder:o.sortOrder+1})}},3),(0,e.jsxs)(Z.Z,{title:"Are you sure?",onConfirm:function(){return Q(o.id)},children:[(0,e.jsx)(E.Z,{icon:(0,e.jsx)(b.Z,{}),danger:!0,type:"primary"}),","]},4)]}}}}),(0,e.jsx)(a.Z,{open:V,onOpenChange:I,onFinish:R}),(0,e.jsxs)(x.Y,{open:B,onOpenChange:K,onFinish:k,children:[(0,e.jsx)(j.Z,{name:"catalogId",initialValue:A,hidden:!0}),(0,e.jsx)(L.Z,{showSearch:!0,name:"workContentId",options:J,label:"Work"})]})]})},re=v,te=n(78710),ee=n(61614),ae=n(62884),se=n(30029),ue=n(71230),ne=n(15746),oe=n(26713),ie=n(35003),ce=n(74350),le=function(){var z=(0,t.useIntl)(),A=(0,t.useParams)(),S=A.id,G=(0,s.useState)(!1),W=f()(G,2),V=W[0],I=W[1],Y=(0,s.useState)(),$=f()(Y,2),B=$[0],K=$[1],X=(0,s.useState)("content"),F=f()(X,2),J=F[0],H=F[1];(0,s.useEffect)(function(){(0,ee.R4)(S).then(function(R){return K(R)})},[S]);var Q=function(){var R=u()(r()().mark(function M(k){return r()().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:(0,ee.BP)(k).then(function(o){o.succeeded&&(O.ZP.success("Saved!"),I(!1))});case 1:case"end":return p.stop()}},M)}));return function(k){return R.apply(this,arguments)}}(),N=function(){var R=u()(r()().mark(function M(){return r()().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,(0,te.W)(S);case 2:case"end":return c.stop()}},M)}));return function(){return R.apply(this,arguments)}}();return(0,e.jsx)(ae._z,{title:B==null?void 0:B.name,children:(0,e.jsxs)(ue.Z,{gutter:16,children:[(0,e.jsxs)(ne.Z,{span:18,children:[(0,e.jsx)(se.Z,{tabs:{tabPosition:"top",activeKey:J,items:[{label:"Content",key:"content",children:(0,e.jsx)(re,{})},{label:z.formatMessage({id:"menu.settings"}),key:"setting",children:(0,e.jsx)(ie.Z,{})}],onChange:function(M){H(M)}},extra:(0,e.jsxs)(oe.Z,{children:[(0,e.jsx)(E.Z,{type:"primary",onClick:N,children:"Export"}),(0,e.jsx)(E.Z,{type:"primary",danger:!0,children:"Import"})]})}),(0,e.jsxs)(x.Y,{onFinish:Q,open:V,onOpenChange:I,children:[(0,e.jsx)(j.Z,{name:"name",label:"Name"}),(0,e.jsx)(j.Z,{name:"normalizedName",label:"Normalized Name"})]})]}),(0,e.jsx)(ne.Z,{span:6,children:(0,e.jsx)(ce.Z,{})})]})})},de=le},78710:function(U,g,n){n.d(g,{Jx:function(){return b},W:function(){return E},_O:function(){return T},_s:function(){return w},dk:function(){return L},gn:function(){return x},rZ:function(){return f}});var _=n(15009),r=n.n(_),C=n(99289),u=n.n(C),i=n(90905);function f(){return d.apply(this,arguments)}function d(){return d=u()(r()().mark(function t(){return r()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,i.request)("backup/statistic"));case 1:case"end":return a.stop()}},t)})),d.apply(this,arguments)}function T(){return y.apply(this,arguments)}function y(){return y=u()(r()().mark(function t(){return r()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,i.request)("backup/export",{method:"POST"}));case 1:case"end":return a.stop()}},t)})),y.apply(this,arguments)}function w(){return D.apply(this,arguments)}function D(){return D=u()(r()().mark(function t(){return r()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,i.request)("backup/upgrade",{method:"POST"}));case 1:case"end":return a.stop()}},t)})),D.apply(this,arguments)}function b(){return P.apply(this,arguments)}function P(){return P=u()(r()().mark(function t(){return r()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,i.request)("backup/upgrade/list"));case 1:case"end":return a.stop()}},t)})),P.apply(this,arguments)}function x(t){return j.apply(this,arguments)}function j(){return j=u()(r()().mark(function t(s){return r()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,i.request)(s,{method:"POST"}));case 1:case"end":return e.stop()}},t)})),j.apply(this,arguments)}function L(t){return O.apply(this,arguments)}function O(){return O=u()(r()().mark(function t(s){var a;return r()().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return a=new FormData,a.append("file",s),v.abrupt("return",(0,i.request)("backup/import",{method:"POST",data:a}));case 3:case"end":return v.stop()}},t)})),O.apply(this,arguments)}function E(t){return Z.apply(this,arguments)}function Z(){return Z=u()(r()().mark(function t(s){return r()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,i.request)("backup/export/catalog/".concat(s),{method:"POST"}));case 1:case"end":return e.stop()}},t)})),Z.apply(this,arguments)}},98364:function(U,g,n){n.d(g,{CO:function(){return b},Ef:function(){return E},KL:function(){return w},Xr:function(){return f},Z:function(){return x},v7:function(){return L}});var _=n(15009),r=n.n(_),C=n(99289),u=n.n(C),i=n(90905);function f(t){return d.apply(this,arguments)}function d(){return d=u()(r()().mark(function t(s){return r()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,i.request)("component/".concat(s)));case 1:case"end":return e.stop()}},t)})),d.apply(this,arguments)}function T(t){return y.apply(this,arguments)}function y(){return y=_asyncToGenerator(_regeneratorRuntime().mark(function t(s){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",request("component/add",{method:"POST",data:s}));case 1:case"end":return e.stop()}},t)})),y.apply(this,arguments)}function w(t){return D.apply(this,arguments)}function D(){return D=u()(r()().mark(function t(s){return r()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,i.request)("component/update",{method:"POST",data:s}));case 1:case"end":return e.stop()}},t)})),D.apply(this,arguments)}function b(t){return P.apply(this,arguments)}function P(){return P=u()(r()().mark(function t(s){return r()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,i.request)("component/list",{params:s}));case 1:case"end":return e.stop()}},t)})),P.apply(this,arguments)}function x(t,s){return j.apply(this,arguments)}function j(){return j=u()(r()().mark(function t(s,a){return r()().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return v.abrupt("return",(0,i.request)("component/list-work/".concat(a),{params:s}));case 1:case"end":return v.stop()}},t)})),j.apply(this,arguments)}function L(t){return O.apply(this,arguments)}function O(){return O=u()(r()().mark(function t(s){return r()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,i.request)("component/delete/".concat(s),{method:"POST"}));case 1:case"end":return e.stop()}},t)})),O.apply(this,arguments)}function E(t){return Z.apply(this,arguments)}function Z(){return Z=u()(r()().mark(function t(s){var a;return r()().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return a={searchTerm:s.keyWords},v.abrupt("return",(0,i.request)("component/form-select",{params:a}));case 2:case"end":return v.stop()}},t)})),Z.apply(this,arguments)}}}]);
