"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[690],{93658:function(W,A,a){a.r(A),a.d(A,{default:function(){return J}});var M=a(15009),r=a.n(M),$=a(99289),f=a.n($),g=a(5574),p=a.n(g),h=a(12361),F=a(24969),n=a(8111),N=a(90905),R=a(69677),S=a(16536),T=a(71577),Q=a(39890),l=a(67294),e=a(85893),D=R.Z.Search,s=function(){var P=(0,l.useRef)(),j=(0,l.useState)([]),x=p()(j,2),E=x[0],o=x[1],d=(0,l.useState)([]),c=p()(d,2),C=c[0],V=c[1],y=(0,l.useState)(!0),m=p()(y,2),Y=m[0],H=m[1],X=(0,l.useState)(!1),w=p()(X,2),k=w[0],B=w[1];(0,l.useEffect)(function(){(0,h.jr)().then(function(b){o(b)})},[]);var q=function(v){V(v),H(!1)},ee=function(v){var _;if(!v||v.length===0){S.ZP.warning("Can de-select");return}(_=P.current)===null||_===void 0||_.setFieldValue("parentId",v[0]),N.history.push("/catalog/".concat(v[0]))},ae=function(){var b=f()(r()().mark(function v(_){var I;return r()().wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:return Z.next=2,(0,h.BP)(_);case 2:I=Z.sent,I.succeeded&&(S.ZP.success("Saved!"),B(!1));case 4:case"end":return Z.stop()}},v)}));return function(_){return b.apply(this,arguments)}}(),ne=function(){B(!0)};return(0,e.jsxs)("div",{children:[(0,e.jsxs)("div",{className:"flex",children:[(0,e.jsx)(D,{}),(0,e.jsx)(T.Z,{type:"primary",icon:(0,e.jsx)(F.Z,{}),onClick:ne})]}),(0,e.jsx)("div",{className:"bg-white",children:(0,e.jsx)(Q.Z,{treeData:E,expandedKeys:C,onExpand:q,autoExpandParent:Y,draggable:!0,onSelect:ee})}),(0,e.jsxs)(n.Yr8,{onVisibleChange:B,visible:k,onFinish:ae,formRef:P,children:[(0,e.jsx)(n.VaQ,{name:"parentId",label:"Parrent Id",disabled:!0}),(0,e.jsx)(n.VaQ,{name:"name",label:"Name"}),(0,e.jsx)(n.VaQ,{name:"normalizedName",label:"Normalized Name"}),(0,e.jsx)(n.V2E,{name:"active",label:"Active"})]})]})},i=s,u=a(27049),t=function(){var P=(0,N.useParams)(),j=P.id,x=(0,l.useRef)();(0,l.useEffect)(function(){(0,h.R4)(j).then(function(o){var d;(d=x.current)===null||d===void 0||d.setFields([{name:"id",value:o.id},{name:"name",value:o.name},{name:"normalizedName",value:o.normalizedName},{name:"title",value:o.setting.title},{name:"container",value:o.setting.container}])})},[j]);var E=function(){var o=f()(r()().mark(function d(c){var C,V;return r()().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return C={title:c.title,container:c.container},c.setting=C,m.next=4,(0,h.BA)(c);case 4:V=m.sent,V.succeeded&&S.ZP.success("Saved!");case 6:case"end":return m.stop()}},d)}));return function(c){return o.apply(this,arguments)}}();return(0,e.jsx)(n.QWM,{title:"Settings",children:(0,e.jsxs)(n.A96,{formRef:x,onFinish:E,children:[(0,e.jsx)(n.VaQ,{name:"id",hidden:!0}),(0,e.jsx)(n.VaQ,{name:"name",label:"Name"}),(0,e.jsx)(n.VaQ,{name:"normalizedName",label:"Normalized name"}),(0,e.jsx)(n.$JJ,{name:"description",label:"Description"}),(0,e.jsx)(u.Z,{}),(0,e.jsx)(n.VaQ,{name:"title",label:"Title"}),(0,e.jsx)(n.V2E,{name:"container",label:"Container"})]})})},G=t,K=a(58620),z=a(71230),O=a(15746),L=function(){var P=(0,l.useState)(!1),j=p()(P,2),x=j[0],E=j[1],o=function(){var d=f()(r()().mark(function c(C){return r()().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:(0,h.BP)(C).then(function(m){m.succeeded&&(S.ZP.success("Saved!"),E(!1))});case 1:case"end":return y.stop()}},c)}));return function(C){return d.apply(this,arguments)}}();return(0,e.jsx)(n._zJ,{children:(0,e.jsxs)(z.Z,{gutter:16,children:[(0,e.jsx)(O.Z,{span:4,children:(0,e.jsx)(i,{})}),(0,e.jsxs)(O.Z,{span:20,children:[(0,e.jsxs)(z.Z,{gutter:16,children:[(0,e.jsx)(O.Z,{span:16,children:(0,e.jsx)(K.Z,{child:!1})}),(0,e.jsx)(O.Z,{span:8,children:(0,e.jsx)(G,{})})]}),(0,e.jsxs)(n.Yr8,{onFinish:o,visible:x,onVisibleChange:E,children:[(0,e.jsx)(n.VaQ,{name:"name",label:"Name"}),(0,e.jsx)(n.VaQ,{name:"normalizedName",label:"Normalized Name"})]})]})]})})},J=L},12361:function(W,A,a){a.d(A,{A$:function(){return N},BA:function(){return e},BP:function(){return F},R4:function(){return p},jr:function(){return S}});var M=a(15009),r=a.n(M),$=a(99289),f=a.n($),g=a(90905);function p(s){return h.apply(this,arguments)}function h(){return h=f()(r()().mark(function s(i){return r()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,g.request)("catalog/".concat(i)));case 1:case"end":return t.stop()}},s)})),h.apply(this,arguments)}function F(s){return n.apply(this,arguments)}function n(){return n=f()(r()().mark(function s(i){return r()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,g.request)("catalog/add",{method:"POST",data:i}));case 1:case"end":return t.stop()}},s)})),n.apply(this,arguments)}function N(){return R.apply(this,arguments)}function R(){return R=f()(r()().mark(function s(){return r()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.abrupt("return",(0,g.request)("catalog/list"));case 1:case"end":return u.stop()}},s)})),R.apply(this,arguments)}function S(){return T.apply(this,arguments)}function T(){return T=f()(r()().mark(function s(){return r()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.abrupt("return",(0,g.request)("catalog/tree"));case 1:case"end":return u.stop()}},s)})),T.apply(this,arguments)}function Q(s){return l.apply(this,arguments)}function l(){return l=_asyncToGenerator(_regeneratorRuntime().mark(function s(i){return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",request("catalog/delete/".concat(i),{method:"POST"}));case 1:case"end":return t.stop()}},s)})),l.apply(this,arguments)}function e(s){return D.apply(this,arguments)}function D(){return D=f()(r()().mark(function s(i){return r()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,g.request)("catalog/save",{method:"POST",data:i}));case 1:case"end":return t.stop()}},s)})),D.apply(this,arguments)}}}]);
