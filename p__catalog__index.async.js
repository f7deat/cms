"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[5690],{77171:function(b,D,e){e.d(D,{Z:function(){return l}});var s=e(1413),n=e(62435),f={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M862 465.3h-81c-4.6 0-9 2-12.1 5.5L550 723.1V160c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v563.1L255.1 470.8c-3-3.5-7.4-5.5-12.1-5.5h-81c-6.8 0-10.5 8.1-6 13.2L487.9 861a31.96 31.96 0 0048.3 0L868 478.5c4.5-5.2.8-13.2-6-13.2z"}}]},name:"arrow-down",theme:"outlined"},o=f,u=e(84089),m=function(P,v){return n.createElement(u.Z,(0,s.Z)((0,s.Z)({},P),{},{ref:v,icon:o}))};m.displayName="ArrowDownOutlined";var l=n.forwardRef(m)},82826:function(b,D,e){e.d(D,{Z:function(){return l}});var s=e(1413),n=e(62435),f={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M872 474H286.9l350.2-304c5.6-4.9 2.2-14-5.2-14h-88.5c-3.9 0-7.6 1.4-10.5 3.9L155 487.8a31.96 31.96 0 000 48.3L535.1 866c1.5 1.3 3.3 2 5.2 2h91.5c7.4 0 10.8-9.2 5.2-14L286.9 550H872c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z"}}]},name:"arrow-left",theme:"outlined"},o=f,u=e(84089),m=function(P,v){return n.createElement(u.Z,(0,s.Z)((0,s.Z)({},P),{},{ref:v,icon:o}))};m.displayName="ArrowLeftOutlined";var l=n.forwardRef(m)},1912:function(b,D,e){e.d(D,{Z:function(){return l}});var s=e(1413),n=e(62435),f={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M868 545.5L536.1 163a31.96 31.96 0 00-48.3 0L156 545.5a7.97 7.97 0 006 13.2h81c4.6 0 9-2 12.1-5.5L474 300.9V864c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V300.9l218.9 252.3c3 3.5 7.4 5.5 12.1 5.5h81c6.8 0 10.5-8 6-13.2z"}}]},name:"arrow-up",theme:"outlined"},o=f,u=e(84089),m=function(P,v){return n.createElement(u.Z,(0,s.Z)((0,s.Z)({},P),{},{ref:v,icon:o}))};m.displayName="ArrowUpOutlined";var l=n.forwardRef(m)},63434:function(b,D,e){var s=e(1413),n=e(91),f=e(86074),o=e(22270),u=e(32808),m=e(62435),l=e(90789),h=e(15790),P=["options","fieldProps","proFieldProps","valueEnum"],v=m.forwardRef(function(_,a){var i=_.options,r=_.fieldProps,A=_.proFieldProps,O=_.valueEnum,d=(0,n.Z)(_,P);return(0,f.jsx)(h.Z,(0,s.Z)({ref:a,valueType:"checkbox",valueEnum:(0,o.h)(O,void 0),fieldProps:(0,s.Z)({options:i},r),lightProps:(0,s.Z)({labelFormatter:function(){return(0,f.jsx)(h.Z,(0,s.Z)({ref:a,valueType:"checkbox",mode:"read",valueEnum:(0,o.h)(O,void 0),filedConfig:{customLightMode:!0},fieldProps:(0,s.Z)({options:i},r),proFieldProps:A},d))}},d.lightProps),proFieldProps:A},d))}),g=m.forwardRef(function(_,a){var i=_.fieldProps,r=_.children;return(0,f.jsx)(u.Z,(0,s.Z)((0,s.Z)({ref:a},i),{},{children:r}))}),T=(0,l.G)(g,{valuePropName:"checked"}),E=T;E.Group=v,D.Z=E},64317:function(b,D,e){var s=e(1413),n=e(91),f=e(86074),o=e(22270),u=e(62435),m=e(66758),l=e(15790),h=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","showSearch","options"],P=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","options"],v=u.forwardRef(function(a,i){var r=a.fieldProps,A=a.children,O=a.params,d=a.proFieldProps,B=a.mode,$=a.valueEnum,W=a.request,I=a.showSearch,L=a.options,F=(0,n.Z)(a,h),U=(0,u.useContext)(m.Z);return(0,f.jsx)(l.Z,(0,s.Z)((0,s.Z)({valueEnum:(0,o.h)($),request:W,params:O,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:(0,s.Z)({options:L,mode:B,showSearch:I,getPopupContainer:U.getPopupContainer},r),ref:i,proFieldProps:d},F),{},{children:A}))}),g=u.forwardRef(function(a,i){var r=a.fieldProps,A=a.children,O=a.params,d=a.proFieldProps,B=a.mode,$=a.valueEnum,W=a.request,I=a.options,L=(0,n.Z)(a,P),F=(0,s.Z)({options:I,mode:B||"multiple",labelInValue:!0,showSearch:!0,showArrow:!1,autoClearSearchValue:!0,optionLabelProp:"label"},r),U=(0,u.useContext)(m.Z);return(0,f.jsx)(l.Z,(0,s.Z)((0,s.Z)({valueEnum:(0,o.h)($),request:W,params:O,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:(0,s.Z)({getPopupContainer:U.getPopupContainer},F),ref:i,proFieldProps:d},L),{},{children:A}))}),T=v,E=g,_=T;_.SearchSelect=E,_.displayName="ProFormComponent",D.Z=_},90672:function(b,D,e){var s=e(1413),n=e(91),f=e(86074),o=e(62435),u=e(15790),m=["fieldProps","proFieldProps"],l=function(P,v){var g=P.fieldProps,T=P.proFieldProps,E=(0,n.Z)(P,m);return(0,f.jsx)(u.Z,(0,s.Z)({ref:v,valueType:"textarea",fieldProps:g,proFieldProps:T},E))};D.Z=o.forwardRef(l)},5966:function(b,D,e){var s=e(1413),n=e(91),f=e(86074),o=e(15790),u=["fieldProps","proFieldProps"],m=["fieldProps","proFieldProps"],l="text",h=function(T){var E=T.fieldProps,_=T.proFieldProps,a=(0,n.Z)(T,u);return(0,f.jsx)(o.Z,(0,s.Z)({valueType:l,fieldProps:E,filedConfig:{valueType:l},proFieldProps:_},a))},P=function(T){var E=T.fieldProps,_=T.proFieldProps,a=(0,n.Z)(T,m);return(0,f.jsx)(o.Z,(0,s.Z)({valueType:"password",fieldProps:E,proFieldProps:_,filedConfig:{valueType:l}},a))},v=h;v.Password=P,v.displayName="ProFormComponent",D.Z=v},76131:function(b,D,e){var s=e(5574),n=e.n(s),f=e(98364),o=e(99351),u=e(5966),m=e(64317),l=e(62435),h=e(86074),P=function(g){var T=(0,l.useState)(),E=n()(T,2),_=E[0],a=E[1];return(0,l.useEffect)(function(){(0,f.eB)().then(function(i){a(i.map(function(r){return{label:r.name,value:r.id}}))})},[]),(0,h.jsxs)(o.Y,{open:g.open,title:"Add component",onFinish:g.onFinish,onOpenChange:g.onOpenChange,children:[(0,h.jsx)(u.Z,{name:"name",label:"Name"}),(0,h.jsx)(m.Z,{showSearch:!0,options:_,name:"componentId",label:"Component"})]})};D.Z=P},14027:function(b,D,e){var s=e(15009),n=e.n(s),f=e(99289),o=e.n(f),u=e(5574),m=e.n(u),l=e(66352),h=e(24969),P=e(86548),v=e(1912),g=e(77171),T=e(48689),E=e(22538),_=e(27790),a=e(71577),i=e(86738),r=e(90905),A=e(62435),O=e(76131),d=e(86074),B=function(){var W=(0,r.useParams)(),I=W.id,L=(0,A.useRef)(),F=(0,A.useState)(!1),U=m()(F,2),c=U[0],C=U[1];(0,A.useEffect)(function(){var S;(S=L.current)===null||S===void 0||S.reload()},[I]);var j=function(){var S=o()(n()().mark(function y(p){var M,R;return n()().wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:return Z.next=2,(0,l.zt)(p,I);case 2:M=Z.sent,M.succeeded&&(_.ZP.success("Deleted!"),(R=L.current)===null||R===void 0||R.reload());case 4:case"end":return Z.stop()}},y)}));return function(p){return S.apply(this,arguments)}}(),t=function(){var S=o()(n()().mark(function y(p,M){var R,x;return n()().wrap(function(K){for(;;)switch(K.prev=K.next){case 0:return p.sortOrder=M?p.sortOrder-1:p.sortOrder+1,K.next=3,(0,l.aN)(p.id,p.catalogId,p.sortOrder);case 3:R=K.sent,R.succeeded&&(_.ZP.success("Sorted!"),(x=L.current)===null||x===void 0||x.reload());case 5:case"end":return K.stop()}},y)}));return function(p,M){return S.apply(this,arguments)}}(),N=function(){var S=o()(n()().mark(function y(p){var M,R;return n()().wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:return p.catalogId=I,Z.next=3,(0,l.yL)(p);case 3:M=Z.sent,M.succeeded&&(_.ZP.success("Added!"),C(!1),(R=L.current)===null||R===void 0||R.reload());case 5:case"end":return Z.stop()}},y)}));return function(p){return S.apply(this,arguments)}}();return(0,d.jsxs)("div",{children:[(0,d.jsx)(E.Rs,{toolBarRender:function(){return[(0,d.jsx)(a.Z,{onClick:function(){return C(!0)},type:"primary",icon:(0,d.jsx)(h.Z,{}),children:(0,d.jsx)(r.FormattedMessage,{id:"general.new"})},0)]},rowSelection:{},actionRef:L,request:o()(n()().mark(function S(){return n()().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return p.abrupt("return",(0,l.KC)(I));case 1:case"end":return p.stop()}},S)})),headerTitle:"Work items",metas:{title:{dataIndex:"name"},actions:{render:function(y,p){return[(0,d.jsx)(a.Z,{type:"primary",icon:(0,d.jsx)(P.Z,{}),onClick:function(){r.history.push("/works/".concat(p.normalizedName.toLocaleLowerCase(),"/").concat(p.id))}},1),(0,d.jsx)(a.Z,{icon:(0,d.jsx)(v.Z,{}),onClick:function(){return t(p,!0)}},2),(0,d.jsx)(a.Z,{icon:(0,d.jsx)(g.Z,{}),onClick:function(){return t(p,!1)}},3),(0,d.jsxs)(i.Z,{title:"Are you sure?",onConfirm:function(){return j(p.id)},children:[(0,d.jsx)(a.Z,{icon:(0,d.jsx)(T.Z,{}),danger:!0,type:"primary"}),","]},4)]}}}}),(0,d.jsx)(O.Z,{open:c,onOpenChange:C,onFinish:N})]})};D.Z=B},22834:function(b,D,e){e.r(D),e.d(D,{default:function(){return j}});var s=e(15009),n=e.n(s),f=e(99289),o=e.n(f),u=e(5574),m=e.n(u),l=e(55375),h=e(61614),P=e(97269),v=e(5966),g=e(90672),T=e(64317),E=e(63434),_=e(90905),a=e(27790),i=e(62435),r=e(86074),A=function(){var N=(0,_.useParams)(),S=N.id,y=(0,i.useRef)();(0,i.useEffect)(function(){(0,h.R4)(S).then(function(M){var R;(R=y.current)===null||R===void 0||R.setFields([{name:"id",value:M.id},{name:"name",value:M.name},{name:"normalizedName",value:M.normalizedName},{name:"type",value:M.type},{name:"active",value:M.active}])})},[S]);var p=function(){var M=o()(n()().mark(function R(x){var Z;return n()().wrap(function(w){for(;;)switch(w.prev=w.next){case 0:return w.next=2,(0,h.BA)(x);case 2:Z=w.sent,Z.succeeded&&a.ZP.success("Saved!");case 4:case"end":return w.stop()}},R)}));return function(x){return M.apply(this,arguments)}}();return(0,r.jsxs)(P.A,{formRef:y,onFinish:p,children:[(0,r.jsx)(v.Z,{name:"id",hidden:!0}),(0,r.jsx)(v.Z,{name:"name",label:"Name"}),(0,r.jsx)(v.Z,{name:"normalizedName",label:"Normalized name"}),(0,r.jsx)(g.Z,{name:"description",label:"Description"}),(0,r.jsx)(T.Z,{name:"type",label:"Type",options:[{label:"Page",value:l.H.Default},{label:"Setting",value:l.H.Setting},{label:"Home",value:l.H.Entry}]}),(0,r.jsx)(E.Z,{name:"active",label:"Active"})]})},O=A,d=e(14027),B=e(82826),$=e(62884),W=e(30029),I=e(99351),L=e(71577),F=e(71230),U=e(15746),c=e(32983),C=function(){var N=(0,_.useIntl)(),S=(0,_.useParams)(),y=S.id,p=(0,i.useState)(!1),M=m()(p,2),R=M[0],x=M[1],Z=(0,i.useState)(),K=m()(Z,2),w=K[0],X=K[1],J=(0,i.useState)("content"),H=m()(J,2),Q=H[0],k=H[1];(0,i.useEffect)(function(){(0,h.R4)(y).then(function(G){return X(G)})},[y]);var q=function(){var G=o()(n()().mark(function z(Y){return n()().wrap(function(V){for(;;)switch(V.prev=V.next){case 0:(0,h.BP)(Y).then(function(ee){ee.succeeded&&(a.ZP.success("Saved!"),x(!1))});case 1:case"end":return V.stop()}},z)}));return function(Y){return G.apply(this,arguments)}}();return(0,r.jsx)($._z,{title:w==null?void 0:w.name,extra:(0,r.jsx)(L.Z,{icon:(0,r.jsx)(B.Z,{}),onClick:function(){return _.history.back()},children:(0,r.jsx)(_.FormattedMessage,{id:"general.back"})}),children:(0,r.jsxs)(F.Z,{gutter:16,children:[(0,r.jsx)(U.Z,{span:6}),(0,r.jsxs)(U.Z,{span:12,children:[(0,r.jsx)(W.Z,{tabs:{tabPosition:"top",activeKey:Q,items:[{label:"Content",key:"content",children:(0,r.jsx)(d.Z,{})},{label:N.formatMessage({id:"menu.settings"}),key:"setting",children:(0,r.jsx)(O,{})}],onChange:function(z){k(z)}}}),(0,r.jsxs)(I.Y,{onFinish:q,open:R,onOpenChange:x,children:[(0,r.jsx)(v.Z,{name:"name",label:"Name"}),(0,r.jsx)(v.Z,{name:"normalizedName",label:"Normalized Name"})]})]}),(0,r.jsx)(U.Z,{span:6,children:(0,r.jsx)(W.Z,{children:(0,r.jsx)(c.Z,{})})})]})})},j=C},61614:function(b,D,e){e.d(D,{A$:function(){return v},BA:function(){return i},BP:function(){return h},R4:function(){return m},S8:function(){return _},_V:function(){return d},gY:function(){return $},r5:function(){return F},zo:function(){return I}});var s=e(15009),n=e.n(s),f=e(99289),o=e.n(f),u=e(90905);function m(c){return l.apply(this,arguments)}function l(){return l=o()(n()().mark(function c(C){return n()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,u.request)("catalog/".concat(C)));case 1:case"end":return t.stop()}},c)})),l.apply(this,arguments)}function h(c){return P.apply(this,arguments)}function P(){return P=o()(n()().mark(function c(C){return n()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,u.request)("catalog/add",{method:"POST",data:C}));case 1:case"end":return t.stop()}},c)})),P.apply(this,arguments)}function v(c){return g.apply(this,arguments)}function g(){return g=o()(n()().mark(function c(C){return n()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,u.request)("catalog/list",{method:"GET",params:C}));case 1:case"end":return t.stop()}},c)})),g.apply(this,arguments)}function T(){return E.apply(this,arguments)}function E(){return E=_asyncToGenerator(_regeneratorRuntime().mark(function c(){return _regeneratorRuntime().wrap(function(j){for(;;)switch(j.prev=j.next){case 0:return j.abrupt("return",request("catalog/tree"));case 1:case"end":return j.stop()}},c)})),E.apply(this,arguments)}function _(c){return a.apply(this,arguments)}function a(){return a=o()(n()().mark(function c(C){return n()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,u.request)("catalog/delete/".concat(C),{method:"POST"}));case 1:case"end":return t.stop()}},c)})),a.apply(this,arguments)}function i(c){return r.apply(this,arguments)}function r(){return r=o()(n()().mark(function c(C){return n()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,u.request)("catalog/save",{method:"POST",data:C}));case 1:case"end":return t.stop()}},c)})),r.apply(this,arguments)}function A(c){return O.apply(this,arguments)}function O(){return O=_asyncToGenerator(_regeneratorRuntime().mark(function c(C){return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",request("catalog/tree-drop",{method:"POST",data:C}));case 1:case"end":return t.stop()}},c)})),O.apply(this,arguments)}function d(){return B.apply(this,arguments)}function B(){return B=o()(n()().mark(function c(){return n()().wrap(function(j){for(;;)switch(j.prev=j.next){case 0:return j.abrupt("return",(0,u.request)("catalog/view-count"));case 1:case"end":return j.stop()}},c)})),B.apply(this,arguments)}function $(c){return W.apply(this,arguments)}function W(){return W=o()(n()().mark(function c(C){return n()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,u.request)("catalog/active/".concat(C),{method:"POST"}));case 1:case"end":return t.stop()}},c)})),W.apply(this,arguments)}function I(c){return L.apply(this,arguments)}function L(){return L=o()(n()().mark(function c(C){return n()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,u.request)("catalog/article/save",{method:"POST",data:C}));case 1:case"end":return t.stop()}},c)})),L.apply(this,arguments)}function F(c){return U.apply(this,arguments)}function U(){return U=o()(n()().mark(function c(C){return n()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,u.request)("catalog/update-thumbnail",{method:"POST",data:C}));case 1:case"end":return t.stop()}},c)})),U.apply(this,arguments)}},98364:function(b,D,e){e.d(D,{CO:function(){return v},Xr:function(){return m},Z:function(){return T},eB:function(){return h},v7:function(){return _}});var s=e(15009),n=e.n(s),f=e(99289),o=e.n(f),u=e(90905);function m(i){return l.apply(this,arguments)}function l(){return l=o()(n()().mark(function i(r){return n()().wrap(function(O){for(;;)switch(O.prev=O.next){case 0:return O.abrupt("return",(0,u.request)("component/".concat(r)));case 1:case"end":return O.stop()}},i)})),l.apply(this,arguments)}function h(){return(0,u.request)("component/list-all")}function P(i){return request("component/add",{method:"POST",data:i})}function v(){return g.apply(this,arguments)}function g(){return g=o()(n()().mark(function i(){return n()().wrap(function(A){for(;;)switch(A.prev=A.next){case 0:return A.abrupt("return",(0,u.request)("component/list"));case 1:case"end":return A.stop()}},i)})),g.apply(this,arguments)}function T(i,r){return E.apply(this,arguments)}function E(){return E=o()(n()().mark(function i(r,A){return n()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.abrupt("return",(0,u.request)("component/list-work/".concat(A),{params:r}));case 1:case"end":return d.stop()}},i)})),E.apply(this,arguments)}function _(i){return a.apply(this,arguments)}function a(){return a=o()(n()().mark(function i(r){return n()().wrap(function(O){for(;;)switch(O.prev=O.next){case 0:return O.abrupt("return",(0,u.request)("component/delete/".concat(r),{method:"POST"}));case 1:case"end":return O.stop()}},i)})),a.apply(this,arguments)}}}]);
