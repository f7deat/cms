"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[5690],{76131:function(ee,k,n){var U=n(97857),r=n.n(U),_=n(37476),u=n(5966),B=n(65675),v=n(86074),I=function(K){return(0,v.jsxs)(_.Y,r()(r()({},K),{},{title:"Add component",children:[(0,v.jsx)(u.Z,{name:"name",label:"Name"}),(0,v.jsx)(B.Z,{name:"componentId",label:"Component"})]}))};k.Z=I},65675:function(ee,k,n){var U=n(98364),r=n(64317),_=n(86074),u=function(v){return(0,_.jsx)(r.Z,{showSearch:!0,request:U.Ef,name:v.name,label:v.label})};k.Z=u},59477:function(ee,k,n){n.r(k),n.d(k,{default:function(){return Ae}});var U=n(15009),r=n.n(U),_=n(99289),u=n.n(_),B=n(5574),v=n.n(B),I=n(66352),Q=n(47389),K=n(82061),ne=n(37446),N=n(51042),re=n(62639),G=n(37476),z=n(5966),V=n(64317),C=n(58301),F=n(71577),q=n(86738),J=n(85418),t=n(35312),a=n(62435),W=n(76131),e=n(86074),L=function(){var R=(0,t.useParams)(),l=R.id,S=(0,a.useState)([]),E=v()(S,2),h=E[0],o=E[1],x=(0,a.useState)(!1),Z=v()(x,2),g=Z[0],c=Z[1],T=(0,a.useState)(!1),j=v()(T,2),m=j[0],i=j[1],P=(0,a.useState)(),b=v()(P,2),s=b[0],D=b[1],$=function(){(0,I.KC)(l).then(function(f){o(f.data)})};(0,a.useEffect)(function(){l&&$()},[l]);var O=function(){var A=u()(r()().mark(function f(d){var p;return r()().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return y.next=2,(0,I.zt)(d,l);case 2:p=y.sent,p.succeeded?(C.ZP.success("Deleted!"),$()):C.ZP.error(p.errors[0].description);case 4:case"end":return y.stop()}},f)}));return function(d){return A.apply(this,arguments)}}(),H=function(){var A=u()(r()().mark(function f(d){var p;return r()().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return d.catalogId=l,y.next=3,(0,I.yL)(d);case 3:p=y.sent,p.succeeded&&(C.ZP.success("Added!"),c(!1),$());case 5:case"end":return y.stop()}},f)}));return function(d){return A.apply(this,arguments)}}(),ie=function(){var A=u()(r()().mark(function f(){var d;return r()().wrap(function(w){for(;;)switch(w.prev=w.next){case 0:return w.next=2,(0,I.x)();case 2:d=w.sent,D(d),i(!0);case 5:case"end":return w.stop()}},f)}));return function(){return A.apply(this,arguments)}}(),we=function(){var A=u()(r()().mark(function f(d){var p;return r()().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return y.next=2,(0,I.jX)(d);case 2:p=y.sent,p.succeeded&&(C.ZP.success("Saved"),i(!1),$());case 4:case"end":return y.stop()}},f)}));return function(d){return A.apply(this,arguments)}}(),Be=[{key:"1",label:"Show / Hide"}],We=function(){var A=u()(r()().mark(function f(d,p){var w;return r()().wrap(function(X){for(;;)switch(X.prev=X.next){case 0:if(d.key!=="1"){X.next=5;break}return X.next=3,(0,I.Wv)(p);case 3:w=X.sent,w.succeeded&&(C.ZP.success("Actived!"),$());case 5:case"end":return X.stop()}},f)}));return function(d,p){return A.apply(this,arguments)}}(),Le=[{title:"#",dataIndex:"sort",className:"drag-visible"},{title:"Name",dataIndex:"name"},{title:"Status",dataIndex:"active",valueEnum:{false:{text:"Draft",status:"Default"},true:{text:"Active",status:"Processing"}}},{title:"Action",valueType:"option",render:function(f,d){return[(0,e.jsx)(F.ZP,{type:"primary",disabled:d.autoGenerateField,icon:(0,e.jsx)(Q.Z,{}),onClick:function(){t.history.push("/works/".concat(d.normalizedName.toLocaleLowerCase(),"/").concat(d.id))}},1),(0,e.jsx)(q.Z,{title:"Are you sure?",onConfirm:function(){return O(d.id)},children:(0,e.jsx)(F.ZP,{icon:(0,e.jsx)(K.Z,{}),danger:!0,type:"primary"})},4),(0,e.jsx)(J.Z,{menu:{items:Be,onClick:function(w){return We(w,d.id)}},children:(0,e.jsx)(F.ZP,{icon:(0,e.jsx)(ne.Z,{}),type:"dashed"})},"more")]}}],$e=function(f){var d=f.map(function(p){return p.id||""});(0,I.P0)(d).then(function(p){p.succeeded&&(o(f),C.ZP.success("Saved!"))})};return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)("div",{className:"mb-2 flex justify-end gap-2",children:[(0,e.jsx)(F.ZP,{onClick:function(){return c(!0)},type:"primary",icon:(0,e.jsx)(N.Z,{}),children:(0,e.jsx)("span",{children:(0,e.jsx)(t.FormattedMessage,{id:"general.new"})})},0),(0,e.jsx)(F.ZP,{onClick:ie,icon:(0,e.jsx)(N.Z,{}),children:"Ch\u1ECDn"},1)]}),(0,e.jsx)(re.Z,{search:!1,rowKey:"id",columns:Le,pagination:!1,dataSource:h,dragSortKey:"sort",onDragSortEnd:$e}),(0,e.jsx)(W.Z,{open:g,onOpenChange:c,onFinish:H}),(0,e.jsxs)(G.Y,{open:m,onOpenChange:i,onFinish:we,children:[(0,e.jsx)(z.Z,{name:"catalogId",initialValue:l,hidden:!0}),(0,e.jsx)(V.Z,{showSearch:!0,name:"workContentId",options:s,label:"Work"})]})]})},ce=L,M=n(12361),de=n(63386),te=n(28199),me=n(71230),ue=n(15746),fe=n(35003),pe=n(74653),ae=n(55375),ve=n(97857),se=n.n(ve),he=n(84697),ge=n(16309),je=n(90672),Pe=function(){var R=(0,t.useParams)(),l=R.id,S=(0,a.useState)(!1),E=v()(S,2),h=E[0],o=E[1],x=(0,a.useRef)(),Z=function(){var T=u()(r()().mark(function j(m){var i,P;return r()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return m.parentId=l,m.type=Number(m.type),s.next=4,(0,M.BP)(m);case 4:i=s.sent,i.succeeded&&(C.ZP.success("Added!"),(P=x.current)===null||P===void 0||P.reload(),o(!1));case 6:case"end":return s.stop()}},j)}));return function(m){return T.apply(this,arguments)}}(),g=function(){var T=u()(r()().mark(function j(m){var i,P;return r()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,(0,M.S8)(m);case 2:i=s.sent,i.succeeded?(C.ZP.success("Deleted"),(P=x.current)===null||P===void 0||P.reload()):C.ZP.error(i.errors[0].description);case 4:case"end":return s.stop()}},j)}));return function(m){return T.apply(this,arguments)}}(),c=function(j){var m;t.history.push("/catalog/".concat(j)),(m=x.current)===null||m===void 0||m.reload()};return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(ge.Rs,{headerTitle:"Trang con",actionRef:x,toolBarRender:function(){return[(0,e.jsx)(F.ZP,{type:"primary",icon:(0,e.jsx)(N.Z,{}),onClick:function(){return o(!0)},children:(0,e.jsx)("span",{children:(0,e.jsx)(t.FormattedMessage,{id:"general.new"})})},"3")]},metas:{title:{dataIndex:"name"},description:{dataIndex:"id"},actions:{render:function(j,m){return[(0,e.jsx)(F.ZP,{icon:(0,e.jsx)(Q.Z,{}),type:"primary",onClick:function(){return c(m.id)}},1),(0,e.jsx)(q.Z,{title:"Are you sure?",onConfirm:function(){return g(m.id)},children:(0,e.jsx)(F.ZP,{icon:(0,e.jsx)(K.Z,{}),type:"primary",danger:!0})},2)]}}},request:function(j){return(0,M.A$)(se()(se()({},j),{},{parentId:l}))},pagination:{}}),(0,e.jsxs)(G.Y,{open:h,onOpenChange:o,onFinish:Z,title:(0,e.jsx)(t.FormattedMessage,{id:"general.new"}),children:[(0,e.jsx)(z.Z,{name:"name",label:"Name",rules:[{required:!0}]}),(0,e.jsx)(he.Z,{label:"Type",name:"type",initialValue:"".concat(ae.H.Default)}),(0,e.jsx)(je.Z,{label:"Description",name:"description"})]})]})},Ce=Pe,le=n(34994),oe=n(31199),xe=n(93421),ye=n(1913),Se=n(32545),Ze=function(){var R=(0,t.useParams)(),l=R.id,S=(0,a.useState)(!1),E=v()(S,2),h=E[0],o=E[1],x=(0,a.useState)([]),Z=v()(x,2),g=Z[0],c=Z[1];(0,a.useEffect)(function(){(0,M.NU)(l).then(function(i){i&&c(i.images)})},[]);var T=function(){return o(!1)},j=function(){var i=u()(r()().mark(function P(b){var s,D;return r()().wrap(function(O){for(;;)switch(O.prev=O.next){case 0:return s=g,s.push(b),O.next=4,(0,M.kn)(s,l);case 4:D=O.sent,D.succeeded?(c(s),C.ZP.success("Saved!")):C.ZP.error(D.errors[0].description);case 6:case"end":return O.stop()}},P)}));return function(b){return i.apply(this,arguments)}}(),m=function(){var i=u()(r()().mark(function P(b){var s,D;return r()().wrap(function(O){for(;;)switch(O.prev=O.next){case 0:return s=g.filter(function(H){return H!==b}),O.next=3,(0,M.kn)(s,l);case 3:D=O.sent,D.succeeded?(c(s),C.ZP.success("Saved!")):C.ZP.error(D.errors[0].description);case 5:case"end":return O.stop()}},P)}));return function(b){return i.apply(this,arguments)}}();return(0,e.jsxs)(te.Z,{title:"Gallery",bordered:!0,headerBordered:!0,children:[(0,e.jsxs)("div",{className:"flex gap-4",children:[g.map(function(i,P){return(0,e.jsxs)("div",{className:"btn-upload p-2",children:[(0,e.jsx)(Se.Z,{src:i,alt:"IMG"}),(0,e.jsx)(F.ZP,{icon:(0,e.jsx)(K.Z,{}),size:"small",danger:!0,onClick:function(){return m(i)},style:{position:"absolute",right:6}})]},P)}),(0,e.jsxs)("button",{type:"button",className:"btn-upload",onClick:function(){return o(!0)},children:[(0,e.jsx)(N.Z,{}),(0,e.jsx)("div",{style:{marginTop:8},children:"Upload"})]})]}),(0,e.jsx)(ye.Z,{open:h,onCancel:T,onFinish:j})]})},Ee=Ze,De=function(R){return(0,e.jsx)(V.Z,se()({showSearch:!0,request:function(S){return S.type=ae.H.Brand,(0,M.U4)(S)}},R))},Oe=De,Ie=n(4393),Fe=function(){var R=(0,t.useParams)(),l=R.id,S=(0,a.useRef)();(0,a.useEffect)(function(){(0,M.R4)(l).then(function(h){var o;(o=S.current)===null||o===void 0||o.setFieldValue("brandId",h.parentId)})},[]);var E=function(){var h=u()(r()().mark(function o(x){var Z;return r()().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return x.productId=l,c.next=3,(0,M.K9)(x);case 3:Z=c.sent,Z.succeeded&&C.ZP.success("Saved!");case 5:case"end":return c.stop()}},o)}));return function(x){return h.apply(this,arguments)}}();return(0,e.jsx)(Ie.Z,{className:"mb-4",title:"Brand",children:(0,e.jsx)(le.A,{layout:"inline",onFinish:E,formRef:S,children:(0,e.jsx)(Oe,{name:"brandId",label:"Brand",rules:[{required:!0}]})})})},Me=Fe,Re=function(){var R=(0,t.useParams)(),l=R.id,S=(0,a.useRef)();(0,a.useEffect)(function(){(0,M.lI)(l).then(function(h){if(h){var o;(o=S.current)===null||o===void 0||o.setFields([{name:"sku",value:h.sku},{name:"price",value:h.price},{name:"salePrice",value:h.salePrice},{name:"unitInStock",value:h.unitInStock}])}})},[]);var E=function(){var h=u()(r()().mark(function o(x){var Z;return r()().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return x.catalogId=l,c.next=3,(0,M.gg)(x);case 3:Z=c.sent,Z.succeeded&&C.ZP.success("Saved");case 5:case"end":return c.stop()}},o)}));return function(x){return h.apply(this,arguments)}}();return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(te.Z,{title:"Details",headerBordered:!0,bordered:!0,className:"mb-4",children:(0,e.jsx)(le.A,{onFinish:E,formRef:S,children:(0,e.jsxs)(xe.Z,{children:[(0,e.jsx)(z.Z,{name:"sku",label:"SKU"}),(0,e.jsx)(oe.Z,{name:"price",label:"Price"}),(0,e.jsx)(oe.Z,{name:"salePrice",label:"Sale price"}),(0,e.jsx)(oe.Z,{name:"unitInStock",label:"Stock"})]})})}),(0,e.jsx)(Me,{}),(0,e.jsx)(Ee,{})]})},Te=Re,be=function(){var R=(0,t.useParams)(),l=R.id,S=(0,a.useState)(!1),E=v()(S,2),h=E[0],o=E[1],x=(0,a.useState)(),Z=v()(x,2),g=Z[0],c=Z[1],T=(0,a.useState)("content"),j=v()(T,2),m=j[0],i=j[1];(0,a.useEffect)(function(){(0,M.R4)(l).then(function(s){return c(s)})},[l]);var P=function(){var s=u()(r()().mark(function D($){return r()().wrap(function(H){for(;;)switch(H.prev=H.next){case 0:(0,M.BP)($).then(function(ie){ie.succeeded&&(C.ZP.success("Saved!"),o(!1))});case 1:case"end":return H.stop()}},D)}));return function($){return s.apply(this,arguments)}}(),b=function(D){i(D)};return(0,e.jsx)(de._z,{title:g==null?void 0:g.name,children:(0,e.jsxs)(me.Z,{gutter:16,children:[(0,e.jsxs)(ue.Z,{span:18,children:[(0,e.jsx)(te.Z,{tabs:{tabPosition:"top",activeKey:m,items:[{label:"Content",key:"content",children:(0,e.jsx)(ce,{})},{label:(0,e.jsx)(t.FormattedMessage,{id:"menu.settings"}),key:"setting",children:(0,e.jsx)(fe.Z,{})},{label:(0,e.jsx)(t.FormattedMessage,{id:"pages.catalog.productDetail"}),key:"product-detail",children:(0,e.jsx)(Te,{}),disabled:(g==null?void 0:g.type)!==ae.H.Product}],onChange:b},className:"mb-4"}),!(g!=null&&g.parentId)&&(0,e.jsx)(Ce,{}),(0,e.jsxs)(G.Y,{onFinish:P,open:h,onOpenChange:o,children:[(0,e.jsx)(z.Z,{name:"name",label:"Name"}),(0,e.jsx)(z.Z,{name:"normalizedName",label:"Normalized Name"})]})]}),(0,e.jsx)(ue.Z,{span:6,children:(0,e.jsx)(pe.Z,{})})]})})},Ae=be},98364:function(ee,k,n){n.d(k,{CO:function(){return re},Ef:function(){return q},KL:function(){return ne},Xr:function(){return v},Z:function(){return z},v7:function(){return C}});var U=n(15009),r=n.n(U),_=n(99289),u=n.n(_),B=n(35312);function v(t){return I.apply(this,arguments)}function I(){return I=u()(r()().mark(function t(a){return r()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,B.request)("component/".concat(a)));case 1:case"end":return e.stop()}},t)})),I.apply(this,arguments)}function Q(t){return K.apply(this,arguments)}function K(){return K=_asyncToGenerator(_regeneratorRuntime().mark(function t(a){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",request("component/add",{method:"POST",data:a}));case 1:case"end":return e.stop()}},t)})),K.apply(this,arguments)}function ne(t){return N.apply(this,arguments)}function N(){return N=u()(r()().mark(function t(a){return r()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,B.request)("component/update",{method:"POST",data:a}));case 1:case"end":return e.stop()}},t)})),N.apply(this,arguments)}function re(t){return G.apply(this,arguments)}function G(){return G=u()(r()().mark(function t(a){return r()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,B.request)("component/list",{params:a}));case 1:case"end":return e.stop()}},t)})),G.apply(this,arguments)}function z(t,a){return V.apply(this,arguments)}function V(){return V=u()(r()().mark(function t(a,W){return r()().wrap(function(L){for(;;)switch(L.prev=L.next){case 0:return L.abrupt("return",(0,B.request)("component/list-work/".concat(W),{params:a}));case 1:case"end":return L.stop()}},t)})),V.apply(this,arguments)}function C(t){return F.apply(this,arguments)}function F(){return F=u()(r()().mark(function t(a){return r()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,B.request)("component/delete/".concat(a),{method:"POST"}));case 1:case"end":return e.stop()}},t)})),F.apply(this,arguments)}function q(t){return J.apply(this,arguments)}function J(){return J=u()(r()().mark(function t(a){var W;return r()().wrap(function(L){for(;;)switch(L.prev=L.next){case 0:return W={searchTerm:a.keyWords},L.abrupt("return",(0,B.request)("component/form-select",{params:W}));case 2:case"end":return L.stop()}},t)})),J.apply(this,arguments)}}}]);
