"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[5690],{76131:function(le,w,e){var Y=e(37476),r=e(5966),H=e(65675),i=e(86074),W=function(F){return(0,i.jsxs)(Y.Y,{open:F.open,title:"Component",onFinish:F.onFinish,onOpenChange:F.onOpenChange,children:[(0,i.jsx)(r.Z,{name:"name",label:"Name"}),(0,i.jsx)(H.Z,{name:"componentId",label:"Component"})]})};w.Z=W},1913:function(le,w,e){var Y=e(15009),r=e.n(Y),H=e(99289),i=e.n(H),W=e(5574),P=e.n(W),F=e(20385),L=e(64082),ne=e(16596),ie=e(65419),O=e(58301),ue=e(98366),X=e(71577),re=e(96074),te=e(96365),J=e(62435),f=e(86074),Q=ie.Z.Dragger,ae=function(p){var v=(0,J.useState)(""),a=P()(v,2),M=a[0],de=a[1];function S(q){var y;try{y=new URL(q)}catch(se){return!1}return y.protocol==="https:"}var E=function(){var q=i()(r()().mark(function y(se){var G;return r()().wrap(function(V){for(;;)switch(V.prev=V.next){case 0:if(S(se)){V.next=3;break}return O.ZP.error("Sorry, URL failed to upload."),V.abrupt("return");case 3:return V.next=5,(0,F.tg)(se);case 5:G=V.sent,G.succeeded&&O.ZP.success("Uploaded!");case 7:case"end":return V.stop()}},y)}));return function(se){return q.apply(this,arguments)}}(),me=function(){var q=i()(r()().mark(function y(){return r()().wrap(function(G){for(;;)switch(G.prev=G.next){case 0:if(S(M)){G.next=3;break}return O.ZP.error("Sorry, URL failed to upload."),G.abrupt("return");case 3:p.onFinish(M),p.onCancel();case 5:case"end":return G.stop()}},y)}));return function(){return q.apply(this,arguments)}}();return(0,f.jsxs)(ue.Z,{open:p.open,onCancel:p.onCancel,centered:!0,title:"Upload",onOk:me,children:[(0,f.jsx)("div",{className:"mb-4",children:(0,f.jsxs)(Q,{children:[(0,f.jsx)("p",{className:"ant-upload-drag-icon",children:(0,f.jsx)(L.Z,{})}),(0,f.jsx)("p",{className:"ant-upload-text",children:"Click or drag file to this area to upload"}),(0,f.jsx)("p",{className:"ant-upload-hint",children:"Support for a single or bulk upload. Strictly prohibited from uploading company data or other banned files."})]})}),(0,f.jsx)("div",{className:"text-center",children:(0,f.jsx)(X.ZP,{icon:(0,f.jsx)(ne.Z,{}),type:"link",size:"large",children:(0,f.jsx)("b",{children:"Choose from your computer"})})}),(0,f.jsx)(re.Z,{children:"or"}),(0,f.jsx)(te.Z,{placeholder:"Paste image or URL",onChange:function(y){return de(y.currentTarget.value)}})]})};w.Z=ae},65675:function(le,w,e){var Y=e(98364),r=e(64317),H=e(86074),i=function(P){return(0,H.jsx)(r.Z,{showSearch:!0,request:Y.Ef,name:P.name,label:P.label})};w.Z=i},60201:function(le,w,e){e.r(w),e.d(w,{default:function(){return Le}});var Y=e(15009),r=e.n(Y),H=e(99289),i=e.n(H),W=e(5574),P=e.n(W),F=e(97857),L=e.n(F),ne=e(13769),ie=e.n(ne),O=e(66352),ue=e(53682),X=e(47389),re=e(82061),te=e(37446),J=e(51042),f=e(37476),Q=e(5966),ae=e(64317),t=e(58301),p=e(93421),v=e(71577),a=e(86738),M=e(85418),de=e(95840),S=e(35312),E=e(62435),me=e(76131),q=e(60887),y=e(45587),se=e(32339),G=e(24285),n=e(86074),V=["children"],je=function(z){var _=z.children,N=ie()(z,V),j=(0,y.nB)({id:N["data-row-key"]}),$=j.attributes,R=j.listeners,K=j.setNodeRef,b=j.setActivatorNodeRef,g=j.transform,U=j.transition,Z=j.isDragging,h=L()(L()({},N.style),{},{transform:G.ux.Transform.toString(g&&L()(L()({},g),{},{scaleY:1})),transition:U},Z?{position:"relative"}:{});return(0,n.jsx)("tr",L()(L()(L()({},N),{},{ref:K,style:h},$),{},{children:E.Children.map(_,function(d){return d.key==="sort"?E.cloneElement(d,{children:(0,n.jsx)(ue.Z,L()({ref:b,style:{touchAction:"none",cursor:"move"}},R))}):d})}))},Ce=function(){var z=(0,S.useParams)(),_=z.id,N=(0,E.useState)([]),j=P()(N,2),$=j[0],R=j[1],K=(0,E.useState)(!1),b=P()(K,2),g=b[0],U=b[1],Z=(0,E.useState)(!1),h=P()(Z,2),d=h[0],u=h[1],C=(0,E.useState)(),B=P()(C,2),o=B[0],I=B[1],k=function(){(0,O.KC)(_).then(function(m){R(m.data)})};(0,E.useEffect)(function(){_&&k()},[_]);var T=function(){var D=i()(r()().mark(function m(l){var s;return r()().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,(0,O.zt)(l,_);case 2:s=c.sent,s.succeeded?(t.ZP.success("Deleted!"),k()):t.ZP.error(s.errors[0].description);case 4:case"end":return c.stop()}},m)}));return function(l){return D.apply(this,arguments)}}(),oe=function(){var D=i()(r()().mark(function m(l){var s;return r()().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return l.catalogId=_,c.next=3,(0,O.yL)(l);case 3:s=c.sent,s.succeeded&&(t.ZP.success("Added!"),U(!1),k());case 5:case"end":return c.stop()}},m)}));return function(l){return D.apply(this,arguments)}}(),fe=function(){var D=i()(r()().mark(function m(){var l;return r()().wrap(function(x){for(;;)switch(x.prev=x.next){case 0:return x.next=2,(0,O.x)();case 2:l=x.sent,I(l),u(!0);case 5:case"end":return x.stop()}},m)}));return function(){return D.apply(this,arguments)}}(),Ue=function(){var D=i()(r()().mark(function m(l){var s;return r()().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,(0,O.jX)(l);case 2:s=c.sent,s.succeeded&&(t.ZP.success("Saved"),u(!1),k());case 4:case"end":return c.stop()}},m)}));return function(l){return D.apply(this,arguments)}}(),Be=[{key:"1",label:"Show / Hide"}],Ke=function(){var D=i()(r()().mark(function m(l,s){var x;return r()().wrap(function(A){for(;;)switch(A.prev=A.next){case 0:if(l.key!=="1"){A.next=5;break}return A.next=3,(0,O.Wv)(s);case 3:x=A.sent,x.succeeded&&(t.ZP.success("Actived!"),k());case 5:case"end":return A.stop()}},m)}));return function(l,s){return D.apply(this,arguments)}}(),be=function(m,l,s){var x=m.findIndex(function(A){return A.id===l.id}),c=m.findIndex(function(A){return A.id===(s==null?void 0:s.id)});return(0,y.Rp)(m,x,c).map(function(A){return A.id})},Fe=function(m){var l=m.active,s=m.over;if(l.id!==(s==null?void 0:s.id)){R(function(c){var A=c.findIndex(function(pe){return pe.id===l.id}),$e=c.findIndex(function(pe){return pe.id===(s==null?void 0:s.id)});return(0,y.Rp)(c,A,$e)});var x=be($,l,s);(0,O.P0)(x).then(function(c){c.succeeded&&t.ZP.success("Saved!")})}},Ne=[{key:"sort"},{title:"Name",dataIndex:"name"},{title:"Action",render:function(m,l){return(0,n.jsxs)(p.Z,{children:[(0,n.jsx)(v.ZP,{type:"primary",icon:(0,n.jsx)(X.Z,{}),onClick:function(){S.history.push("/works/".concat(l.normalizedName.toLocaleLowerCase(),"/").concat(l.id))}},1),(0,n.jsx)(a.Z,{title:"Are you sure?",onConfirm:function(){return T(l.id)},children:(0,n.jsx)(v.ZP,{icon:(0,n.jsx)(re.Z,{}),danger:!0,type:"primary"})},4),(0,n.jsx)(M.Z,{menu:{items:Be,onClick:function(x){return Ke(x,l.id)}},children:(0,n.jsx)(v.ZP,{icon:(0,n.jsx)(te.Z,{}),type:"dashed"})},"more")]})}}];return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:"mb-2 flex justify-end gap-2",children:[(0,n.jsx)(v.ZP,{onClick:function(){return U(!0)},type:"primary",icon:(0,n.jsx)(J.Z,{}),children:(0,n.jsx)("span",{children:(0,n.jsx)(S.FormattedMessage,{id:"general.new"})})},0),(0,n.jsx)(v.ZP,{onClick:fe,icon:(0,n.jsx)(J.Z,{}),children:"Ch\u1ECDn"},1)]}),(0,n.jsx)(q.LB,{modifiers:[se.DL],onDragEnd:Fe,children:(0,n.jsx)(y.Fo,{items:$.map(function(D){return D.id}),strategy:y.qw,children:(0,n.jsx)(de.Z,{components:{body:{row:je}},columns:Ne,rowKey:"id",dataSource:$})})}),(0,n.jsx)(me.Z,{open:g,onOpenChange:U,onFinish:oe}),(0,n.jsxs)(f.Y,{open:d,onOpenChange:u,onFinish:Ue,children:[(0,n.jsx)(Q.Z,{name:"catalogId",initialValue:_,hidden:!0}),(0,n.jsx)(ae.Z,{showSearch:!0,name:"workContentId",options:o,label:"Work"})]})]})},Pe=Ce,ee=e(12361),_e=e(63386),ve=e(28199),Ee=e(71230),he=e(15746),xe=e(35003),ye=e(74653),De=e(1913),Oe=e(32545),Ze=function(){var z=(0,S.useParams)(),_=z.id,N=(0,E.useState)(!1),j=P()(N,2),$=j[0],R=j[1],K=(0,E.useState)([]),b=P()(K,2),g=b[0],U=b[1];(0,E.useEffect)(function(){(0,ee.NU)(_).then(function(u){u&&U(u.images)})},[]);var Z=function(){return R(!1)},h=function(){var u=i()(r()().mark(function C(B){var o,I;return r()().wrap(function(T){for(;;)switch(T.prev=T.next){case 0:return o=g,o.push(B),T.next=4,(0,ee.kn)(o,_);case 4:I=T.sent,I.succeeded?(U(o),t.ZP.success("Saved!")):t.ZP.error(I.errors[0].description);case 6:case"end":return T.stop()}},C)}));return function(B){return u.apply(this,arguments)}}(),d=function(){var u=i()(r()().mark(function C(B){var o,I;return r()().wrap(function(T){for(;;)switch(T.prev=T.next){case 0:return o=g.filter(function(oe){return oe!==B}),T.next=3,(0,ee.kn)(o,_);case 3:I=T.sent,I.succeeded?(U(o),t.ZP.success("Saved!")):t.ZP.error(I.errors[0].description);case 5:case"end":return T.stop()}},C)}));return function(B){return u.apply(this,arguments)}}();return(0,n.jsxs)(ve.Z,{children:[(0,n.jsxs)("div",{className:"flex gap-4",children:[g.map(function(u,C){return(0,n.jsxs)("div",{className:"btn-upload p-2",children:[(0,n.jsx)(Oe.Z,{src:u,alt:"IMG"}),(0,n.jsx)(v.ZP,{icon:(0,n.jsx)(re.Z,{}),size:"small",danger:!0,onClick:function(){return d(u)},style:{position:"absolute",right:6}})]},C)}),(0,n.jsxs)("button",{type:"button",className:"btn-upload",onClick:function(){return R(!0)},children:[(0,n.jsx)(J.Z,{}),(0,n.jsx)("div",{style:{marginTop:8},children:"Upload"})]})]}),(0,n.jsx)(De.Z,{open:$,onCancel:Z,onFinish:h})]})},Me=Ze,ge=e(55375),Se=e(84697),Re=e(16309),Ie=e(90672),Te=function(){var z=(0,S.useParams)(),_=z.id,N=(0,E.useState)(!1),j=P()(N,2),$=j[0],R=j[1],K=(0,E.useRef)(),b=function(){var Z=i()(r()().mark(function h(d){var u,C;return r()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return d.parentId=_,d.type=Number(d.type),o.next=4,(0,ee.BP)(d);case 4:u=o.sent,u.succeeded&&(t.ZP.success("Added!"),(C=K.current)===null||C===void 0||C.reload(),R(!1));case 6:case"end":return o.stop()}},h)}));return function(d){return Z.apply(this,arguments)}}(),g=function(){var Z=i()(r()().mark(function h(d){var u,C;return r()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,(0,ee.S8)(d);case 2:u=o.sent,u.succeeded?(t.ZP.success("Deleted"),(C=K.current)===null||C===void 0||C.reload()):t.ZP.error(u.errors[0].description);case 4:case"end":return o.stop()}},h)}));return function(d){return Z.apply(this,arguments)}}(),U=function(h){var d;S.history.push("/catalog/".concat(h)),(d=K.current)===null||d===void 0||d.reload()};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(Re.Rs,{headerTitle:"Trang con",actionRef:K,toolBarRender:function(){return[(0,n.jsx)(v.ZP,{type:"primary",icon:(0,n.jsx)(J.Z,{}),onClick:function(){return R(!0)},children:(0,n.jsx)("span",{children:(0,n.jsx)(S.FormattedMessage,{id:"general.new"})})},"3")]},metas:{title:{dataIndex:"name"},description:{dataIndex:"id"},actions:{render:function(h,d){return[(0,n.jsx)(v.ZP,{icon:(0,n.jsx)(X.Z,{}),type:"primary",onClick:function(){return U(d.id)}},1),(0,n.jsx)(a.Z,{title:"Are you sure?",onConfirm:function(){return g(d.id)},children:(0,n.jsx)(v.ZP,{icon:(0,n.jsx)(re.Z,{}),type:"primary",danger:!0})},2)]}}},request:function(h){return(0,ee.A$)(L()(L()({},h),{},{parentId:_}))},pagination:{}}),(0,n.jsxs)(f.Y,{open:$,onOpenChange:R,onFinish:b,title:(0,n.jsx)(S.FormattedMessage,{id:"general.new"}),children:[(0,n.jsx)(Q.Z,{name:"name",label:"Name",rules:[{required:!0}]}),(0,n.jsx)(Se.Z,{label:"Type",name:"type",initialValue:"".concat(ge.H.Default)}),(0,n.jsx)(Ie.Z,{label:"Description",name:"description"})]})]})},Ae=Te,We=function(){var z=(0,S.useParams)(),_=z.id,N=(0,E.useState)(!1),j=P()(N,2),$=j[0],R=j[1],K=(0,E.useState)(),b=P()(K,2),g=b[0],U=b[1],Z=(0,E.useState)("content"),h=P()(Z,2),d=h[0],u=h[1];(0,E.useEffect)(function(){(0,ee.R4)(_).then(function(o){return U(o)})},[_]);var C=function(){var o=i()(r()().mark(function I(k){return r()().wrap(function(oe){for(;;)switch(oe.prev=oe.next){case 0:(0,ee.BP)(k).then(function(fe){fe.succeeded&&(t.ZP.success("Saved!"),R(!1))});case 1:case"end":return oe.stop()}},I)}));return function(k){return o.apply(this,arguments)}}(),B=function(I){u(I)};return(0,n.jsx)(_e._z,{title:g==null?void 0:g.name,children:(0,n.jsxs)(Ee.Z,{gutter:16,children:[(0,n.jsxs)(he.Z,{span:18,children:[(0,n.jsx)(ve.Z,{tabs:{tabPosition:"top",activeKey:d,items:[{label:"Content",key:"content",children:(0,n.jsx)(Pe,{})},{label:(0,n.jsx)(S.FormattedMessage,{id:"menu.settings"}),key:"setting",children:(0,n.jsx)(xe.Z,{})},{label:(0,n.jsx)(S.FormattedMessage,{id:"pages.catalog.productImage"}),key:"product-image",children:(0,n.jsx)(Me,{}),disabled:(g==null?void 0:g.type)!==ge.H.Product}],onChange:B},className:"mb-4"}),!(g!=null&&g.parentId)&&(0,n.jsx)(Ae,{}),(0,n.jsxs)(f.Y,{onFinish:C,open:$,onOpenChange:R,children:[(0,n.jsx)(Q.Z,{name:"name",label:"Name"}),(0,n.jsx)(Q.Z,{name:"normalizedName",label:"Normalized Name"})]})]}),(0,n.jsx)(he.Z,{span:6,children:(0,n.jsx)(ye.Z,{})})]})})},Le=We},98364:function(le,w,e){e.d(w,{CO:function(){return ue},Ef:function(){return Q},KL:function(){return ie},Xr:function(){return P},Z:function(){return re},v7:function(){return J}});var Y=e(15009),r=e.n(Y),H=e(99289),i=e.n(H),W=e(35312);function P(t){return F.apply(this,arguments)}function F(){return F=i()(r()().mark(function t(p){return r()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,W.request)("component/".concat(p)));case 1:case"end":return a.stop()}},t)})),F.apply(this,arguments)}function L(t){return ne.apply(this,arguments)}function ne(){return ne=_asyncToGenerator(_regeneratorRuntime().mark(function t(p){return _regeneratorRuntime().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",request("component/add",{method:"POST",data:p}));case 1:case"end":return a.stop()}},t)})),ne.apply(this,arguments)}function ie(t){return O.apply(this,arguments)}function O(){return O=i()(r()().mark(function t(p){return r()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,W.request)("component/update",{method:"POST",data:p}));case 1:case"end":return a.stop()}},t)})),O.apply(this,arguments)}function ue(t){return X.apply(this,arguments)}function X(){return X=i()(r()().mark(function t(p){return r()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,W.request)("component/list",{params:p}));case 1:case"end":return a.stop()}},t)})),X.apply(this,arguments)}function re(t,p){return te.apply(this,arguments)}function te(){return te=i()(r()().mark(function t(p,v){return r()().wrap(function(M){for(;;)switch(M.prev=M.next){case 0:return M.abrupt("return",(0,W.request)("component/list-work/".concat(v),{params:p}));case 1:case"end":return M.stop()}},t)})),te.apply(this,arguments)}function J(t){return f.apply(this,arguments)}function f(){return f=i()(r()().mark(function t(p){return r()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,W.request)("component/delete/".concat(p),{method:"POST"}));case 1:case"end":return a.stop()}},t)})),f.apply(this,arguments)}function Q(t){return ae.apply(this,arguments)}function ae(){return ae=i()(r()().mark(function t(p){var v;return r()().wrap(function(M){for(;;)switch(M.prev=M.next){case 0:return v={searchTerm:p.keyWords},M.abrupt("return",(0,W.request)("component/form-select",{params:v}));case 2:case"end":return M.stop()}},t)})),ae.apply(this,arguments)}}}]);
