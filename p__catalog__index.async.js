"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[5690],{77171:function(b,D,e){e.d(D,{Z:function(){return i}});var v=e(1413),r=e(62435),C={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M862 465.3h-81c-4.6 0-9 2-12.1 5.5L550 723.1V160c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v563.1L255.1 470.8c-3-3.5-7.4-5.5-12.1-5.5h-81c-6.8 0-10.5 8.1-6 13.2L487.9 861a31.96 31.96 0 0048.3 0L868 478.5c4.5-5.2.8-13.2-6-13.2z"}}]},name:"arrow-down",theme:"outlined"},a=C,c=e(84089),m=function(E,U){return r.createElement(c.Z,(0,v.Z)((0,v.Z)({},E),{},{ref:U,icon:a}))};m.displayName="ArrowDownOutlined";var i=r.forwardRef(m)},82826:function(b,D,e){e.d(D,{Z:function(){return i}});var v=e(1413),r=e(62435),C={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M872 474H286.9l350.2-304c5.6-4.9 2.2-14-5.2-14h-88.5c-3.9 0-7.6 1.4-10.5 3.9L155 487.8a31.96 31.96 0 000 48.3L535.1 866c1.5 1.3 3.3 2 5.2 2h91.5c7.4 0 10.8-9.2 5.2-14L286.9 550H872c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z"}}]},name:"arrow-left",theme:"outlined"},a=C,c=e(84089),m=function(E,U){return r.createElement(c.Z,(0,v.Z)((0,v.Z)({},E),{},{ref:U,icon:a}))};m.displayName="ArrowLeftOutlined";var i=r.forwardRef(m)},1912:function(b,D,e){e.d(D,{Z:function(){return i}});var v=e(1413),r=e(62435),C={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M868 545.5L536.1 163a31.96 31.96 0 00-48.3 0L156 545.5a7.97 7.97 0 006 13.2h81c4.6 0 9-2 12.1-5.5L474 300.9V864c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V300.9l218.9 252.3c3 3.5 7.4 5.5 12.1 5.5h81c6.8 0 10.5-8 6-13.2z"}}]},name:"arrow-up",theme:"outlined"},a=C,c=e(84089),m=function(E,U){return r.createElement(c.Z,(0,v.Z)((0,v.Z)({},E),{},{ref:U,icon:a}))};m.displayName="ArrowUpOutlined";var i=r.forwardRef(m)},76131:function(b,D,e){var v=e(5574),r=e.n(v),C=e(98364),a=e(99351),c=e(5966),m=e(64317),i=e(62435),g=e(86074),E=function(M){var T=(0,i.useState)(),A=r()(T,2),S=A[0],P=A[1];return(0,i.useEffect)(function(){(0,C.eB)().then(function(L){P(L.map(function(O){return{label:O.name,value:O.id}}))})},[]),(0,g.jsxs)(a.Y,{open:M.open,title:"Component",onFinish:M.onFinish,onOpenChange:M.onOpenChange,children:[(0,g.jsx)(c.Z,{name:"name",label:"Name"}),(0,g.jsx)(m.Z,{showSearch:!0,options:S,name:"componentId",label:"Component"})]})};D.Z=E},90451:function(b,D,e){var v=e(15009),r=e.n(v),C=e(99289),a=e.n(C),c=e(5574),m=e.n(c),i=e(66352),g=e(24969),E=e(86548),U=e(1912),M=e(77171),T=e(48689),A=e(22538),S=e(99351),P=e(5966),L=e(64317),O=e(27790),R=e(71577),j=e(86738),s=e(90905),u=e(62435),t=e(76131),n=e(86074),o=function(){var ee=(0,s.useParams)(),I=ee.id,y=(0,u.useRef)(),Z=(0,u.useState)(!1),x=m()(Z,2),$=x[0],w=x[1],F=(0,u.useState)(!1),N=m()(F,2),G=N[0],K=N[1],H=(0,u.useState)(),z=m()(H,2),V=z[0],X=z[1];(0,u.useEffect)(function(){var p;(p=y.current)===null||p===void 0||p.reload()},[I]);var J=function(){var p=a()(r()().mark(function l(_){var h,f;return r()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.next=2,(0,i.zt)(_,I);case 2:h=d.sent,h.succeeded?(O.ZP.success("Deleted!"),(f=y.current)===null||f===void 0||f.reload()):O.ZP.error(h.errors[0].description);case 4:case"end":return d.stop()}},l)}));return function(_){return p.apply(this,arguments)}}(),Y=function(){var p=a()(r()().mark(function l(_){var h,f;return r()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.next=2,(0,i.aN)(_);case 2:h=d.sent,h.succeeded&&(O.ZP.success("Sorted!"),(f=y.current)===null||f===void 0||f.reload());case 4:case"end":return d.stop()}},l)}));return function(_){return p.apply(this,arguments)}}(),k=function(){var p=a()(r()().mark(function l(_){var h,f;return r()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return _.catalogId=I,d.next=3,(0,i.yL)(_);case 3:h=d.sent,h.succeeded&&(O.ZP.success("Added!"),w(!1),(f=y.current)===null||f===void 0||f.reload());case 5:case"end":return d.stop()}},l)}));return function(_){return p.apply(this,arguments)}}(),W=function(){var p=a()(r()().mark(function l(){var _;return r()().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.next=2,(0,i.x)();case 2:_=f.sent,X(_),K(!0);case 5:case"end":return f.stop()}},l)}));return function(){return p.apply(this,arguments)}}(),B=function(){var p=a()(r()().mark(function l(_){var h,f;return r()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.next=2,(0,i.jX)(_);case 2:h=d.sent,h.succeeded&&(O.ZP.success("Saved"),K(!1),(f=y.current)===null||f===void 0||f.reload());case 4:case"end":return d.stop()}},l)}));return function(_){return p.apply(this,arguments)}}();return(0,n.jsxs)("div",{children:[(0,n.jsx)(A.Rs,{toolBarRender:function(){return[(0,n.jsx)(R.Z,{onClick:function(){return w(!0)},type:"primary",icon:(0,n.jsx)(g.Z,{}),children:(0,n.jsx)(s.FormattedMessage,{id:"general.new"})},0),(0,n.jsx)(R.Z,{onClick:W,children:"Select"},1)]},rowSelection:{},actionRef:y,request:a()(r()().mark(function p(){return r()().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.abrupt("return",(0,i.KC)(I));case 1:case"end":return _.stop()}},p)})),headerTitle:"Work items",metas:{title:{dataIndex:"name"},actions:{render:function(l,_){return[(0,n.jsx)(R.Z,{type:"primary",icon:(0,n.jsx)(E.Z,{}),onClick:function(){s.history.push("/works/".concat(_.normalizedName.toLocaleLowerCase(),"/").concat(_.id))}},1),(0,n.jsx)(R.Z,{icon:(0,n.jsx)(U.Z,{}),onClick:function(){return Y({workId:_.id,catalogId:I,sortOrder:_.sortOrder-1})}},2),(0,n.jsx)(R.Z,{icon:(0,n.jsx)(M.Z,{}),onClick:function(){return Y({workId:_.id,catalogId:I,sortOrder:_.sortOrder+1})}},3),(0,n.jsxs)(j.Z,{title:"Are you sure?",onConfirm:function(){return J(_.id)},children:[(0,n.jsx)(R.Z,{icon:(0,n.jsx)(T.Z,{}),danger:!0,type:"primary"}),","]},4)]}}}}),(0,n.jsx)(t.Z,{open:$,onOpenChange:w,onFinish:k}),(0,n.jsxs)(S.Y,{open:G,onOpenChange:K,onFinish:B,children:[(0,n.jsx)(P.Z,{name:"catalogId",initialValue:I,hidden:!0}),(0,n.jsx)(L.Z,{showSearch:!0,name:"workContentId",options:V,label:"Work"})]})]})};D.Z=o},21899:function(b,D,e){e.r(D);var v=e(15009),r=e.n(v),C=e(99289),a=e.n(C),c=e(5574),m=e.n(c),i=e(90451),g=e(78710),E=e(61614),U=e(82826),M=e(62884),T=e(30029),A=e(99351),S=e(5966),P=e(90905),L=e(27790),O=e(71577),R=e(71230),j=e(15746),s=e(26713),u=e(32983),t=e(62435),n=e(35003),o=e(86074),q=function(){var I=(0,P.useIntl)(),y=(0,P.useParams)(),Z=y.id,x=(0,t.useState)(!1),$=m()(x,2),w=$[0],F=$[1],N=(0,t.useState)(),G=m()(N,2),K=G[0],H=G[1],z=(0,t.useState)("content"),V=m()(z,2),X=V[0],J=V[1];(0,t.useEffect)(function(){(0,E.R4)(Z).then(function(W){return H(W)})},[Z]);var Y=function(){var W=a()(r()().mark(function B(p){return r()().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:(0,E.BP)(p).then(function(h){h.succeeded&&(L.ZP.success("Saved!"),F(!1))});case 1:case"end":return _.stop()}},B)}));return function(p){return W.apply(this,arguments)}}(),k=function(){var W=a()(r()().mark(function B(){return r()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,(0,g.W)(Z);case 2:case"end":return l.stop()}},B)}));return function(){return W.apply(this,arguments)}}();return(0,o.jsx)(M._z,{title:K==null?void 0:K.name,extra:(0,o.jsx)(O.Z,{icon:(0,o.jsx)(U.Z,{}),onClick:function(){return P.history.back()},children:(0,o.jsx)(P.FormattedMessage,{id:"general.back"})}),children:(0,o.jsxs)(R.Z,{gutter:16,children:[(0,o.jsx)(j.Z,{span:6}),(0,o.jsxs)(j.Z,{span:12,children:[(0,o.jsx)(T.Z,{tabs:{tabPosition:"top",activeKey:X,items:[{label:"Content",key:"content",children:(0,o.jsx)(i.Z,{})},{label:I.formatMessage({id:"menu.settings"}),key:"setting",children:(0,o.jsx)(n.Z,{})}],onChange:function(B){J(B)}},extra:(0,o.jsxs)(s.Z,{children:[(0,o.jsx)(O.Z,{type:"primary",onClick:k,children:"Export"}),(0,o.jsx)(O.Z,{type:"primary",danger:!0,children:"Import"})]})}),(0,o.jsxs)(A.Y,{onFinish:Y,open:w,onOpenChange:F,children:[(0,o.jsx)(S.Z,{name:"name",label:"Name"}),(0,o.jsx)(S.Z,{name:"normalizedName",label:"Normalized Name"})]})]}),(0,o.jsx)(j.Z,{span:6,children:(0,o.jsx)(T.Z,{children:(0,o.jsx)(u.Z,{})})})]})})};D.default=q},78710:function(b,D,e){e.d(D,{Jx:function(){return T},W:function(){return R},_O:function(){return g},_s:function(){return U},dk:function(){return L},gn:function(){return S},rZ:function(){return m}});var v=e(15009),r=e.n(v),C=e(99289),a=e.n(C),c=e(90905);function m(){return i.apply(this,arguments)}function i(){return i=a()(r()().mark(function s(){return r()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,c.request)("backup/statistic"));case 1:case"end":return t.stop()}},s)})),i.apply(this,arguments)}function g(){return E.apply(this,arguments)}function E(){return E=a()(r()().mark(function s(){return r()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,c.request)("backup/export",{method:"POST"}));case 1:case"end":return t.stop()}},s)})),E.apply(this,arguments)}function U(){return M.apply(this,arguments)}function M(){return M=a()(r()().mark(function s(){return r()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,c.request)("backup/upgrade",{method:"POST"}));case 1:case"end":return t.stop()}},s)})),M.apply(this,arguments)}function T(){return A.apply(this,arguments)}function A(){return A=a()(r()().mark(function s(){return r()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,c.request)("backup/upgrade/list"));case 1:case"end":return t.stop()}},s)})),A.apply(this,arguments)}function S(s){return P.apply(this,arguments)}function P(){return P=a()(r()().mark(function s(u){return r()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,c.request)(u,{method:"POST"}));case 1:case"end":return n.stop()}},s)})),P.apply(this,arguments)}function L(s){return O.apply(this,arguments)}function O(){return O=a()(r()().mark(function s(u){var t;return r()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return t=new FormData,t.append("file",u),o.abrupt("return",(0,c.request)("backup/import",{method:"POST",data:t}));case 3:case"end":return o.stop()}},s)})),O.apply(this,arguments)}function R(s){return j.apply(this,arguments)}function j(){return j=a()(r()().mark(function s(u){return r()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,c.request)("backup/export/catalog/".concat(u),{method:"POST"}));case 1:case"end":return n.stop()}},s)})),j.apply(this,arguments)}},98364:function(b,D,e){e.d(D,{CO:function(){return S},KL:function(){return T},Xr:function(){return m},Z:function(){return L},eB:function(){return g},v7:function(){return R}});var v=e(15009),r=e.n(v),C=e(99289),a=e.n(C),c=e(90905);function m(s){return i.apply(this,arguments)}function i(){return i=a()(r()().mark(function s(u){return r()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,c.request)("component/".concat(u)));case 1:case"end":return n.stop()}},s)})),i.apply(this,arguments)}function g(){return E.apply(this,arguments)}function E(){return E=a()(r()().mark(function s(){return r()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,c.request)("component/list-all"));case 1:case"end":return t.stop()}},s)})),E.apply(this,arguments)}function U(s){return M.apply(this,arguments)}function M(){return M=_asyncToGenerator(_regeneratorRuntime().mark(function s(u){return _regeneratorRuntime().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",request("component/add",{method:"POST",data:u}));case 1:case"end":return n.stop()}},s)})),M.apply(this,arguments)}function T(s){return A.apply(this,arguments)}function A(){return A=a()(r()().mark(function s(u){return r()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,c.request)("component/update",{method:"POST",data:u}));case 1:case"end":return n.stop()}},s)})),A.apply(this,arguments)}function S(s){return P.apply(this,arguments)}function P(){return P=a()(r()().mark(function s(u){return r()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,c.request)("component/list",{params:u}));case 1:case"end":return n.stop()}},s)})),P.apply(this,arguments)}function L(s,u){return O.apply(this,arguments)}function O(){return O=a()(r()().mark(function s(u,t){return r()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",(0,c.request)("component/list-work/".concat(t),{params:u}));case 1:case"end":return o.stop()}},s)})),O.apply(this,arguments)}function R(s){return j.apply(this,arguments)}function j(){return j=a()(r()().mark(function s(u){return r()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,c.request)("component/delete/".concat(u),{method:"POST"}));case 1:case"end":return n.stop()}},s)})),j.apply(this,arguments)}}}]);
