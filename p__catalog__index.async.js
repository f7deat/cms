"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[5690],{76131:function(ie,R,e){var b=e(37476),n=e(5966),U=e(65675),o=e(86074),p=function(O){return(0,o.jsxs)(b.Y,{open:O.open,title:"Component",onFinish:O.onFinish,onOpenChange:O.onOpenChange,children:[(0,o.jsx)(n.Z,{name:"name",label:"Name"}),(0,o.jsx)(U.Z,{name:"componentId",label:"Component"})]})};R.Z=p},1913:function(ie,R,e){var b=e(15009),n=e.n(b),U=e(99289),o=e.n(U),p=e(5574),f=e.n(p),O=e(20385),T=e(64082),W=e(16596),te=e(65419),v=e(58301),ae=e(98366),L=e(71577),ee=e(96074),A=e(96365),z=e(62435),d=e(86074),Y=te.Z.Dragger,K=function(u){var a=(0,z.useState)(""),s=f()(a,2),h=s[0],de=s[1];function $(ne){var E;try{E=new URL(ne)}catch(se){return!1}return E.protocol==="https:"}var M=function(){var ne=o()(n()().mark(function E(se){var N;return n()().wrap(function(H){for(;;)switch(H.prev=H.next){case 0:if($(se)){H.next=3;break}return v.ZP.error("Sorry, URL failed to upload."),H.abrupt("return");case 3:return H.next=5,(0,O.tg)(se);case 5:N=H.sent,N.succeeded&&v.ZP.success("Uploaded!");case 7:case"end":return H.stop()}},E)}));return function(se){return ne.apply(this,arguments)}}(),me=function(){var ne=o()(n()().mark(function E(){return n()().wrap(function(N){for(;;)switch(N.prev=N.next){case 0:if($(h)){N.next=3;break}return v.ZP.error("Sorry, URL failed to upload."),N.abrupt("return");case 3:u.onFinish(h),u.onCancel();case 5:case"end":return N.stop()}},E)}));return function(){return ne.apply(this,arguments)}}();return(0,d.jsxs)(ae.Z,{open:u.open,onCancel:u.onCancel,centered:!0,title:"Upload",onOk:me,children:[(0,d.jsx)("div",{className:"mb-4",children:(0,d.jsxs)(Y,{children:[(0,d.jsx)("p",{className:"ant-upload-drag-icon",children:(0,d.jsx)(T.Z,{})}),(0,d.jsx)("p",{className:"ant-upload-text",children:"Click or drag file to this area to upload"}),(0,d.jsx)("p",{className:"ant-upload-hint",children:"Support for a single or bulk upload. Strictly prohibited from uploading company data or other banned files."})]})}),(0,d.jsx)("div",{className:"text-center",children:(0,d.jsx)(L.ZP,{icon:(0,d.jsx)(W.Z,{}),type:"link",size:"large",children:(0,d.jsx)("b",{children:"Choose from your computer"})})}),(0,d.jsx)(ee.Z,{children:"or"}),(0,d.jsx)(A.Z,{placeholder:"Paste image or URL",onChange:function(E){return de(E.currentTarget.value)}})]})};R.Z=K},65675:function(ie,R,e){var b=e(98364),n=e(64317),U=e(86074),o=function(f){return(0,U.jsx)(n.Z,{showSearch:!0,request:b.Ef,name:f.name,label:f.label})};R.Z=o},26652:function(ie,R,e){e.r(R),e.d(R,{default:function(){return Ie}});var b=e(15009),n=e.n(b),U=e(99289),o=e.n(U),p=e(5574),f=e.n(p),O=e(97857),T=e.n(O),W=e(13769),te=e.n(W),v=e(66352),ae=e(53682),L=e(47389),ee=e(82061),A=e(37446),z=e(51042),d=e(37476),Y=e(5966),K=e(64317),t=e(58301),u=e(93421),a=e(71577),s=e(86738),h=e(85418),de=e(95840),$=e(35312),M=e(62435),me=e(76131),ne=e(60887),E=e(45587),se=e(32339),N=e(24285),r=e(86074),H=["children"],ge=function(re){var j=re.children,V=te()(re,H),C=(0,E.nB)({id:V["data-row-key"]}),X=C.attributes,k=C.listeners,oe=C.setNodeRef,G=C.setActivatorNodeRef,x=C.transform,B=C.transition,ue=C.isDragging,J=T()(T()({},V.style),{},{transform:N.ux.Transform.toString(x&&T()(T()({},x),{},{scaleY:1})),transition:B},ue?{position:"relative"}:{});return(0,r.jsx)("tr",T()(T()(T()({},V),{},{ref:oe,style:J},X),{},{children:M.Children.map(j,function(Q){return Q.key==="sort"?M.cloneElement(Q,{children:(0,r.jsx)(ae.Z,T()({ref:G,style:{touchAction:"none",cursor:"move"}},k))}):Q})}))},Pe=function(){var re=(0,$.useParams)(),j=re.id,V=(0,M.useState)([]),C=f()(V,2),X=C[0],k=C[1],oe=(0,M.useState)(!1),G=f()(oe,2),x=G[0],B=G[1],ue=(0,M.useState)(!1),J=f()(ue,2),Q=J[0],_=J[1],w=(0,M.useState)(),F=f()(w,2),I=F[0],D=F[1],S=function(){(0,v.KC)(j).then(function(m){k(m.data)})};(0,M.useEffect)(function(){j&&S()},[j]);var g=function(){var y=o()(n()().mark(function m(l){var i;return n()().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,(0,v.zt)(l,j);case 2:i=c.sent,i.succeeded?(t.ZP.success("Deleted!"),S()):t.ZP.error(i.errors[0].description);case 4:case"end":return c.stop()}},m)}));return function(l){return y.apply(this,arguments)}}(),q=function(){var y=o()(n()().mark(function m(l){var i;return n()().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return l.catalogId=j,c.next=3,(0,v.yL)(l);case 3:i=c.sent,i.succeeded&&(t.ZP.success("Added!"),B(!1),S());case 5:case"end":return c.stop()}},m)}));return function(l){return y.apply(this,arguments)}}(),ce=function(){var y=o()(n()().mark(function m(){var l;return n()().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return P.next=2,(0,v.x)();case 2:l=P.sent,D(l),_(!0);case 5:case"end":return P.stop()}},m)}));return function(){return y.apply(this,arguments)}}(),fe=function(){var y=o()(n()().mark(function m(l){var i;return n()().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,(0,v.jX)(l);case 2:i=c.sent,i.succeeded&&(t.ZP.success("Saved"),_(!1),S());case 4:case"end":return c.stop()}},m)}));return function(l){return y.apply(this,arguments)}}(),be=[{key:"1",label:"Show / Hide"}],Ue=function(){var y=o()(n()().mark(function m(l,i){var P;return n()().wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:if(l.key!=="1"){Z.next=5;break}return Z.next=3,(0,v.Wv)(i);case 3:P=Z.sent,P.succeeded&&(t.ZP.success("Actived!"),S());case 5:case"end":return Z.stop()}},m)}));return function(l,i){return y.apply(this,arguments)}}(),We=function(m,l,i){var P=m.findIndex(function(Z){return Z.id===l.id}),c=m.findIndex(function(Z){return Z.id===(i==null?void 0:i.id)});return(0,E.Rp)(m,P,c).map(function(Z){return Z.id})},Le=function(m){var l=m.active,i=m.over;if(l.id!==(i==null?void 0:i.id)){k(function(c){var Z=c.findIndex(function(ve){return ve.id===l.id}),Ke=c.findIndex(function(ve){return ve.id===(i==null?void 0:i.id)});return(0,E.Rp)(c,Z,Ke)});var P=We(X,l,i);(0,v.P0)(P).then(function(c){c.succeeded&&t.ZP.success("Saved!")})}},Ae=[{key:"sort"},{title:"Name",dataIndex:"name"},{title:"Action",render:function(m,l){return(0,r.jsxs)(u.Z,{children:[(0,r.jsx)(a.ZP,{type:"primary",icon:(0,r.jsx)(L.Z,{}),onClick:function(){$.history.push("/works/".concat(l.normalizedName.toLocaleLowerCase(),"/").concat(l.id))}},1),(0,r.jsx)(s.Z,{title:"Are you sure?",onConfirm:function(){return g(l.id)},children:(0,r.jsx)(a.ZP,{icon:(0,r.jsx)(ee.Z,{}),danger:!0,type:"primary"})},4),(0,r.jsx)(h.Z,{menu:{items:be,onClick:function(P){return Ue(P,l.id)}},children:(0,r.jsx)(a.ZP,{icon:(0,r.jsx)(A.Z,{}),type:"dashed"})},"more")]})}}];return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"mb-2 flex justify-end gap-2",children:[(0,r.jsx)(a.ZP,{onClick:function(){return B(!0)},type:"primary",icon:(0,r.jsx)(z.Z,{}),children:(0,r.jsx)($.FormattedMessage,{id:"general.new"})},0),(0,r.jsx)(a.ZP,{onClick:ce,icon:(0,r.jsx)(z.Z,{}),children:"Ch\u1ECDn"},1)]}),(0,r.jsx)(ne.LB,{modifiers:[se.DL],onDragEnd:Le,children:(0,r.jsx)(E.Fo,{items:X.map(function(y){return y.id}),strategy:E.qw,children:(0,r.jsx)(de.Z,{components:{body:{row:ge}},columns:Ae,rowKey:"id",dataSource:X})})}),(0,r.jsx)(me.Z,{open:x,onOpenChange:B,onFinish:q}),(0,r.jsxs)(d.Y,{open:Q,onOpenChange:_,onFinish:fe,children:[(0,r.jsx)(Y.Z,{name:"catalogId",initialValue:j,hidden:!0}),(0,r.jsx)(K.Z,{showSearch:!0,name:"workContentId",options:I,label:"Work"})]})]})},Ee=Pe,je=e(78710),le=e(12361),Ce=e(63386),he=e(28199),De=e(71230),_e=e(15746),ye=e(35003),Oe=e(74653),Me=e(1913),xe=e(32545),Se=function(){var re=(0,$.useParams)(),j=re.id,V=(0,M.useState)(!1),C=f()(V,2),X=C[0],k=C[1],oe=(0,M.useState)([]),G=f()(oe,2),x=G[0],B=G[1];(0,M.useEffect)(function(){(0,le.NU)(j).then(function(_){_&&B(_.images)})},[]);var ue=function(){return k(!1)},J=function(){var _=o()(n()().mark(function w(F){var I,D;return n()().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return I=x,I.push(F),g.next=4,(0,le.kn)(I,j);case 4:D=g.sent,D.succeeded?(B(I),t.ZP.success("Saved!")):t.ZP.error(D.errors[0].description);case 6:case"end":return g.stop()}},w)}));return function(F){return _.apply(this,arguments)}}(),Q=function(){var _=o()(n()().mark(function w(F){var I,D;return n()().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return I=x.filter(function(q){return q!==F}),g.next=3,(0,le.kn)(I,j);case 3:D=g.sent,D.succeeded?(B(I),t.ZP.success("Saved!")):t.ZP.error(D.errors[0].description);case 5:case"end":return g.stop()}},w)}));return function(F){return _.apply(this,arguments)}}();return(0,r.jsxs)(he.Z,{children:[(0,r.jsxs)("div",{className:"flex gap-4",children:[x.map(function(_,w){return(0,r.jsxs)("div",{className:"btn-upload p-2",children:[(0,r.jsx)(xe.Z,{src:_,alt:"IMG"}),(0,r.jsx)(a.ZP,{icon:(0,r.jsx)(ee.Z,{}),size:"small",danger:!0,onClick:function(){return Q(_)},style:{position:"absolute",right:6}})]},w)}),(0,r.jsxs)("button",{type:"button",className:"btn-upload",onClick:function(){return k(!0)},children:[(0,r.jsx)(z.Z,{}),(0,r.jsx)("div",{style:{marginTop:8},children:"Upload"})]})]}),(0,r.jsx)(Me.Z,{open:X,onCancel:ue,onFinish:J})]})},Ze=Se,Te=e(55375),Re=function(){var re=(0,$.useParams)(),j=re.id,V=(0,M.useState)(!1),C=f()(V,2),X=C[0],k=C[1],oe=(0,M.useState)(),G=f()(oe,2),x=G[0],B=G[1],ue=(0,M.useState)("content"),J=f()(ue,2),Q=J[0],_=J[1];(0,M.useEffect)(function(){(0,le.R4)(j).then(function(D){return B(D)})},[j]);var w=function(){var D=o()(n()().mark(function S(g){return n()().wrap(function(ce){for(;;)switch(ce.prev=ce.next){case 0:(0,le.BP)(g).then(function(fe){fe.succeeded&&(t.ZP.success("Saved!"),k(!1))});case 1:case"end":return ce.stop()}},S)}));return function(g){return D.apply(this,arguments)}}(),F=function(){var D=o()(n()().mark(function S(){return n()().wrap(function(q){for(;;)switch(q.prev=q.next){case 0:return q.next=2,(0,je.W)(j);case 2:case"end":return q.stop()}},S)}));return function(){return D.apply(this,arguments)}}(),I=function(S){_(S)};return(0,r.jsx)(Ce._z,{title:x==null?void 0:x.name,children:(0,r.jsxs)(De.Z,{gutter:16,children:[(0,r.jsxs)(_e.Z,{span:18,children:[(0,r.jsx)(he.Z,{tabs:{tabPosition:"top",activeKey:Q,items:[{label:"Content",key:"content",children:(0,r.jsx)(Ee,{})},{label:(0,r.jsx)($.FormattedMessage,{id:"menu.settings"}),key:"setting",children:(0,r.jsx)(ye.Z,{})},{label:(0,r.jsx)($.FormattedMessage,{id:"pages.catalog.productImage"}),key:"product-image",children:(0,r.jsx)(Ze,{}),disabled:(x==null?void 0:x.type)!==Te.H.Product}],onChange:I},extra:(0,r.jsxs)(u.Z,{children:[(0,r.jsx)(a.ZP,{type:"primary",onClick:F,children:"Export"}),(0,r.jsx)(a.ZP,{type:"primary",danger:!0,children:"Import"})]})}),(0,r.jsxs)(d.Y,{onFinish:w,open:X,onOpenChange:k,children:[(0,r.jsx)(Y.Z,{name:"name",label:"Name"}),(0,r.jsx)(Y.Z,{name:"normalizedName",label:"Normalized Name"})]})]}),(0,r.jsx)(_e.Z,{span:6,children:(0,r.jsx)(Oe.Z,{})})]})})},Ie=Re},78710:function(ie,R,e){e.d(R,{Jx:function(){return ae},W:function(){return Y},_O:function(){return T},_s:function(){return te},dk:function(){return z},gn:function(){return ee},rZ:function(){return f}});var b=e(15009),n=e.n(b),U=e(99289),o=e.n(U),p=e(35312);function f(){return O.apply(this,arguments)}function O(){return O=o()(n()().mark(function t(){return n()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,p.request)("backup/statistic"));case 1:case"end":return a.stop()}},t)})),O.apply(this,arguments)}function T(){return W.apply(this,arguments)}function W(){return W=o()(n()().mark(function t(){return n()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,p.request)("backup/export",{method:"POST"}));case 1:case"end":return a.stop()}},t)})),W.apply(this,arguments)}function te(){return v.apply(this,arguments)}function v(){return v=o()(n()().mark(function t(){return n()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,p.request)("backup/upgrade",{method:"POST"}));case 1:case"end":return a.stop()}},t)})),v.apply(this,arguments)}function ae(){return L.apply(this,arguments)}function L(){return L=o()(n()().mark(function t(){return n()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,p.request)("backup/upgrade/list"));case 1:case"end":return a.stop()}},t)})),L.apply(this,arguments)}function ee(t){return A.apply(this,arguments)}function A(){return A=o()(n()().mark(function t(u){return n()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",(0,p.request)(u,{method:"POST"}));case 1:case"end":return s.stop()}},t)})),A.apply(this,arguments)}function z(t){return d.apply(this,arguments)}function d(){return d=o()(n()().mark(function t(u){var a;return n()().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return a=new FormData,a.append("file",u),h.abrupt("return",(0,p.request)("backup/import",{method:"POST",data:a}));case 3:case"end":return h.stop()}},t)})),d.apply(this,arguments)}function Y(t){return K.apply(this,arguments)}function K(){return K=o()(n()().mark(function t(u){return n()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",(0,p.request)("backup/export/catalog/".concat(u),{method:"POST"}));case 1:case"end":return s.stop()}},t)})),K.apply(this,arguments)}},98364:function(ie,R,e){e.d(R,{CO:function(){return ae},Ef:function(){return Y},KL:function(){return te},Xr:function(){return f},Z:function(){return ee},v7:function(){return z}});var b=e(15009),n=e.n(b),U=e(99289),o=e.n(U),p=e(35312);function f(t){return O.apply(this,arguments)}function O(){return O=o()(n()().mark(function t(u){return n()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",(0,p.request)("component/".concat(u)));case 1:case"end":return s.stop()}},t)})),O.apply(this,arguments)}function T(t){return W.apply(this,arguments)}function W(){return W=_asyncToGenerator(_regeneratorRuntime().mark(function t(u){return _regeneratorRuntime().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",request("component/add",{method:"POST",data:u}));case 1:case"end":return s.stop()}},t)})),W.apply(this,arguments)}function te(t){return v.apply(this,arguments)}function v(){return v=o()(n()().mark(function t(u){return n()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",(0,p.request)("component/update",{method:"POST",data:u}));case 1:case"end":return s.stop()}},t)})),v.apply(this,arguments)}function ae(t){return L.apply(this,arguments)}function L(){return L=o()(n()().mark(function t(u){return n()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",(0,p.request)("component/list",{params:u}));case 1:case"end":return s.stop()}},t)})),L.apply(this,arguments)}function ee(t,u){return A.apply(this,arguments)}function A(){return A=o()(n()().mark(function t(u,a){return n()().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.abrupt("return",(0,p.request)("component/list-work/".concat(a),{params:u}));case 1:case"end":return h.stop()}},t)})),A.apply(this,arguments)}function z(t){return d.apply(this,arguments)}function d(){return d=o()(n()().mark(function t(u){return n()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",(0,p.request)("component/delete/".concat(u),{method:"POST"}));case 1:case"end":return s.stop()}},t)})),d.apply(this,arguments)}function Y(t){return K.apply(this,arguments)}function K(){return K=o()(n()().mark(function t(u){var a;return n()().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return a={searchTerm:u.keyWords},h.abrupt("return",(0,p.request)("component/form-select",{params:a}));case 2:case"end":return h.stop()}},t)})),K.apply(this,arguments)}}}]);
