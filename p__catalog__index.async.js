"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[5690],{77171:function(x,E,e){e.d(E,{Z:function(){return l}});var c=e(1413),n=e(62435),P={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M862 465.3h-81c-4.6 0-9 2-12.1 5.5L550 723.1V160c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v563.1L255.1 470.8c-3-3.5-7.4-5.5-12.1-5.5h-81c-6.8 0-10.5 8.1-6 13.2L487.9 861a31.96 31.96 0 0048.3 0L868 478.5c4.5-5.2.8-13.2-6-13.2z"}}]},name:"arrow-down",theme:"outlined"},o=P,s=e(84089),d=function(v,m){return n.createElement(s.Z,(0,c.Z)((0,c.Z)({},v),{},{ref:m,icon:o}))};d.displayName="ArrowDownOutlined";var l=n.forwardRef(d)},82826:function(x,E,e){e.d(E,{Z:function(){return l}});var c=e(1413),n=e(62435),P={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M872 474H286.9l350.2-304c5.6-4.9 2.2-14-5.2-14h-88.5c-3.9 0-7.6 1.4-10.5 3.9L155 487.8a31.96 31.96 0 000 48.3L535.1 866c1.5 1.3 3.3 2 5.2 2h91.5c7.4 0 10.8-9.2 5.2-14L286.9 550H872c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z"}}]},name:"arrow-left",theme:"outlined"},o=P,s=e(84089),d=function(v,m){return n.createElement(s.Z,(0,c.Z)((0,c.Z)({},v),{},{ref:m,icon:o}))};d.displayName="ArrowLeftOutlined";var l=n.forwardRef(d)},1912:function(x,E,e){e.d(E,{Z:function(){return l}});var c=e(1413),n=e(62435),P={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M868 545.5L536.1 163a31.96 31.96 0 00-48.3 0L156 545.5a7.97 7.97 0 006 13.2h81c4.6 0 9-2 12.1-5.5L474 300.9V864c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V300.9l218.9 252.3c3 3.5 7.4 5.5 12.1 5.5h81c6.8 0 10.5-8 6-13.2z"}}]},name:"arrow-up",theme:"outlined"},o=P,s=e(84089),d=function(v,m){return n.createElement(s.Z,(0,c.Z)((0,c.Z)({},v),{},{ref:m,icon:o}))};d.displayName="ArrowUpOutlined";var l=n.forwardRef(d)},64317:function(x,E,e){var c=e(1413),n=e(91),P=e(86074),o=e(22270),s=e(62435),d=e(66758),l=e(15790),O=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","showSearch","options"],v=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","options"],m=s.forwardRef(function(t,a){var h=t.fieldProps,j=t.children,C=t.params,_=t.proFieldProps,W=t.mode,F=t.valueEnum,I=t.request,Z=t.showSearch,L=t.options,b=(0,n.Z)(t,O),B=(0,s.useContext)(d.Z);return(0,P.jsx)(l.Z,(0,c.Z)((0,c.Z)({valueEnum:(0,o.h)(F),request:I,params:C,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:(0,c.Z)({options:L,mode:W,showSearch:Z,getPopupContainer:B.getPopupContainer},h),ref:a,proFieldProps:_},b),{},{children:j}))}),D=s.forwardRef(function(t,a){var h=t.fieldProps,j=t.children,C=t.params,_=t.proFieldProps,W=t.mode,F=t.valueEnum,I=t.request,Z=t.options,L=(0,n.Z)(t,v),b=(0,c.Z)({options:Z,mode:W||"multiple",labelInValue:!0,showSearch:!0,showArrow:!1,autoClearSearchValue:!0,optionLabelProp:"label"},h),B=(0,s.useContext)(d.Z);return(0,P.jsx)(l.Z,(0,c.Z)((0,c.Z)({valueEnum:(0,o.h)(F),request:I,params:C,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:(0,c.Z)({getPopupContainer:B.getPopupContainer},b),ref:a,proFieldProps:_},L),{},{children:j}))}),T=m,p=D,A=T;A.SearchSelect=p,A.displayName="ProFormComponent",E.Z=A},90672:function(x,E,e){var c=e(1413),n=e(91),P=e(86074),o=e(62435),s=e(15790),d=["fieldProps","proFieldProps"],l=function(v,m){var D=v.fieldProps,T=v.proFieldProps,p=(0,n.Z)(v,d);return(0,P.jsx)(s.Z,(0,c.Z)({ref:m,valueType:"textarea",fieldProps:D,proFieldProps:T},p))};E.Z=o.forwardRef(l)},5966:function(x,E,e){var c=e(1413),n=e(91),P=e(86074),o=e(15790),s=["fieldProps","proFieldProps"],d=["fieldProps","proFieldProps"],l="text",O=function(T){var p=T.fieldProps,A=T.proFieldProps,t=(0,n.Z)(T,s);return(0,P.jsx)(o.Z,(0,c.Z)({valueType:l,fieldProps:p,filedConfig:{valueType:l},proFieldProps:A},t))},v=function(T){var p=T.fieldProps,A=T.proFieldProps,t=(0,n.Z)(T,d);return(0,P.jsx)(o.Z,(0,c.Z)({valueType:"password",fieldProps:p,proFieldProps:A,filedConfig:{valueType:l}},t))},m=O;m.Password=v,m.displayName="ProFormComponent",E.Z=m},76131:function(x,E,e){var c=e(5574),n=e.n(c),P=e(98364),o=e(99351),s=e(5966),d=e(64317),l=e(62435),O=e(86074),v=function(D){var T=(0,l.useState)(),p=n()(T,2),A=p[0],t=p[1];return(0,l.useEffect)(function(){(0,P.eB)().then(function(a){t(a.map(function(h){return{label:h.name,value:h.id}}))})},[]),(0,O.jsxs)(o.Y,{open:D.open,title:"Add component",onFinish:D.onFinish,onOpenChange:D.onOpenChange,children:[(0,O.jsx)(s.Z,{name:"name",label:"Name"}),(0,O.jsx)(d.Z,{showSearch:!0,options:A,name:"componentId",label:"Component"})]})};E.Z=v},14027:function(x,E,e){var c=e(15009),n=e.n(c),P=e(99289),o=e.n(P),s=e(5574),d=e.n(s),l=e(66352),O=e(24969),v=e(86548),m=e(1912),D=e(77171),T=e(48689),p=e(22538),A=e(27790),t=e(71577),a=e(86738),h=e(90905),j=e(62435),C=e(76131),_=e(86074),W=function(){var I=(0,h.useParams)(),Z=I.id,L=(0,j.useRef)(),b=(0,j.useState)(!1),B=d()(b,2),i=B[0],f=B[1];(0,j.useEffect)(function(){var S;(S=L.current)===null||S===void 0||S.reload()},[Z]);var g=function(){var S=o()(n()().mark(function U(u){var M,R;return n()().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return y.next=2,(0,l.zt)(u,Z);case 2:M=y.sent,M.succeeded&&(A.ZP.success("Deleted!"),(R=L.current)===null||R===void 0||R.reload());case 4:case"end":return y.stop()}},U)}));return function(u){return S.apply(this,arguments)}}(),r=function(){var S=o()(n()().mark(function U(u,M){var R,K;return n()().wrap(function(w){for(;;)switch(w.prev=w.next){case 0:return u.sortOrder=M?u.sortOrder-1:u.sortOrder+1,w.next=3,(0,l.aN)(u.id,u.catalogId,u.sortOrder);case 3:R=w.sent,R.succeeded&&(A.ZP.success("Sorted!"),(K=L.current)===null||K===void 0||K.reload());case 5:case"end":return w.stop()}},U)}));return function(u,M){return S.apply(this,arguments)}}(),N=function(){var S=o()(n()().mark(function U(u){var M,R;return n()().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return u.catalogId=Z,y.next=3,(0,l.yL)(u);case 3:M=y.sent,M.succeeded&&(A.ZP.success("Added!"),f(!1),(R=L.current)===null||R===void 0||R.reload());case 5:case"end":return y.stop()}},U)}));return function(u){return S.apply(this,arguments)}}();return(0,_.jsxs)("div",{children:[(0,_.jsx)(p.Rs,{toolBarRender:function(){return[(0,_.jsx)(t.Z,{onClick:function(){return f(!0)},type:"primary",icon:(0,_.jsx)(O.Z,{}),children:(0,_.jsx)(h.FormattedMessage,{id:"general.new"})},0)]},rowSelection:{},actionRef:L,request:o()(n()().mark(function S(){return n()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.abrupt("return",(0,l.KC)(Z));case 1:case"end":return u.stop()}},S)})),headerTitle:"Work items",metas:{title:{dataIndex:"name"},actions:{render:function(U,u){return[(0,_.jsx)(t.Z,{type:"primary",icon:(0,_.jsx)(v.Z,{}),onClick:function(){h.history.push("/works/".concat(u.normalizedName.toLocaleLowerCase(),"/").concat(u.id))}},1),(0,_.jsx)(t.Z,{icon:(0,_.jsx)(m.Z,{}),onClick:function(){return r(u,!0)}},2),(0,_.jsx)(t.Z,{icon:(0,_.jsx)(D.Z,{}),onClick:function(){return r(u,!1)}},3),(0,_.jsxs)(a.Z,{title:"Are you sure?",onConfirm:function(){return g(u.id)},children:[(0,_.jsx)(t.Z,{icon:(0,_.jsx)(T.Z,{}),danger:!0,type:"primary"}),","]},4)]}}}}),(0,_.jsx)(C.Z,{open:i,onOpenChange:f,onFinish:N})]})};E.Z=W},22834:function(x,E,e){e.r(E),e.d(E,{default:function(){return f}});var c=e(15009),n=e.n(c),P=e(99289),o=e.n(P),s=e(5574),d=e.n(s),l=e(55375),O=e(61614),v=e(97269),m=e(5966),D=e(90672),T=e(64317),p=e(90905),A=e(27790),t=e(62435),a=e(86074),h=function(){var r=(0,p.useParams)(),N=r.id,S=(0,t.useRef)();(0,t.useEffect)(function(){(0,O.R4)(N).then(function(u){var M;(M=S.current)===null||M===void 0||M.setFields([{name:"id",value:u.id},{name:"name",value:u.name},{name:"normalizedName",value:u.normalizedName},{name:"type",value:u.type}])})},[N]);var U=function(){var u=o()(n()().mark(function M(R){var K,y;return n()().wrap(function($){for(;;)switch($.prev=$.next){case 0:return K={title:R.title,container:R.container},R.setting=K,$.next=4,(0,O.BA)(R);case 4:y=$.sent,y.succeeded&&A.ZP.success("Saved!");case 6:case"end":return $.stop()}},M)}));return function(R){return u.apply(this,arguments)}}();return(0,a.jsxs)(v.A,{formRef:S,onFinish:U,children:[(0,a.jsx)(m.Z,{name:"id",hidden:!0}),(0,a.jsx)(m.Z,{name:"name",label:"Name"}),(0,a.jsx)(m.Z,{name:"normalizedName",label:"Normalized name"}),(0,a.jsx)(D.Z,{name:"description",label:"Description"}),(0,a.jsx)(T.Z,{name:"type",label:"Type",options:[{label:"Page",value:l.H.Default},{label:"Setting",value:l.H.Setting},{label:"Home",value:l.H.Entry}]})]})},j=h,C=e(14027),_=e(82826),W=e(62884),F=e(30029),I=e(99351),Z=e(71577),L=e(71230),b=e(15746),B=e(32983),i=function(){var r=(0,p.useIntl)(),N=(0,p.useParams)(),S=N.id,U=(0,t.useState)(!1),u=d()(U,2),M=u[0],R=u[1],K=(0,t.useState)(),y=d()(K,2),w=y[0],$=y[1],X=(0,t.useState)("content"),H=d()(X,2),J=H[0],Q=H[1];(0,t.useEffect)(function(){(0,O.R4)(S).then(function(z){return $(z)})},[S]);var k=function(){var z=o()(n()().mark(function G(Y){return n()().wrap(function(V){for(;;)switch(V.prev=V.next){case 0:(0,O.BP)(Y).then(function(q){q.succeeded&&(A.ZP.success("Saved!"),R(!1))});case 1:case"end":return V.stop()}},G)}));return function(Y){return z.apply(this,arguments)}}();return(0,a.jsx)(W._z,{title:w==null?void 0:w.name,extra:(0,a.jsx)(Z.Z,{icon:(0,a.jsx)(_.Z,{}),onClick:function(){return p.history.back()},children:(0,a.jsx)(p.FormattedMessage,{id:"general.back"})}),children:(0,a.jsxs)(L.Z,{gutter:16,children:[(0,a.jsx)(b.Z,{span:6}),(0,a.jsxs)(b.Z,{span:12,children:[(0,a.jsx)(F.Z,{tabs:{tabPosition:"top",activeKey:J,items:[{label:"Content",key:"content",children:(0,a.jsx)(C.Z,{})},{label:r.formatMessage({id:"menu.settings"}),key:"setting",children:(0,a.jsx)(j,{})}],onChange:function(G){Q(G)}}}),(0,a.jsxs)(I.Y,{onFinish:k,open:M,onOpenChange:R,children:[(0,a.jsx)(m.Z,{name:"name",label:"Name"}),(0,a.jsx)(m.Z,{name:"normalizedName",label:"Normalized Name"})]})]}),(0,a.jsx)(b.Z,{span:6,children:(0,a.jsx)(F.Z,{children:(0,a.jsx)(B.Z,{})})})]})})},f=i},61614:function(x,E,e){e.d(E,{A$:function(){return m},BA:function(){return a},BP:function(){return O},R4:function(){return d},S8:function(){return A},_V:function(){return _},gY:function(){return F},r5:function(){return b},zo:function(){return Z}});var c=e(15009),n=e.n(c),P=e(99289),o=e.n(P),s=e(90905);function d(i){return l.apply(this,arguments)}function l(){return l=o()(n()().mark(function i(f){return n()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,s.request)("catalog/".concat(f)));case 1:case"end":return r.stop()}},i)})),l.apply(this,arguments)}function O(i){return v.apply(this,arguments)}function v(){return v=o()(n()().mark(function i(f){return n()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,s.request)("catalog/add",{method:"POST",data:f}));case 1:case"end":return r.stop()}},i)})),v.apply(this,arguments)}function m(i){return D.apply(this,arguments)}function D(){return D=o()(n()().mark(function i(f){return n()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,s.request)("catalog/list",{method:"GET",params:f}));case 1:case"end":return r.stop()}},i)})),D.apply(this,arguments)}function T(){return p.apply(this,arguments)}function p(){return p=_asyncToGenerator(_regeneratorRuntime().mark(function i(){return _regeneratorRuntime().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return g.abrupt("return",request("catalog/tree"));case 1:case"end":return g.stop()}},i)})),p.apply(this,arguments)}function A(i){return t.apply(this,arguments)}function t(){return t=o()(n()().mark(function i(f){return n()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,s.request)("catalog/delete/".concat(f),{method:"POST"}));case 1:case"end":return r.stop()}},i)})),t.apply(this,arguments)}function a(i){return h.apply(this,arguments)}function h(){return h=o()(n()().mark(function i(f){return n()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,s.request)("catalog/save",{method:"POST",data:f}));case 1:case"end":return r.stop()}},i)})),h.apply(this,arguments)}function j(i){return C.apply(this,arguments)}function C(){return C=_asyncToGenerator(_regeneratorRuntime().mark(function i(f){return _regeneratorRuntime().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",request("catalog/tree-drop",{method:"POST",data:f}));case 1:case"end":return r.stop()}},i)})),C.apply(this,arguments)}function _(){return W.apply(this,arguments)}function W(){return W=o()(n()().mark(function i(){return n()().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return g.abrupt("return",(0,s.request)("catalog/view-count"));case 1:case"end":return g.stop()}},i)})),W.apply(this,arguments)}function F(i){return I.apply(this,arguments)}function I(){return I=o()(n()().mark(function i(f){return n()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,s.request)("catalog/active/".concat(f),{method:"POST"}));case 1:case"end":return r.stop()}},i)})),I.apply(this,arguments)}function Z(i){return L.apply(this,arguments)}function L(){return L=o()(n()().mark(function i(f){return n()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,s.request)("catalog/article/save",{method:"POST",data:f}));case 1:case"end":return r.stop()}},i)})),L.apply(this,arguments)}function b(i){return B.apply(this,arguments)}function B(){return B=o()(n()().mark(function i(f){return n()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,s.request)("catalog/update-thumbnail",{method:"POST",data:f}));case 1:case"end":return r.stop()}},i)})),B.apply(this,arguments)}},98364:function(x,E,e){e.d(E,{CO:function(){return m},Xr:function(){return d},Z:function(){return T},eB:function(){return O},v7:function(){return A}});var c=e(15009),n=e.n(c),P=e(99289),o=e.n(P),s=e(90905);function d(a){return l.apply(this,arguments)}function l(){return l=o()(n()().mark(function a(h){return n()().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return C.abrupt("return",(0,s.request)("component/".concat(h)));case 1:case"end":return C.stop()}},a)})),l.apply(this,arguments)}function O(){return(0,s.request)("component/list-all")}function v(a){return request("component/add",{method:"POST",data:a})}function m(){return D.apply(this,arguments)}function D(){return D=o()(n()().mark(function a(){return n()().wrap(function(j){for(;;)switch(j.prev=j.next){case 0:return j.abrupt("return",(0,s.request)("component/list"));case 1:case"end":return j.stop()}},a)})),D.apply(this,arguments)}function T(a,h){return p.apply(this,arguments)}function p(){return p=o()(n()().mark(function a(h,j){return n()().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.abrupt("return",(0,s.request)("component/list-work/".concat(j),{params:h}));case 1:case"end":return _.stop()}},a)})),p.apply(this,arguments)}function A(a){return t.apply(this,arguments)}function t(){return t=o()(n()().mark(function a(h){return n()().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return C.abrupt("return",(0,s.request)("component/delete/".concat(h),{method:"POST"}));case 1:case"end":return C.stop()}},a)})),t.apply(this,arguments)}}}]);
