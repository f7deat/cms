"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[5690],{77171:function(I,h,e){e.d(h,{Z:function(){return i}});var E=e(1413),r=e(62435),D={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M862 465.3h-81c-4.6 0-9 2-12.1 5.5L550 723.1V160c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v563.1L255.1 470.8c-3-3.5-7.4-5.5-12.1-5.5h-81c-6.8 0-10.5 8.1-6 13.2L487.9 861a31.96 31.96 0 0048.3 0L868 478.5c4.5-5.2.8-13.2-6-13.2z"}}]},name:"arrow-down",theme:"outlined"},s=D,c=e(84089),l=function(v,M){return r.createElement(c.Z,(0,E.Z)((0,E.Z)({},v),{},{ref:M,icon:s}))};l.displayName="ArrowDownOutlined";var i=r.forwardRef(l)},82826:function(I,h,e){e.d(h,{Z:function(){return i}});var E=e(1413),r=e(62435),D={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M872 474H286.9l350.2-304c5.6-4.9 2.2-14-5.2-14h-88.5c-3.9 0-7.6 1.4-10.5 3.9L155 487.8a31.96 31.96 0 000 48.3L535.1 866c1.5 1.3 3.3 2 5.2 2h91.5c7.4 0 10.8-9.2 5.2-14L286.9 550H872c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z"}}]},name:"arrow-left",theme:"outlined"},s=D,c=e(84089),l=function(v,M){return r.createElement(c.Z,(0,E.Z)((0,E.Z)({},v),{},{ref:M,icon:s}))};l.displayName="ArrowLeftOutlined";var i=r.forwardRef(l)},1912:function(I,h,e){e.d(h,{Z:function(){return i}});var E=e(1413),r=e(62435),D={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M868 545.5L536.1 163a31.96 31.96 0 00-48.3 0L156 545.5a7.97 7.97 0 006 13.2h81c4.6 0 9-2 12.1-5.5L474 300.9V864c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V300.9l218.9 252.3c3 3.5 7.4 5.5 12.1 5.5h81c6.8 0 10.5-8 6-13.2z"}}]},name:"arrow-up",theme:"outlined"},s=D,c=e(84089),l=function(v,M){return r.createElement(c.Z,(0,E.Z)((0,E.Z)({},v),{},{ref:M,icon:s}))};l.displayName="ArrowUpOutlined";var i=r.forwardRef(l)},76131:function(I,h,e){var E=e(99351),r=e(5966),D=e(65675),s=e(86074),c=function(i){return(0,s.jsxs)(E.Y,{open:i.open,title:"Component",onFinish:i.onFinish,onOpenChange:i.onOpenChange,children:[(0,s.jsx)(r.Z,{name:"name",label:"Name"}),(0,s.jsx)(D.Z,{name:"componentId",label:"Component"})]})};h.Z=c},65675:function(I,h,e){var E=e(98364),r=e(64317),D=e(86074),s=function(l){return(0,D.jsx)(r.Z,{showSearch:!0,request:E.Ef,name:l.name,label:l.label})};h.Z=s},90451:function(I,h,e){var E=e(15009),r=e.n(E),D=e(99289),s=e.n(D),c=e(5574),l=e.n(c),i=e(66352),R=e(24969),v=e(86548),M=e(1912),U=e(77171),B=e(48689),j=e(22538),W=e(99351),C=e(5966),K=e(64317),P=e(27790),A=e(71577),g=e(86738),t=e(90905),_=e(62435),a=e(76131),n=e(86074),u=function(){var ee=(0,t.useParams)(),T=ee.id,y=(0,_.useRef)(),Z=(0,_.useState)(!1),x=l()(Z,2),$=x[0],w=x[1],F=(0,_.useState)(!1),N=l()(F,2),G=N[0],b=N[1],Y=(0,_.useState)(),z=l()(Y,2),k=z[0],H=z[1];(0,_.useEffect)(function(){var p;(p=y.current)===null||p===void 0||p.reload()},[T]);var X=function(){var p=s()(r()().mark(function d(o){var O,f;return r()().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return m.next=2,(0,i.zt)(o,T);case 2:O=m.sent,O.succeeded?(P.ZP.success("Deleted!"),(f=y.current)===null||f===void 0||f.reload()):P.ZP.error(O.errors[0].description);case 4:case"end":return m.stop()}},d)}));return function(o){return p.apply(this,arguments)}}(),V=function(){var p=s()(r()().mark(function d(o){var O,f;return r()().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return m.next=2,(0,i.aN)(o);case 2:O=m.sent,O.succeeded&&(P.ZP.success("Sorted!"),(f=y.current)===null||f===void 0||f.reload());case 4:case"end":return m.stop()}},d)}));return function(o){return p.apply(this,arguments)}}(),J=function(){var p=s()(r()().mark(function d(o){var O,f;return r()().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return o.catalogId=T,m.next=3,(0,i.yL)(o);case 3:O=m.sent,O.succeeded&&(P.ZP.success("Added!"),w(!1),(f=y.current)===null||f===void 0||f.reload());case 5:case"end":return m.stop()}},d)}));return function(o){return p.apply(this,arguments)}}(),S=function(){var p=s()(r()().mark(function d(){var o;return r()().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.next=2,(0,i.x)();case 2:o=f.sent,H(o),b(!0);case 5:case"end":return f.stop()}},d)}));return function(){return p.apply(this,arguments)}}(),L=function(){var p=s()(r()().mark(function d(o){var O,f;return r()().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return m.next=2,(0,i.jX)(o);case 2:O=m.sent,O.succeeded&&(P.ZP.success("Saved"),b(!1),(f=y.current)===null||f===void 0||f.reload());case 4:case"end":return m.stop()}},d)}));return function(o){return p.apply(this,arguments)}}();return(0,n.jsxs)("div",{children:[(0,n.jsx)(j.Rs,{toolBarRender:function(){return[(0,n.jsx)(A.Z,{onClick:function(){return w(!0)},type:"primary",icon:(0,n.jsx)(R.Z,{}),children:(0,n.jsx)(t.FormattedMessage,{id:"general.new"})},0),(0,n.jsx)(A.Z,{onClick:S,children:"Select"},1)]},rowSelection:{},actionRef:y,request:s()(r()().mark(function p(){return r()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",(0,i.KC)(T));case 1:case"end":return o.stop()}},p)})),headerTitle:"Work items",metas:{title:{dataIndex:"name"},actions:{render:function(d,o){return[(0,n.jsx)(A.Z,{type:"primary",icon:(0,n.jsx)(v.Z,{}),onClick:function(){t.history.push("/works/".concat(o.normalizedName.toLocaleLowerCase(),"/").concat(o.id))}},1),(0,n.jsx)(A.Z,{icon:(0,n.jsx)(M.Z,{}),onClick:function(){return V({workId:o.id,catalogId:T,sortOrder:o.sortOrder-1})}},2),(0,n.jsx)(A.Z,{icon:(0,n.jsx)(U.Z,{}),onClick:function(){return V({workId:o.id,catalogId:T,sortOrder:o.sortOrder+1})}},3),(0,n.jsxs)(g.Z,{title:"Are you sure?",onConfirm:function(){return X(o.id)},children:[(0,n.jsx)(A.Z,{icon:(0,n.jsx)(B.Z,{}),danger:!0,type:"primary"}),","]},4)]}}}}),(0,n.jsx)(a.Z,{open:$,onOpenChange:w,onFinish:J}),(0,n.jsxs)(W.Y,{open:G,onOpenChange:b,onFinish:L,children:[(0,n.jsx)(C.Z,{name:"catalogId",initialValue:T,hidden:!0}),(0,n.jsx)(K.Z,{showSearch:!0,name:"workContentId",options:k,label:"Work"})]})]})};h.Z=u},21899:function(I,h,e){e.r(h);var E=e(15009),r=e.n(E),D=e(99289),s=e.n(D),c=e(5574),l=e.n(c),i=e(90451),R=e(78710),v=e(61614),M=e(82826),U=e(62884),B=e(30029),j=e(99351),W=e(5966),C=e(90905),K=e(27790),P=e(71577),A=e(71230),g=e(15746),t=e(26713),_=e(62435),a=e(35003),n=e(74350),u=e(86074),q=function(){var T=(0,C.useIntl)(),y=(0,C.useParams)(),Z=y.id,x=(0,_.useState)(!1),$=l()(x,2),w=$[0],F=$[1],N=(0,_.useState)(),G=l()(N,2),b=G[0],Y=G[1],z=(0,_.useState)("content"),k=l()(z,2),H=k[0],X=k[1];(0,_.useEffect)(function(){(0,v.R4)(Z).then(function(S){return Y(S)})},[Z]);var V=function(){var S=s()(r()().mark(function L(p){return r()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:(0,v.BP)(p).then(function(O){O.succeeded&&(K.ZP.success("Saved!"),F(!1))});case 1:case"end":return o.stop()}},L)}));return function(p){return S.apply(this,arguments)}}(),J=function(){var S=s()(r()().mark(function L(){return r()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.next=2,(0,R.W)(Z);case 2:case"end":return d.stop()}},L)}));return function(){return S.apply(this,arguments)}}();return(0,u.jsx)(U._z,{title:b==null?void 0:b.name,extra:(0,u.jsx)(P.Z,{icon:(0,u.jsx)(M.Z,{}),onClick:function(){return C.history.back()},children:(0,u.jsx)(C.FormattedMessage,{id:"general.back"})}),children:(0,u.jsxs)(A.Z,{gutter:16,children:[(0,u.jsx)(g.Z,{span:6}),(0,u.jsxs)(g.Z,{span:12,children:[(0,u.jsx)(B.Z,{tabs:{tabPosition:"top",activeKey:H,items:[{label:"Content",key:"content",children:(0,u.jsx)(i.Z,{})},{label:T.formatMessage({id:"menu.settings"}),key:"setting",children:(0,u.jsx)(a.Z,{})}],onChange:function(L){X(L)}},extra:(0,u.jsxs)(t.Z,{children:[(0,u.jsx)(P.Z,{type:"primary",onClick:J,children:"Export"}),(0,u.jsx)(P.Z,{type:"primary",danger:!0,children:"Import"})]})}),(0,u.jsxs)(j.Y,{onFinish:V,open:w,onOpenChange:F,children:[(0,u.jsx)(W.Z,{name:"name",label:"Name"}),(0,u.jsx)(W.Z,{name:"normalizedName",label:"Normalized Name"})]})]}),(0,u.jsx)(g.Z,{span:6,children:(0,u.jsx)(n.Z,{})})]})})};h.default=q},78710:function(I,h,e){e.d(h,{Jx:function(){return B},W:function(){return A},_O:function(){return R},_s:function(){return M},dk:function(){return K},gn:function(){return W},rZ:function(){return l}});var E=e(15009),r=e.n(E),D=e(99289),s=e.n(D),c=e(90905);function l(){return i.apply(this,arguments)}function i(){return i=s()(r()().mark(function t(){return r()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,c.request)("backup/statistic"));case 1:case"end":return a.stop()}},t)})),i.apply(this,arguments)}function R(){return v.apply(this,arguments)}function v(){return v=s()(r()().mark(function t(){return r()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,c.request)("backup/export",{method:"POST"}));case 1:case"end":return a.stop()}},t)})),v.apply(this,arguments)}function M(){return U.apply(this,arguments)}function U(){return U=s()(r()().mark(function t(){return r()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,c.request)("backup/upgrade",{method:"POST"}));case 1:case"end":return a.stop()}},t)})),U.apply(this,arguments)}function B(){return j.apply(this,arguments)}function j(){return j=s()(r()().mark(function t(){return r()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,c.request)("backup/upgrade/list"));case 1:case"end":return a.stop()}},t)})),j.apply(this,arguments)}function W(t){return C.apply(this,arguments)}function C(){return C=s()(r()().mark(function t(_){return r()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,c.request)(_,{method:"POST"}));case 1:case"end":return n.stop()}},t)})),C.apply(this,arguments)}function K(t){return P.apply(this,arguments)}function P(){return P=s()(r()().mark(function t(_){var a;return r()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return a=new FormData,a.append("file",_),u.abrupt("return",(0,c.request)("backup/import",{method:"POST",data:a}));case 3:case"end":return u.stop()}},t)})),P.apply(this,arguments)}function A(t){return g.apply(this,arguments)}function g(){return g=s()(r()().mark(function t(_){return r()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,c.request)("backup/export/catalog/".concat(_),{method:"POST"}));case 1:case"end":return n.stop()}},t)})),g.apply(this,arguments)}},98364:function(I,h,e){e.d(h,{CO:function(){return B},Ef:function(){return A},KL:function(){return M},Xr:function(){return l},Z:function(){return W},v7:function(){return K}});var E=e(15009),r=e.n(E),D=e(99289),s=e.n(D),c=e(90905);function l(t){return i.apply(this,arguments)}function i(){return i=s()(r()().mark(function t(_){return r()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,c.request)("component/".concat(_)));case 1:case"end":return n.stop()}},t)})),i.apply(this,arguments)}function R(t){return v.apply(this,arguments)}function v(){return v=_asyncToGenerator(_regeneratorRuntime().mark(function t(_){return _regeneratorRuntime().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",request("component/add",{method:"POST",data:_}));case 1:case"end":return n.stop()}},t)})),v.apply(this,arguments)}function M(t){return U.apply(this,arguments)}function U(){return U=s()(r()().mark(function t(_){return r()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,c.request)("component/update",{method:"POST",data:_}));case 1:case"end":return n.stop()}},t)})),U.apply(this,arguments)}function B(t){return j.apply(this,arguments)}function j(){return j=s()(r()().mark(function t(_){return r()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,c.request)("component/list",{params:_}));case 1:case"end":return n.stop()}},t)})),j.apply(this,arguments)}function W(t,_){return C.apply(this,arguments)}function C(){return C=s()(r()().mark(function t(_,a){return r()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.abrupt("return",(0,c.request)("component/list-work/".concat(a),{params:_}));case 1:case"end":return u.stop()}},t)})),C.apply(this,arguments)}function K(t){return P.apply(this,arguments)}function P(){return P=s()(r()().mark(function t(_){return r()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,c.request)("component/delete/".concat(_),{method:"POST"}));case 1:case"end":return n.stop()}},t)})),P.apply(this,arguments)}function A(t){return g.apply(this,arguments)}function g(){return g=s()(r()().mark(function t(_){var a;return r()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return a={searchTerm:_.keyWords},u.abrupt("return",(0,c.request)("component/form-select",{params:a}));case 2:case"end":return u.stop()}},t)})),g.apply(this,arguments)}}}]);
