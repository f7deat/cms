"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[136],{63301:function(fe,G,l){l.r(G),l.d(G,{default:function(){return Re}});var k=l(15009),E=l.n(k),ee=l(99289),K=l.n(ee),te=l(5574),L=l.n(te),D=l(20385),ne=l(32319),R=l(48689),re=l(62884),w=l(30029),oe=l(22257),M=l(90905),le=l(78613),O=l(32983),F=l(71577),N=l(86738),H=l(27790),A=l(71230),p=l(15746),S=l(96074),a=l(4942),v=l(97685),h=l(71002),ge=l(94184),z=l.n(ge),ye=l(50344),s=l(62435),he=l(53124),xe=l(96159),X=l(24308),Ce=function(e){var r=e.children;return r},Se=Ce,y=l(87462);function V(n){return n!=null}var Ze=function(e){var r=e.itemPrefixCls,t=e.component,i=e.span,d=e.className,c=e.style,f=e.labelStyle,o=e.contentStyle,x=e.bordered,g=e.label,P=e.content,T=e.colon,j=t;if(x){var m;return s.createElement(j,{className:z()((m={},(0,a.Z)(m,r+"-item-label",V(g)),(0,a.Z)(m,r+"-item-content",V(P)),m),d),style:c,colSpan:i},V(g)&&s.createElement("span",{style:f},g),V(P)&&s.createElement("span",{style:o},P))}return s.createElement(j,{className:z()(r+"-item",d),style:c,colSpan:i},s.createElement("div",{className:r+"-item-container"},(g||g===0)&&s.createElement("span",{className:z()(r+"-item-label",(0,a.Z)({},r+"-item-no-colon",!T)),style:f},g),(P||P===0)&&s.createElement("span",{className:z()(r+"-item-content"),style:o},P)))},ae=Ze;function ie(n,e,r){var t=e.colon,i=e.prefixCls,d=e.bordered,c=r.component,f=r.type,o=r.showLabel,x=r.showContent,g=r.labelStyle,P=r.contentStyle;return n.map(function(T,j){var m=T.props,C=m.label,Z=m.children,B=m.prefixCls,I=B===void 0?i:B,$=m.className,b=m.style,Q=m.labelStyle,W=m.contentStyle,Y=m.span,_=Y===void 0?1:Y,U=T.key;return typeof c=="string"?s.createElement(ae,{key:f+"-"+(U||j),className:$,style:b,labelStyle:(0,y.Z)((0,y.Z)({},g),Q),contentStyle:(0,y.Z)((0,y.Z)({},P),W),span:_,colon:t,component:c,itemPrefixCls:I,bordered:d,label:o?C:null,content:x?Z:null}):[s.createElement(ae,{key:"label-"+(U||j),className:$,style:(0,y.Z)((0,y.Z)((0,y.Z)({},g),b),Q),span:1,colon:t,component:c[0],itemPrefixCls:I,bordered:d,label:C}),s.createElement(ae,{key:"content-"+(U||j),className:$,style:(0,y.Z)((0,y.Z)((0,y.Z)({},P),b),W),span:_*2-1,component:c[1],itemPrefixCls:I,bordered:d,content:Z})]})}var be=function(e){var r=s.useContext(ce),t=e.prefixCls,i=e.vertical,d=e.row,c=e.index,f=e.bordered;return i?s.createElement(s.Fragment,null,s.createElement("tr",{key:"label-"+c,className:t+"-row"},ie(d,e,(0,y.Z)({component:"th",type:"label",showLabel:!0},r))),s.createElement("tr",{key:"content-"+c,className:t+"-row"},ie(d,e,(0,y.Z)({component:"td",type:"content",showContent:!0},r)))):s.createElement("tr",{key:c,className:t+"-row"},ie(d,e,(0,y.Z)({component:f?["th","td"]:"td",type:"item",showLabel:!0,showContent:!0},r)))},Ee=be,Pe=l(67968),Ie=l(45503),de=l(14747),je=function(e){var r,t=e.componentCls,i=e.descriptionsSmallPadding,d=e.descriptionsDefaultPadding,c=e.descriptionsMiddlePadding,f=e.descriptionsBg;return(0,a.Z)({},"&"+t+"-bordered",(r={},(0,a.Z)(r,t+"-view",{border:e.lineWidth+"px "+e.lineType+" "+e.colorSplit,"> table":{tableLayout:"auto",borderCollapse:"collapse"}}),(0,a.Z)(r,t+"-item-label, "+t+"-item-content",{padding:d,borderInlineEnd:e.lineWidth+"px "+e.lineType+" "+e.colorSplit,"&:last-child":{borderInlineEnd:"none"}}),(0,a.Z)(r,t+"-item-label",{backgroundColor:f,"&::after":{display:"none"}}),(0,a.Z)(r,t+"-row",{borderBottom:e.lineWidth+"px "+e.lineType+" "+e.colorSplit,"&:last-child":{borderBottom:"none"}}),(0,a.Z)(r,"&"+t+"-middle",(0,a.Z)({},t+"-item-label, "+t+"-item-content",{padding:c})),(0,a.Z)(r,"&"+t+"-small",(0,a.Z)({},t+"-item-label, "+t+"-item-content",{padding:i})),r))},De=function(e){var r,t,i=e.componentCls,d=e.descriptionsExtraColor,c=e.descriptionItemPaddingBottom,f=e.descriptionsItemLabelColonMarginRight,o=e.descriptionsItemLabelColonMarginLeft,x=e.descriptionsTitleMarginBottom;return(0,a.Z)({},i,(0,y.Z)((0,y.Z)((0,y.Z)({},(0,de.Wf)(e)),je(e)),(t={},(0,a.Z)(t,"&-rtl",{direction:"rtl"}),(0,a.Z)(t,i+"-header",{display:"flex",alignItems:"center",marginBottom:x}),(0,a.Z)(t,i+"-title",(0,y.Z)((0,y.Z)({},de.vS),{flex:"auto",color:e.colorText,fontWeight:e.fontWeightStrong,fontSize:e.fontSizeLG,lineHeight:e.lineHeightLG})),(0,a.Z)(t,i+"-extra",{marginInlineStart:"auto",color:d,fontSize:e.fontSize}),(0,a.Z)(t,i+"-view",{width:"100%",borderRadius:e.borderRadiusLG,table:{width:"100%",tableLayout:"fixed"}}),(0,a.Z)(t,i+"-row",{"> th, > td":{paddingBottom:c},"&:last-child":{borderBottom:"none"}}),(0,a.Z)(t,i+"-item-label",(0,a.Z)({color:e.colorText,fontWeight:"normal",fontSize:e.fontSize,lineHeight:e.lineHeight,textAlign:"start","&::after":{content:'":"',position:"relative",top:-.5,marginInline:o+"px "+f+"px"}},"&"+i+"-item-no-colon::after",{content:'""'})),(0,a.Z)(t,i+"-item-no-label",{"&::after":{margin:0,content:'""'}}),(0,a.Z)(t,i+"-item-content",{display:"table-cell",flex:1,color:e.colorText,fontSize:e.fontSize,lineHeight:e.lineHeight,wordBreak:"break-word",overflowWrap:"break-word"}),(0,a.Z)(t,i+"-item",{paddingBottom:0,verticalAlign:"top","&-container":(r={display:"flex"},(0,a.Z)(r,i+"-item-label",{display:"inline-flex",alignItems:"baseline"}),(0,a.Z)(r,i+"-item-content",{display:"inline-flex",alignItems:"baseline"}),r)}),(0,a.Z)(t,"&-middle",(0,a.Z)({},i+"-row",{"> th, > td":{paddingBottom:e.paddingSM}})),(0,a.Z)(t,"&-small",(0,a.Z)({},i+"-row",{"> th, > td":{paddingBottom:e.paddingXS}})),t)))},Me=(0,Pe.Z)("Descriptions",function(n){var e=n.colorFillAlter,r=n.fontSizeSM*n.lineHeightSM,t=n.colorText,i=n.paddingXS+"px "+n.padding+"px",d=n.padding+"px "+n.paddingLG+"px",c=n.paddingSM+"px "+n.paddingLG+"px",f=n.padding,o=n.marginXS,x=n.marginXXS/2,g=(0,Ie.TS)(n,{descriptionsBg:e,descriptionsTitleMarginBottom:r,descriptionsExtraColor:t,descriptionItemPaddingBottom:f,descriptionsSmallPadding:i,descriptionsDefaultPadding:d,descriptionsMiddlePadding:c,descriptionsItemLabelColonMarginRight:o,descriptionsItemLabelColonMarginLeft:x});return[De(g)]}),ce=s.createContext({}),ue={xxl:3,xl:3,lg:3,md:3,sm:2,xs:1};function Te(n,e){if(typeof n=="number")return n;if((0,h.Z)(n)==="object")for(var r=0;r<X.c4.length;r++){var t=X.c4[r];if(e[t]&&n[t]!==void 0)return n[t]||ue[t]}return 3}function me(n,e,r){var t=n;return(e===void 0||e>r)&&(t=(0,xe.Tm)(n,{span:r})),t}function Le(n,e){var r=(0,ye.Z)(n).filter(function(c){return c}),t=[],i=[],d=e;return r.forEach(function(c,f){var o,x=(o=c.props)===null||o===void 0?void 0:o.span,g=x||1;if(f===r.length-1){i.push(me(c,x,d)),t.push(i);return}g<d?(d-=g,i.push(c)):(i.push(me(c,g,d)),t.push(i),d=e,i=[])}),t}function pe(n){var e,r=n.prefixCls,t=n.title,i=n.extra,d=n.column,c=d===void 0?ue:d,f=n.colon,o=f===void 0?!0:f,x=n.bordered,g=n.layout,P=n.children,T=n.className,j=n.style,m=n.size,C=n.labelStyle,Z=n.contentStyle,B=s.useContext(he.E_),I=B.getPrefixCls,$=B.direction,b=I("descriptions",r),Q=s.useState({}),W=(0,v.Z)(Q,2),Y=W[0],_=W[1],U=Te(c,Y),we=Me(b),ve=(0,v.Z)(we,2),Oe=ve[0],Ne=ve[1];s.useEffect(function(){var se=X.ZP.subscribe(function(q){(0,h.Z)(c)==="object"&&_(q)});return function(){X.ZP.unsubscribe(se)}},[]);var Fe=Le(P,U),Ae=s.useMemo(function(){return{labelStyle:C,contentStyle:Z}},[C,Z]);return Oe(s.createElement(ce.Provider,{value:Ae},s.createElement("div",{className:z()(b,(e={},(0,a.Z)(e,b+"-"+m,m&&m!=="default"),(0,a.Z)(e,b+"-bordered",!!x),(0,a.Z)(e,b+"-rtl",$==="rtl"),e),T,Ne),style:j},(t||i)&&s.createElement("div",{className:b+"-header"},t&&s.createElement("div",{className:b+"-title"},t),i&&s.createElement("div",{className:b+"-extra"},i)),s.createElement("div",{className:b+"-view"},s.createElement("table",null,s.createElement("tbody",null,Fe.map(function(se,q){return s.createElement(Ee,{key:q,index:q,colon:o,prefixCls:b,vertical:g==="vertical",bordered:x,row:se})})))))))}pe.Item=Se;var J=pe,u=l(86074),Be=function(){var e,r=["image/jpeg","image/png","image/webp"],t=(0,M.useParams)(),i=t.id,d=(0,M.useIntl)(),c=(0,s.useState)(),f=L()(c,2),o=f[0],x=f[1];(0,s.useEffect)(function(){(0,D.Cq)(i).then(function(m){x(m)})},[]);var g=function(){var C;if(r.includes((C=o==null?void 0:o.type)!==null&&C!==void 0?C:"")){var Z=new URL((o==null?void 0:o.url)||"",localStorage.getItem("wf_URL")||"").href;return(0,u.jsx)(le.Z,{src:Z})}return(0,u.jsx)(O.Z,{})},P=[{title:"#",valueType:"indexBorder"},{title:"Name",dataIndex:"name"},{title:d.formatMessage({id:"general.status"}),dataIndex:"active",valueEnum:{false:{text:"Draft",status:"Default"},true:{text:"Active",status:"Processing"}}},{title:"",valueType:"option",width:120,render:function(C,Z){return[(0,u.jsx)(F.Z,{icon:(0,u.jsx)(ne.Z,{}),type:"primary",onClick:function(){M.history.push("/works/".concat(Z.normalizedName.toLocaleLowerCase(),"/").concat(Z.id))}},1),(0,u.jsx)(N.Z,{title:"Are you sure?",children:(0,u.jsx)(F.Z,{icon:(0,u.jsx)(R.Z,{}),type:"primary",danger:!0})},2)]}}],T=function(){var m=K()(E()().mark(function C(){var Z;return E()().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:return I.next=2,(0,D.Ah)(i);case 2:Z=I.sent,Z.succeeded?(H.ZP.success(d.formatMessage({id:"general.deleted"})),M.history.back()):H.ZP.error(Z.errors[0].description);case 4:case"end":return I.stop()}},C)}));return function(){return m.apply(this,arguments)}}(),j=(0,u.jsx)(N.Z,{title:"Are you sure?",onConfirm:T,children:(0,u.jsxs)(F.Z,{type:"primary",danger:!0,icon:(0,u.jsx)(R.Z,{}),children:[" ","Delete"]})});return(0,u.jsx)(re._z,{title:"Center",extra:j,children:(0,u.jsxs)(A.Z,{gutter:16,children:[(0,u.jsx)(p.Z,{span:4,children:(0,u.jsxs)(w.Z,{title:d.formatMessage({id:"general.preview"}),children:[g(),(0,u.jsx)(S.Z,{}),(0,u.jsxs)(J,{title:"File info",column:1,children:[(0,u.jsx)(J.Item,{label:"Name",children:o==null?void 0:o.name}),(0,u.jsxs)(J.Item,{label:"Size",children:[(((e=o==null?void 0:o.size)!==null&&e!==void 0?e:0)/1024).toFixed(2)," KB"]}),(0,u.jsx)(J.Item,{label:"Type",children:o==null?void 0:o.type})]})]})}),(0,u.jsx)(p.Z,{span:16,children:(0,u.jsx)(oe.Z,{columns:P,request:function(C){return(0,D.z3)(C,{id:i})},rowKey:"id"})}),(0,u.jsx)(p.Z,{span:4,children:(0,u.jsx)(w.Z,{title:"Work content",children:(0,u.jsx)(O.Z,{})})})]})})},Re=Be},20385:function(fe,G,l){l.d(G,{Ah:function(){return re},Cq:function(){return le},V6:function(){return ne},kE:function(){return H},z3:function(){return F}});var k=l(15009),E=l.n(k),ee=l(97857),K=l.n(ee),te=l(99289),L=l.n(te),D=l(90905);function ne(p,S){return R.apply(this,arguments)}function R(){return R=L()(E()().mark(function p(S,a){return E()().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.abrupt("return",(0,D.request)("fileExplorer/list",K()({method:"GET",params:K()({},S)},a||{})));case 1:case"end":return h.stop()}},p)})),R.apply(this,arguments)}function re(p){return w.apply(this,arguments)}function w(){return w=L()(E()().mark(function p(S){return E()().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return v.abrupt("return",(0,D.request)("fileExplorer/delete-file-content/".concat(S),{method:"POST"}));case 1:case"end":return v.stop()}},p)})),w.apply(this,arguments)}function oe(p){return M.apply(this,arguments)}function M(){return M=_asyncToGenerator(_regeneratorRuntime().mark(function p(S){return _regeneratorRuntime().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return v.abrupt("return",request("fileExplorer/delete-file-item",{method:"POST",data:S}));case 1:case"end":return v.stop()}},p)})),M.apply(this,arguments)}function le(p){return O.apply(this,arguments)}function O(){return O=L()(E()().mark(function p(S){return E()().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return v.abrupt("return",(0,D.request)("fileExplorer/".concat(S)));case 1:case"end":return v.stop()}},p)})),O.apply(this,arguments)}function F(p,S){return N.apply(this,arguments)}function N(){return N=L()(E()().mark(function p(S,a){return E()().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.abrupt("return",(0,D.request)("fileExplorer/file-items/".concat(a.id)));case 1:case"end":return h.stop()}},p)})),N.apply(this,arguments)}function H(p){return A.apply(this,arguments)}function A(){return A=L()(E()().mark(function p(S){var a;return E()().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return a=new FormData,a.append("file",S),h.abrupt("return",(0,D.request)("fileExplorer/upload",{method:"POST",data:a}));case 3:case"end":return h.stop()}},p)})),A.apply(this,arguments)}}}]);
