"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[4136],{49495:function(Z,O){var t={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M505.7 661a8 8 0 0012.6 0l112-141.7c4.1-5.2.4-12.9-6.3-12.9h-74.1V168c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v338.3H400c-6.7 0-10.4 7.7-6.3 12.9l112 141.8zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z"}}]},name:"download",theme:"outlined"};O.Z=t},82826:function(Z,O,t){t.d(O,{Z:function(){return c}});var r=t(1413),i=t(62435),h={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M872 474H286.9l350.2-304c5.6-4.9 2.2-14-5.2-14h-88.5c-3.9 0-7.6 1.4-10.5 3.9L155 487.8a31.96 31.96 0 000 48.3L535.1 866c1.5 1.3 3.3 2 5.2 2h91.5c7.4 0 10.8-9.2 5.2-14L286.9 550H872c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z"}}]},name:"arrow-left",theme:"outlined"},D=h,P=t(91146),v=function(y,g){return i.createElement(P.Z,(0,r.Z)((0,r.Z)({},y),{},{ref:g,icon:D}))};v.displayName="ArrowLeftOutlined";var c=i.forwardRef(v)},82061:function(Z,O,t){var r=t(1413),i=t(62435),h=t(47046),D=t(91146),P=function(c,C){return i.createElement(D.Z,(0,r.Z)((0,r.Z)({},c),{},{ref:C,icon:h.Z}))};P.displayName="DeleteOutlined",O.Z=i.forwardRef(P)},69753:function(Z,O,t){var r=t(1413),i=t(62435),h=t(49495),D=t(91146),P=function(c,C){return i.createElement(D.Z,(0,r.Z)((0,r.Z)({},c),{},{ref:C,icon:h.Z}))};P.displayName="DownloadOutlined",O.Z=i.forwardRef(P)},27895:function(Z,O,t){t.r(O);var r=t(15009),i=t.n(r),h=t(99289),D=t.n(h),P=t(5574),v=t.n(P),c=t(20385),C=t(55725),y=t(82061),g=t(82826),T=t(63386),k=t(56355),b=t(35312),x=t(71577),R=t(86738),S=t(58301),_=t(93421),H=t(71230),A=t(15746),F=t(62435),$=t(19489),f=t(86074),G=function(){var W=(0,b.useParams)(),u=W.id,p=(0,b.useIntl)(),o=(0,F.useState)(),d=v()(o,2),M=d[0],N=d[1];(0,F.useEffect)(function(){(0,c.Cq)(u).then(function(w){N(w)})},[]);var ae=[{title:"#",valueType:"indexBorder"},{title:"Name",dataIndex:"name"},{title:p.formatMessage({id:"general.status"}),dataIndex:"active",valueEnum:{false:{text:"Draft",status:"Default"},true:{text:"Active",status:"Processing"}}},{title:"",valueType:"option",width:120,render:function(z,e){return[(0,f.jsx)(x.ZP,{icon:(0,f.jsx)(C.Z,{}),type:"primary",onClick:function(){b.history.push("/works/".concat(e.normalizedName.toLocaleLowerCase(),"/").concat(e.id))}},1),(0,f.jsx)(R.Z,{title:"Are you sure?",children:(0,f.jsx)(x.ZP,{icon:(0,f.jsx)(y.Z,{}),type:"primary",danger:!0})},2)]}}],ie=function(){var w=D()(i()().mark(function z(){var e;return i()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,(0,c.Ah)(u);case 2:e=s.sent,e.succeeded?(S.ZP.success(p.formatMessage({id:"general.deleted"})),b.history.back()):S.ZP.error(e.errors[0].description);case 4:case"end":return s.stop()}},z)}));return function(){return w.apply(this,arguments)}}(),oe=(0,f.jsxs)(_.Z,{children:[(0,f.jsx)(R.Z,{title:"Are you sure?",onConfirm:ie,children:(0,f.jsx)(x.ZP,{type:"primary",danger:!0,icon:(0,f.jsx)(y.Z,{}),children:"Delete"})}),(0,f.jsx)(x.ZP,{onClick:function(){return b.history.back()},icon:(0,f.jsx)(g.Z,{}),children:(0,f.jsx)(b.FormattedMessage,{id:"general.back"})})]});return(0,f.jsx)(T._z,{title:"Center",extra:oe,children:(0,f.jsxs)(H.Z,{gutter:16,children:[(0,f.jsx)(A.Z,{span:8,children:(0,f.jsx)($.Z,{file:M})}),(0,f.jsx)(A.Z,{span:16,children:(0,f.jsx)(k.Z,{columns:ae,request:function(z){return(0,c.z3)(z,{id:u})},rowKey:"id"})})]})})};O.default=G},19489:function(Z,O,t){var r=t(5251),i=t(69753),h=t(28199),D=t(35312),P=t(32545),v=t(32983),c=t(71577),C=t(96074),y=t(26412),g=t(86074),T=function(b){var x,R=["image/jpeg","image/png","image/webp",".svg",".jpg",".png",".jpeg"],S=(0,D.useIntl)(),_=b.file,H=function(){b.onChange&&b.onChange()},A=function(){var $;return R.includes(($=_==null?void 0:_.type)!==null&&$!==void 0?$:"")?(0,g.jsx)("div",{className:"flex justify-center items-center",style:{minHeight:130},children:(0,g.jsx)(P.Z,{src:(0,r.Er)(_==null?void 0:_.url)})}):(0,g.jsx)("div",{onClick:H,children:(0,g.jsx)(v.Z,{})})};return(0,g.jsxs)(h.Z,{title:S.formatMessage({id:"general.preview"}),actions:[(0,g.jsx)(c.ZP,{type:"link",onClick:function(){return window.location.href=(0,r.Er)(_==null?void 0:_.url)},icon:(0,g.jsx)(i.Z,{}),children:"Download"},"download")],children:[A(),(0,g.jsx)(C.Z,{}),(0,g.jsxs)(y.Z,{title:"File info",column:1,children:[(0,g.jsx)(y.Z.Item,{label:"Name",children:_==null?void 0:_.name}),(0,g.jsxs)(y.Z.Item,{label:"Size",children:[(((x=_==null?void 0:_.size)!==null&&x!==void 0?x:0)/1024).toFixed(2)," KB"]}),(0,g.jsx)(y.Z.Item,{label:"Type",children:_==null?void 0:_.type})]})]})};O.Z=T},20385:function(Z,O,t){t.d(O,{Ah:function(){return g},Cq:function(){return x},V6:function(){return C},kE:function(){return H},p6:function(){return V},tg:function(){return F},yk:function(){return f},z3:function(){return S}});var r=t(15009),i=t.n(r),h=t(97857),D=t.n(h),P=t(99289),v=t.n(P),c=t(35312);function C(u,p,o){return y.apply(this,arguments)}function y(){return y=v()(i()().mark(function u(p,o,d){return i()().wrap(function(N){for(;;)switch(N.prev=N.next){case 0:return N.abrupt("return",(0,c.request)("file/list",D()({method:"GET",params:D()({type:Object.keys(o!=null?o:[]).length>0?o==null?void 0:o.join(","):""},p)},d||{})));case 1:case"end":return N.stop()}},u)})),y.apply(this,arguments)}function g(u){return T.apply(this,arguments)}function T(){return T=v()(i()().mark(function u(p){return i()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.abrupt("return",(0,c.request)("file/delete-file-content/".concat(p),{method:"POST"}));case 1:case"end":return d.stop()}},u)})),T.apply(this,arguments)}function k(u){return b.apply(this,arguments)}function b(){return b=_asyncToGenerator(_regeneratorRuntime().mark(function u(p){return _regeneratorRuntime().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.abrupt("return",request("file/delete-file-item",{method:"POST",data:p}));case 1:case"end":return d.stop()}},u)})),b.apply(this,arguments)}function x(u){return R.apply(this,arguments)}function R(){return R=v()(i()().mark(function u(p){return i()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.abrupt("return",(0,c.request)("file/".concat(p)));case 1:case"end":return d.stop()}},u)})),R.apply(this,arguments)}function S(u,p){return _.apply(this,arguments)}function _(){return _=v()(i()().mark(function u(p,o){return i()().wrap(function(M){for(;;)switch(M.prev=M.next){case 0:return M.abrupt("return",(0,c.request)("file/file-items/".concat(o.id)));case 1:case"end":return M.stop()}},u)})),_.apply(this,arguments)}function H(u){return A.apply(this,arguments)}function A(){return A=v()(i()().mark(function u(p){var o;return i()().wrap(function(M){for(;;)switch(M.prev=M.next){case 0:return o=new FormData,o.append("file",p),M.abrupt("return",(0,c.request)("file/upload",{method:"POST",data:o}));case 3:case"end":return M.stop()}},u)})),A.apply(this,arguments)}function F(u){return $.apply(this,arguments)}function $(){return $=v()(i()().mark(function u(p){return i()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.abrupt("return",(0,c.request)("file/upload-from-url",{method:"POST",data:{url:p}}));case 1:case"end":return d.stop()}},u)})),$.apply(this,arguments)}function f(){return G.apply(this,arguments)}function G(){return G=v()(i()().mark(function u(){return i()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",(0,c.request)("file/count"));case 1:case"end":return o.stop()}},u)})),G.apply(this,arguments)}function V(){return W.apply(this,arguments)}function W(){return W=v()(i()().mark(function u(){return i()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",(0,c.request)("file/total-size"));case 1:case"end":return o.stop()}},u)})),W.apply(this,arguments)}},5251:function(Z,O,t){t.d(O,{Er:function(){return D},p6:function(){return P}});var r=t(27484),i=t.n(r);function h(c){return c.trim()}function D(c){return new URL(c||"",localStorage.getItem("wf_URL")||"").href}function P(c){return c?i()(c).format("DD/MM/YYYY hh:mm:ss"):"-"}var v=function(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:100;return new Promise(function(y){setTimeout(function(){y(!0)},C)})}},26412:function(Z,O,t){t.d(O,{Z:function(){return z}});var r=t(62435),i=t(94184),h=t.n(i),D=t(74443),P=t(53124),v=t(98675),c=t(25378),y={xxl:3,xl:3,lg:3,md:3,sm:2,xs:1},T=r.createContext({}),k=t(50344),b=function(e,n){var s={};for(var l in e)Object.prototype.hasOwnProperty.call(e,l)&&n.indexOf(l)<0&&(s[l]=e[l]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,l=Object.getOwnPropertySymbols(e);a<l.length;a++)n.indexOf(l[a])<0&&Object.prototype.propertyIsEnumerable.call(e,l[a])&&(s[l[a]]=e[l[a]]);return s};const x=e=>(0,k.Z)(e).map(n=>Object.assign({},n==null?void 0:n.props));function R(e,n,s){const l=r.useMemo(()=>n||x(s),[n,s]);return r.useMemo(()=>l.map(m=>{var{span:E}=m,I=b(m,["span"]);return Object.assign(Object.assign({},I),{span:typeof E=="number"?E:(0,D.m9)(e,E)})}),[l,e])}function S(e,n,s){let l=e;return(s===void 0||s>n)&&(l=Object.assign(Object.assign({},e),{span:n})),l}function _(e,n){const s=[];let l=[],a=n;return e.filter(m=>m).forEach((m,E)=>{const I=m==null?void 0:m.span,U=I||1;if(E===e.length-1){l.push(S(m,a,I)),s.push(l);return}U<a?(a-=U,l.push(m)):(l.push(S(m,a,U)),s.push(l),a=n,l=[])}),s}var A=(e,n)=>(0,r.useMemo)(()=>_(n,e),[n,e]),$=e=>{let{children:n}=e;return n};function f(e){return e!=null}var V=e=>{const{itemPrefixCls:n,component:s,span:l,className:a,style:m,labelStyle:E,contentStyle:I,bordered:U,label:B,content:L,colon:X}=e,Y=s;return U?r.createElement(Y,{className:h()({[`${n}-item-label`]:f(B),[`${n}-item-content`]:f(L)},a),style:m,colSpan:l},f(B)&&r.createElement("span",{style:E},B),f(L)&&r.createElement("span",{style:I},L)):r.createElement(Y,{className:h()(`${n}-item`,a),style:m,colSpan:l},r.createElement("div",{className:`${n}-item-container`},(B||B===0)&&r.createElement("span",{className:h()(`${n}-item-label`,{[`${n}-item-no-colon`]:!X}),style:E},B),(L||L===0)&&r.createElement("span",{className:h()(`${n}-item-content`),style:I},L)))};function W(e,n,s){let{colon:l,prefixCls:a,bordered:m}=n,{component:E,type:I,showLabel:U,showContent:B,labelStyle:L,contentStyle:X}=s;return e.map((Y,J)=>{let{label:q,children:se,prefixCls:ee=a,className:te,style:ne,labelStyle:K,contentStyle:j,span:Q=1,key:re}=Y;return typeof E=="string"?r.createElement(V,{key:`${I}-${re||J}`,className:te,style:ne,labelStyle:Object.assign(Object.assign({},L),K),contentStyle:Object.assign(Object.assign({},X),j),span:Q,colon:l,component:E,itemPrefixCls:ee,bordered:m,label:U?q:null,content:B?se:null}):[r.createElement(V,{key:`label-${re||J}`,className:te,style:Object.assign(Object.assign(Object.assign({},L),ne),K),span:1,colon:l,component:E[0],itemPrefixCls:ee,bordered:m,label:q}),r.createElement(V,{key:`content-${re||J}`,className:te,style:Object.assign(Object.assign(Object.assign({},X),ne),j),span:Q*2-1,component:E[1],itemPrefixCls:ee,bordered:m,content:se})]})}var p=e=>{const n=r.useContext(T),{prefixCls:s,vertical:l,row:a,index:m,bordered:E}=e;return l?r.createElement(r.Fragment,null,r.createElement("tr",{key:`label-${m}`,className:`${s}-row`},W(a,e,Object.assign({component:"th",type:"label",showLabel:!0},n))),r.createElement("tr",{key:`content-${m}`,className:`${s}-row`},W(a,e,Object.assign({component:"td",type:"content",showContent:!0},n)))):r.createElement("tr",{key:m,className:`${s}-row`},W(a,e,Object.assign({component:E?["th","td"]:"td",type:"item",showLabel:!0,showContent:!0},n)))},o=t(14747),d=t(67968),M=t(45503);const N=e=>{const{componentCls:n,labelBg:s}=e;return{[`&${n}-bordered`]:{[`> ${n}-view`]:{border:`${e.lineWidth}px ${e.lineType} ${e.colorSplit}`,"> table":{tableLayout:"auto",borderCollapse:"collapse"},[`${n}-row`]:{borderBottom:`${e.lineWidth}px ${e.lineType} ${e.colorSplit}`,"&:last-child":{borderBottom:"none"},[`> ${n}-item-label, > ${n}-item-content`]:{padding:`${e.padding}px ${e.paddingLG}px`,borderInlineEnd:`${e.lineWidth}px ${e.lineType} ${e.colorSplit}`,"&:last-child":{borderInlineEnd:"none"}},[`> ${n}-item-label`]:{color:e.colorTextSecondary,backgroundColor:s,"&::after":{display:"none"}}}},[`&${n}-middle`]:{[`${n}-row`]:{[`> ${n}-item-label, > ${n}-item-content`]:{padding:`${e.paddingSM}px ${e.paddingLG}px`}}},[`&${n}-small`]:{[`${n}-row`]:{[`> ${n}-item-label, > ${n}-item-content`]:{padding:`${e.paddingXS}px ${e.padding}px`}}}}}},ae=e=>{const{componentCls:n,extraColor:s,itemPaddingBottom:l,colonMarginRight:a,colonMarginLeft:m,titleMarginBottom:E}=e;return{[n]:Object.assign(Object.assign(Object.assign({},(0,o.Wf)(e)),N(e)),{["&-rtl"]:{direction:"rtl"},[`${n}-header`]:{display:"flex",alignItems:"center",marginBottom:E},[`${n}-title`]:Object.assign(Object.assign({},o.vS),{flex:"auto",color:e.colorText,fontWeight:e.fontWeightStrong,fontSize:e.fontSizeLG,lineHeight:e.lineHeightLG}),[`${n}-extra`]:{marginInlineStart:"auto",color:s,fontSize:e.fontSize},[`${n}-view`]:{width:"100%",borderRadius:e.borderRadiusLG,table:{width:"100%",tableLayout:"fixed"}},[`${n}-row`]:{"> th, > td":{paddingBottom:l},"&:last-child":{borderBottom:"none"}},[`${n}-item-label`]:{color:e.colorTextTertiary,fontWeight:"normal",fontSize:e.fontSize,lineHeight:e.lineHeight,textAlign:"start","&::after":{content:'":"',position:"relative",top:-.5,marginInline:`${m}px ${a}px`},[`&${n}-item-no-colon::after`]:{content:'""'}},[`${n}-item-no-label`]:{"&::after":{margin:0,content:'""'}},[`${n}-item-content`]:{display:"table-cell",flex:1,color:e.colorText,fontSize:e.fontSize,lineHeight:e.lineHeight,wordBreak:"break-word",overflowWrap:"break-word"},[`${n}-item`]:{paddingBottom:0,verticalAlign:"top","&-container":{display:"flex",[`${n}-item-label`]:{display:"inline-flex",alignItems:"baseline"},[`${n}-item-content`]:{display:"inline-flex",alignItems:"baseline"}}},"&-middle":{[`${n}-row`]:{"> th, > td":{paddingBottom:e.paddingSM}}},"&-small":{[`${n}-row`]:{"> th, > td":{paddingBottom:e.paddingXS}}}})}};var ie=(0,d.Z)("Descriptions",e=>{const n=(0,M.TS)(e,{});return[ae(n)]},e=>({labelBg:e.colorFillAlter,titleMarginBottom:e.fontSizeSM*e.lineHeightSM,itemPaddingBottom:e.padding,colonMarginRight:e.marginXS,colonMarginLeft:e.marginXXS/2,extraColor:e.colorText})),oe=function(e,n){var s={};for(var l in e)Object.prototype.hasOwnProperty.call(e,l)&&n.indexOf(l)<0&&(s[l]=e[l]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,l=Object.getOwnPropertySymbols(e);a<l.length;a++)n.indexOf(l[a])<0&&Object.prototype.propertyIsEnumerable.call(e,l[a])&&(s[l[a]]=e[l[a]]);return s};const w=e=>{const{prefixCls:n,title:s,extra:l,column:a,colon:m=!0,bordered:E,layout:I,children:U,className:B,rootClassName:L,style:X,size:Y,labelStyle:J,contentStyle:q,items:se}=e,ee=oe(e,["prefixCls","title","extra","column","colon","bordered","layout","children","className","rootClassName","style","size","labelStyle","contentStyle","items"]),{getPrefixCls:te,direction:ne,descriptions:K}=r.useContext(P.E_),j=te("descriptions",n),Q=(0,c.Z)(),re=r.useMemo(()=>{var le;return typeof a=="number"?a:(le=(0,D.m9)(Q,Object.assign(Object.assign({},y),a)))!==null&&le!==void 0?le:3},[Q,a]),de=R(Q,se,U),ce=(0,v.Z)(Y),_e=A(re,de),[me,fe]=ie(j),pe=r.useMemo(()=>({labelStyle:J,contentStyle:q}),[J,q]);return me(r.createElement(T.Provider,{value:pe},r.createElement("div",Object.assign({className:h()(j,K==null?void 0:K.className,{[`${j}-${ce}`]:ce&&ce!=="default",[`${j}-bordered`]:!!E,[`${j}-rtl`]:ne==="rtl"},B,L,fe),style:Object.assign(Object.assign({},K==null?void 0:K.style),X)},ee),(s||l)&&r.createElement("div",{className:`${j}-header`},s&&r.createElement("div",{className:`${j}-title`},s),l&&r.createElement("div",{className:`${j}-extra`},l)),r.createElement("div",{className:`${j}-view`},r.createElement("table",null,r.createElement("tbody",null,_e.map((le,ue)=>r.createElement(p,{key:ue,index:ue,colon:m,prefixCls:j,vertical:I==="vertical",bordered:E,row:le}))))))))};w.Item=$;var z=w}}]);
