"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[136],{1878:function(ue,W,t){t.r(W),t.d(W,{default:function(){return be}});var _=t(5574),S=t.n(_),z=t(20385),B=t(32319),k=t(48689),O=t(68015),D=t(30029),q=t(37990),I=t(90905),ee=t(79216),T=t(62986),K=t(71577),F=t(65360),te=t(71230),N=t(15746),ne=t(27049),P=t(4942),p=t(97685),x=t(71002),g=t(94184),m=t.n(g),f=t(50344),l=t(62435),me=t(53124),de=t(96159),G=t(24308),ve=function(e){var n=e.children;return n},pe=ve,C=t(87462);function V(r){return r!=null}var fe=function(e){var n=e.itemPrefixCls,a=e.component,u=e.span,c=e.className,o=e.style,y=e.labelStyle,s=e.contentStyle,Z=e.bordered,d=e.label,E=e.content,j=e.colon,h=a;if(Z){var v;return l.createElement(h,{className:m()((v={},(0,P.Z)(v,"".concat(n,"-item-label"),V(d)),(0,P.Z)(v,"".concat(n,"-item-content"),V(E)),v),c),style:o,colSpan:u},V(d)&&l.createElement("span",{style:y},d),V(E)&&l.createElement("span",{style:s},E))}return l.createElement(h,{className:m()("".concat(n,"-item"),c),style:o,colSpan:u},l.createElement("div",{className:"".concat(n,"-item-container")},(d||d===0)&&l.createElement("span",{className:m()("".concat(n,"-item-label"),(0,P.Z)({},"".concat(n,"-item-no-colon"),!j)),style:y},d),(E||E===0)&&l.createElement("span",{className:m()("".concat(n,"-item-content")),style:s},E)))},re=fe;function le(r,e,n){var a=e.colon,u=e.prefixCls,c=e.bordered,o=n.component,y=n.type,s=n.showLabel,Z=n.showContent,d=n.labelStyle,E=n.contentStyle;return r.map(function(j,h){var v=j.props,R=v.label,M=v.children,$=v.prefixCls,A=$===void 0?u:$,U=v.className,b=v.style,J=v.labelStyle,L=v.contentStyle,Q=v.span,X=Q===void 0?1:Q,w=j.key;return typeof o=="string"?l.createElement(re,{key:"".concat(y,"-").concat(w||h),className:U,style:b,labelStyle:(0,C.Z)((0,C.Z)({},d),J),contentStyle:(0,C.Z)((0,C.Z)({},E),L),span:X,colon:a,component:o,itemPrefixCls:A,bordered:c,label:s?R:null,content:Z?M:null}):[l.createElement(re,{key:"label-".concat(w||h),className:U,style:(0,C.Z)((0,C.Z)((0,C.Z)({},d),b),J),span:1,colon:a,component:o[0],itemPrefixCls:A,bordered:c,label:R}),l.createElement(re,{key:"content-".concat(w||h),className:U,style:(0,C.Z)((0,C.Z)((0,C.Z)({},E),b),L),span:X*2-1,component:o[1],itemPrefixCls:A,bordered:c,content:M})]})}var ye=function(e){var n=l.useContext(se),a=e.prefixCls,u=e.vertical,c=e.row,o=e.index,y=e.bordered;return u?l.createElement(l.Fragment,null,l.createElement("tr",{key:"label-".concat(o),className:"".concat(a,"-row")},le(c,e,(0,C.Z)({component:"th",type:"label",showLabel:!0},n))),l.createElement("tr",{key:"content-".concat(o),className:"".concat(a,"-row")},le(c,e,(0,C.Z)({component:"td",type:"content",showContent:!0},n)))):l.createElement("tr",{key:o,className:"".concat(a,"-row")},le(c,e,(0,C.Z)({component:y?["th","td"]:"td",type:"item",showLabel:!0,showContent:!0},n)))},he=ye,se=l.createContext({}),oe={xxl:3,xl:3,lg:3,md:3,sm:2,xs:1};function xe(r,e){if(typeof r=="number")return r;if((0,x.Z)(r)==="object")for(var n=0;n<G.c4.length;n++){var a=G.c4[n];if(e[a]&&r[a]!==void 0)return r[a]||oe[a]}return 3}function ce(r,e,n){var a=r;return(e===void 0||e>n)&&(a=(0,de.Tm)(r,{span:n})),a}function Ce(r,e){var n=(0,f.Z)(r).filter(function(o){return o}),a=[],u=[],c=e;return n.forEach(function(o,y){var s,Z=(s=o.props)===null||s===void 0?void 0:s.span,d=Z||1;if(y===n.length-1){u.push(ce(o,Z,c)),a.push(u);return}d<c?(c-=d,u.push(o)):(u.push(ce(o,d,c)),a.push(u),c=e,u=[])}),a}function ie(r){var e,n=r.prefixCls,a=r.title,u=r.extra,c=r.column,o=c===void 0?oe:c,y=r.colon,s=y===void 0?!0:y,Z=r.bordered,d=r.layout,E=r.children,j=r.className,h=r.style,v=r.size,R=r.labelStyle,M=r.contentStyle,$=l.useContext(me.E_),A=$.getPrefixCls,U=$.direction,b=A("descriptions",n),J=l.useState({}),L=(0,p.Z)(J,2),Q=L[0],X=L[1],w=xe(o,Q);l.useEffect(function(){var ae=G.ZP.subscribe(function(Y){(0,x.Z)(o)==="object"&&X(Y)});return function(){G.ZP.unsubscribe(ae)}},[]);var Se=Ce(E,w),ge=l.useMemo(function(){return{labelStyle:R,contentStyle:M}},[R,M]);return l.createElement(se.Provider,{value:ge},l.createElement("div",{className:m()(b,(e={},(0,P.Z)(e,"".concat(b,"-").concat(v),v&&v!=="default"),(0,P.Z)(e,"".concat(b,"-bordered"),!!Z),(0,P.Z)(e,"".concat(b,"-rtl"),U==="rtl"),e),j),style:h},(a||u)&&l.createElement("div",{className:"".concat(b,"-header")},a&&l.createElement("div",{className:"".concat(b,"-title")},a),u&&l.createElement("div",{className:"".concat(b,"-extra")},u)),l.createElement("div",{className:"".concat(b,"-view")},l.createElement("table",null,l.createElement("tbody",null,Se.map(function(ae,Y){return l.createElement(he,{key:Y,index:Y,colon:s,prefixCls:b,vertical:d==="vertical",bordered:Z,row:ae})}))))))}ie.Item=pe;var H=ie,i=t(86074),Ee=function(){var e,n=["image/jpeg","image/png"],a=(0,I.useParams)(),u=a.id,c=(0,I.useIntl)(),o=(0,l.useState)(),y=S()(o,2),s=y[0],Z=y[1];(0,l.useEffect)(function(){(0,z.Cq)(u).then(function(j){Z(j)})},[]);var d=function(){var h;return n.includes((h=s==null?void 0:s.type)!==null&&h!==void 0?h:"")?(0,i.jsx)(ee.Z,{src:"".concat(localStorage.getItem("wf_URL")).concat(s==null?void 0:s.url)}):(0,i.jsx)(T.Z,{})},E=[{title:"#",valueType:"indexBorder"},{title:"Name",dataIndex:"name"},{title:c.formatMessage({id:"general.status"}),dataIndex:"active",valueEnum:{false:{text:"Draft",status:"Default"},true:{text:"Active",status:"Processing"}}},{title:"",valueType:"option",width:120,render:function(){return[(0,i.jsx)(K.Z,{icon:(0,i.jsx)(B.Z,{}),type:"primary"},1),(0,i.jsx)(F.Z,{title:"Are you sure?",children:(0,i.jsx)(K.Z,{icon:(0,i.jsx)(k.Z,{}),type:"primary",danger:!0})},2)]}}];return(0,i.jsx)(O._z,{title:"Center",children:(0,i.jsxs)(te.Z,{gutter:16,children:[(0,i.jsx)(N.Z,{span:4,children:(0,i.jsxs)(D.Z,{title:c.formatMessage({id:"general.preview"}),children:[d(),(0,i.jsx)(ne.Z,{}),(0,i.jsxs)(H,{title:"File info",column:1,children:[(0,i.jsx)(H.Item,{label:"Name",children:s==null?void 0:s.name}),(0,i.jsxs)(H.Item,{label:"Size",children:[(((e=s==null?void 0:s.size)!==null&&e!==void 0?e:0)/1024).toFixed(2)," KB"]}),(0,i.jsx)(H.Item,{label:"Type",children:s==null?void 0:s.type})]})]})}),(0,i.jsx)(N.Z,{span:16,children:(0,i.jsx)(q.Z,{columns:E,request:function(h){return(0,z.z3)(h,{id:u})},rowKey:"id"})}),(0,i.jsx)(N.Z,{span:4,children:(0,i.jsx)(D.Z,{title:"Work content",children:(0,i.jsx)(T.Z,{})})})]})})},be=Ee},20385:function(ue,W,t){t.d(W,{Ah:function(){return ee},Cq:function(){return K},V6:function(){return q},kE:function(){return ne},z3:function(){return te}});var _=t(15009),S=t.n(_),z=t(97857),B=t.n(z),k=t(99289),O=t.n(k),D=t(90905);function q(p,x){return I.apply(this,arguments)}function I(){return I=O()(S()().mark(function p(x,g){return S()().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.abrupt("return",(0,D.request)("fileExplorer/list",B()({method:"GET",params:B()({},x)},g||{})));case 1:case"end":return f.stop()}},p)})),I.apply(this,arguments)}function ee(p){return T.apply(this,arguments)}function T(){return T=O()(S()().mark(function p(x){return S()().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return m.abrupt("return",(0,D.request)("fileExplorer/delete-file-content/".concat(x),{method:"POST"}));case 1:case"end":return m.stop()}},p)})),T.apply(this,arguments)}function K(p){return F.apply(this,arguments)}function F(){return F=O()(S()().mark(function p(x){return S()().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return m.abrupt("return",(0,D.request)("fileExplorer/".concat(x)));case 1:case"end":return m.stop()}},p)})),F.apply(this,arguments)}function te(p,x){return N.apply(this,arguments)}function N(){return N=O()(S()().mark(function p(x,g){return S()().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.abrupt("return",(0,D.request)("fileExplorer/file-items/".concat(g.id)));case 1:case"end":return f.stop()}},p)})),N.apply(this,arguments)}function ne(p){return P.apply(this,arguments)}function P(){return P=O()(S()().mark(function p(x){var g;return S()().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return g=new FormData,g.append("file",x),f.abrupt("return",(0,D.request)("fileExplorer/upload",{method:"POST",data:g}));case 3:case"end":return f.stop()}},p)})),P.apply(this,arguments)}}}]);
