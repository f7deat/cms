"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[4136],{27895:function(oe,R,r){r.r(R);var o=r(15009),y=r.n(o),U=r(99289),A=r.n(U),x=r(5574),D=r.n(x),s=r(20385),F=r(32319),Z=r(48689),O=r(62884),I=r(30029),Y=r(22257),c=r(90905),L=r(78613),T=r(32983),M=r(71577),S=r(86738),W=r(27790),B=r(71230),p=r(15746),P=r(96074),g=r(27511),v=r(62435),a=r(86074),le=function(){var K,ae=["image/jpeg","image/png","image/webp"],k=(0,c.useParams)(),z=k.id,w=(0,c.useIntl)(),se=(0,v.useState)(),n=D()(se,2),e=n[0],l=n[1];(0,v.useEffect)(function(){(0,s.Cq)(z).then(function(m){l(m)})},[]);var t=function(){var _;if(ae.includes((_=e==null?void 0:e.type)!==null&&_!==void 0?_:"")){var f=new URL((e==null?void 0:e.url)||"",localStorage.getItem("wf_URL")||"").href;return(0,a.jsx)(L.Z,{src:f})}return(0,a.jsx)(T.Z,{})},i=[{title:"#",valueType:"indexBorder"},{title:"Name",dataIndex:"name"},{title:w.formatMessage({id:"general.status"}),dataIndex:"active",valueEnum:{false:{text:"Draft",status:"Default"},true:{text:"Active",status:"Processing"}}},{title:"",valueType:"option",width:120,render:function(_,f){return[(0,a.jsx)(M.Z,{icon:(0,a.jsx)(F.Z,{}),type:"primary",onClick:function(){c.history.push("/works/".concat(f.normalizedName.toLocaleLowerCase(),"/").concat(f.id))}},1),(0,a.jsx)(S.Z,{title:"Are you sure?",children:(0,a.jsx)(M.Z,{icon:(0,a.jsx)(Z.Z,{}),type:"primary",danger:!0})},2)]}}],u=function(){var m=A()(y()().mark(function _(){var f;return y()().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.next=2,(0,s.Ah)(z);case 2:f=h.sent,f.succeeded?(W.ZP.success(w.formatMessage({id:"general.deleted"})),c.history.back()):W.ZP.error(f.errors[0].description);case 4:case"end":return h.stop()}},_)}));return function(){return m.apply(this,arguments)}}(),d=(0,a.jsx)(S.Z,{title:"Are you sure?",onConfirm:u,children:(0,a.jsxs)(M.Z,{type:"primary",danger:!0,icon:(0,a.jsx)(Z.Z,{}),children:[" ","Delete"]})});return(0,a.jsx)(O._z,{title:"Center",extra:d,children:(0,a.jsxs)(B.Z,{gutter:16,children:[(0,a.jsx)(p.Z,{span:4,children:(0,a.jsxs)(I.Z,{title:w.formatMessage({id:"general.preview"}),children:[t(),(0,a.jsx)(P.Z,{}),(0,a.jsxs)(g.Z,{title:"File info",column:1,children:[(0,a.jsx)(g.Z.Item,{label:"Name",children:e==null?void 0:e.name}),(0,a.jsxs)(g.Z.Item,{label:"Size",children:[(((K=e==null?void 0:e.size)!==null&&K!==void 0?K:0)/1024).toFixed(2)," KB"]}),(0,a.jsx)(g.Z.Item,{label:"Type",children:e==null?void 0:e.type})]})]})}),(0,a.jsx)(p.Z,{span:16,children:(0,a.jsx)(Y.Z,{columns:i,request:function(_){return(0,s.z3)(_,{id:z})},rowKey:"id"})}),(0,a.jsx)(p.Z,{span:4,children:(0,a.jsx)(I.Z,{title:"Work content",children:(0,a.jsx)(T.Z,{})})})]})})};R.default=le},20385:function(oe,R,r){r.d(R,{Ah:function(){return O},Cq:function(){return L},V6:function(){return F},kE:function(){return W},z3:function(){return M}});var o=r(15009),y=r.n(o),U=r(97857),A=r.n(U),x=r(99289),D=r.n(x),s=r(90905);function F(p,P){return Z.apply(this,arguments)}function Z(){return Z=D()(y()().mark(function p(P,g){return y()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,s.request)("fileExplorer/list",A()({method:"GET",params:A()({},P)},g||{})));case 1:case"end":return a.stop()}},p)})),Z.apply(this,arguments)}function O(p){return I.apply(this,arguments)}function I(){return I=D()(y()().mark(function p(P){return y()().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return v.abrupt("return",(0,s.request)("fileExplorer/delete-file-content/".concat(P),{method:"POST"}));case 1:case"end":return v.stop()}},p)})),I.apply(this,arguments)}function Y(p){return c.apply(this,arguments)}function c(){return c=_asyncToGenerator(_regeneratorRuntime().mark(function p(P){return _regeneratorRuntime().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return v.abrupt("return",request("fileExplorer/delete-file-item",{method:"POST",data:P}));case 1:case"end":return v.stop()}},p)})),c.apply(this,arguments)}function L(p){return T.apply(this,arguments)}function T(){return T=D()(y()().mark(function p(P){return y()().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return v.abrupt("return",(0,s.request)("fileExplorer/".concat(P)));case 1:case"end":return v.stop()}},p)})),T.apply(this,arguments)}function M(p,P){return S.apply(this,arguments)}function S(){return S=D()(y()().mark(function p(P,g){return y()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,s.request)("fileExplorer/file-items/".concat(g.id)));case 1:case"end":return a.stop()}},p)})),S.apply(this,arguments)}function W(p){return B.apply(this,arguments)}function B(){return B=D()(y()().mark(function p(P){var g;return y()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return g=new FormData,g.append("file",P),a.abrupt("return",(0,s.request)("fileExplorer/upload",{method:"POST",data:g}));case 3:case"end":return a.stop()}},p)})),B.apply(this,arguments)}},27511:function(oe,R,r){r.d(R,{K:function(){return q},Z:function(){return se}});var o=r(4942),y=r(97685),U=r(71002),A=r(94184),x=r.n(A),D=r(50344),s=r(62435),F=r(53124),Z=r(96159),O=r(24308),I=function(e){var l=e.children;return l},Y=I,c=r(87462);function L(n){return n!=null}var T=function(e){var l=e.itemPrefixCls,t=e.component,i=e.span,u=e.className,d=e.style,m=e.labelStyle,_=e.contentStyle,f=e.bordered,E=e.label,h=e.content,N=e.colon,j=t;if(f){var C;return s.createElement(j,{className:x()((C={},(0,o.Z)(C,l+"-item-label",L(E)),(0,o.Z)(C,l+"-item-content",L(h)),C),u),style:d,colSpan:i},L(E)&&s.createElement("span",{style:m},E),L(h)&&s.createElement("span",{style:_},h))}return s.createElement(j,{className:x()(l+"-item",u),style:d,colSpan:i},s.createElement("div",{className:l+"-item-container"},(E||E===0)&&s.createElement("span",{className:x()(l+"-item-label",(0,o.Z)({},l+"-item-no-colon",!N)),style:m},E),(h||h===0)&&s.createElement("span",{className:x()(l+"-item-content"),style:_},h)))},M=T;function S(n,e,l){var t=e.colon,i=e.prefixCls,u=e.bordered,d=l.component,m=l.type,_=l.showLabel,f=l.showContent,E=l.labelStyle,h=l.contentStyle;return n.map(function(N,j){var C=N.props,$=C.label,G=C.children,H=C.prefixCls,X=H===void 0?i:H,V=C.className,b=C.style,ee=C.labelStyle,J=C.contentStyle,te=C.span,ne=te===void 0?1:te,Q=N.key;return typeof d=="string"?s.createElement(M,{key:m+"-"+(Q||j),className:V,style:b,labelStyle:(0,c.Z)((0,c.Z)({},E),ee),contentStyle:(0,c.Z)((0,c.Z)({},h),J),span:ne,colon:t,component:d,itemPrefixCls:X,bordered:u,label:_?$:null,content:f?G:null}):[s.createElement(M,{key:"label-"+(Q||j),className:V,style:(0,c.Z)((0,c.Z)((0,c.Z)({},E),b),ee),span:1,colon:t,component:d[0],itemPrefixCls:X,bordered:u,label:$}),s.createElement(M,{key:"content-"+(Q||j),className:V,style:(0,c.Z)((0,c.Z)((0,c.Z)({},h),b),J),span:ne*2-1,component:d[1],itemPrefixCls:X,bordered:u,content:G})]})}var W=function(e){var l=s.useContext(q),t=e.prefixCls,i=e.vertical,u=e.row,d=e.index,m=e.bordered;return i?s.createElement(s.Fragment,null,s.createElement("tr",{key:"label-"+d,className:t+"-row"},S(u,e,(0,c.Z)({component:"th",type:"label",showLabel:!0},l))),s.createElement("tr",{key:"content-"+d,className:t+"-row"},S(u,e,(0,c.Z)({component:"td",type:"content",showContent:!0},l)))):s.createElement("tr",{key:d,className:t+"-row"},S(u,e,(0,c.Z)({component:m?["th","td"]:"td",type:"item",showLabel:!0,showContent:!0},l)))},B=W,p=r(67968),P=r(45503),g=r(14747),v=function(e){var l,t=e.componentCls,i=e.descriptionsSmallPadding,u=e.descriptionsDefaultPadding,d=e.descriptionsMiddlePadding,m=e.descriptionsBg;return(0,o.Z)({},"&"+t+"-bordered",(l={},(0,o.Z)(l,t+"-view",{border:e.lineWidth+"px "+e.lineType+" "+e.colorSplit,"> table":{tableLayout:"auto",borderCollapse:"collapse"}}),(0,o.Z)(l,t+"-item-label, "+t+"-item-content",{padding:u,borderInlineEnd:e.lineWidth+"px "+e.lineType+" "+e.colorSplit,"&:last-child":{borderInlineEnd:"none"}}),(0,o.Z)(l,t+"-item-label",{backgroundColor:m,"&::after":{display:"none"}}),(0,o.Z)(l,t+"-row",{borderBottom:e.lineWidth+"px "+e.lineType+" "+e.colorSplit,"&:last-child":{borderBottom:"none"}}),(0,o.Z)(l,"&"+t+"-middle",(0,o.Z)({},t+"-item-label, "+t+"-item-content",{padding:d})),(0,o.Z)(l,"&"+t+"-small",(0,o.Z)({},t+"-item-label, "+t+"-item-content",{padding:i})),l))},a=function(e){var l,t,i=e.componentCls,u=e.descriptionsExtraColor,d=e.descriptionItemPaddingBottom,m=e.descriptionsItemLabelColonMarginRight,_=e.descriptionsItemLabelColonMarginLeft,f=e.descriptionsTitleMarginBottom;return(0,o.Z)({},i,(0,c.Z)((0,c.Z)((0,c.Z)({},(0,g.Wf)(e)),v(e)),(t={},(0,o.Z)(t,"&-rtl",{direction:"rtl"}),(0,o.Z)(t,i+"-header",{display:"flex",alignItems:"center",marginBottom:f}),(0,o.Z)(t,i+"-title",(0,c.Z)((0,c.Z)({},g.vS),{flex:"auto",color:e.colorText,fontWeight:e.fontWeightStrong,fontSize:e.fontSizeLG,lineHeight:e.lineHeightLG})),(0,o.Z)(t,i+"-extra",{marginInlineStart:"auto",color:u,fontSize:e.fontSize}),(0,o.Z)(t,i+"-view",{width:"100%",borderRadius:e.borderRadiusLG,table:{width:"100%",tableLayout:"fixed"}}),(0,o.Z)(t,i+"-row",{"> th, > td":{paddingBottom:d},"&:last-child":{borderBottom:"none"}}),(0,o.Z)(t,i+"-item-label",(0,o.Z)({color:e.colorText,fontWeight:"normal",fontSize:e.fontSize,lineHeight:e.lineHeight,textAlign:"start","&::after":{content:'":"',position:"relative",top:-.5,marginInline:_+"px "+m+"px"}},"&"+i+"-item-no-colon::after",{content:'""'})),(0,o.Z)(t,i+"-item-no-label",{"&::after":{margin:0,content:'""'}}),(0,o.Z)(t,i+"-item-content",{display:"table-cell",flex:1,color:e.colorText,fontSize:e.fontSize,lineHeight:e.lineHeight,wordBreak:"break-word",overflowWrap:"break-word"}),(0,o.Z)(t,i+"-item",{paddingBottom:0,verticalAlign:"top","&-container":(l={display:"flex"},(0,o.Z)(l,i+"-item-label",{display:"inline-flex",alignItems:"baseline"}),(0,o.Z)(l,i+"-item-content",{display:"inline-flex",alignItems:"baseline"}),l)}),(0,o.Z)(t,"&-middle",(0,o.Z)({},i+"-row",{"> th, > td":{paddingBottom:e.paddingSM}})),(0,o.Z)(t,"&-small",(0,o.Z)({},i+"-row",{"> th, > td":{paddingBottom:e.paddingXS}})),t)))},le=(0,p.Z)("Descriptions",function(n){var e=n.colorFillAlter,l=n.fontSizeSM*n.lineHeightSM,t=n.colorText,i=n.paddingXS+"px "+n.padding+"px",u=n.padding+"px "+n.paddingLG+"px",d=n.paddingSM+"px "+n.paddingLG+"px",m=n.padding,_=n.marginXS,f=n.marginXXS/2,E=(0,P.TS)(n,{descriptionsBg:e,descriptionsTitleMarginBottom:l,descriptionsExtraColor:t,descriptionItemPaddingBottom:m,descriptionsSmallPadding:i,descriptionsDefaultPadding:u,descriptionsMiddlePadding:d,descriptionsItemLabelColonMarginRight:_,descriptionsItemLabelColonMarginLeft:f});return[a(E)]}),q=s.createContext({}),K={xxl:3,xl:3,lg:3,md:3,sm:2,xs:1};function ae(n,e){if(typeof n=="number")return n;if((0,U.Z)(n)==="object")for(var l=0;l<O.c4.length;l++){var t=O.c4[l];if(e[t]&&n[t]!==void 0)return n[t]||K[t]}return 3}function k(n,e,l){var t=n;return(e===void 0||e>l)&&(t=(0,Z.Tm)(n,{span:l})),t}function z(n,e){var l=(0,D.Z)(n).filter(function(d){return d}),t=[],i=[],u=e;return l.forEach(function(d,m){var _,f=(_=d.props)===null||_===void 0?void 0:_.span,E=f||1;if(m===l.length-1){i.push(k(d,f,u)),t.push(i);return}E<u?(u-=E,i.push(d)):(i.push(k(d,E,u)),t.push(i),u=e,i=[])}),t}function w(n){var e,l=n.prefixCls,t=n.title,i=n.extra,u=n.column,d=u===void 0?K:u,m=n.colon,_=m===void 0?!0:m,f=n.bordered,E=n.layout,h=n.children,N=n.className,j=n.style,C=n.size,$=n.labelStyle,G=n.contentStyle,H=s.useContext(F.E_),X=H.getPrefixCls,V=H.direction,b=X("descriptions",l),ee=s.useState({}),J=(0,y.Z)(ee,2),te=J[0],ne=J[1],Q=ae(d,te),ce=le(b),de=(0,y.Z)(ce,2),ue=de[0],me=de[1];s.useEffect(function(){var ie=O.ZP.subscribe(function(re){(0,U.Z)(d)==="object"&&ne(re)});return function(){O.ZP.unsubscribe(ie)}},[]);var _e=z(h,Q),pe=s.useMemo(function(){return{labelStyle:$,contentStyle:G}},[$,G]);return ue(s.createElement(q.Provider,{value:pe},s.createElement("div",{className:x()(b,(e={},(0,o.Z)(e,b+"-"+C,C&&C!=="default"),(0,o.Z)(e,b+"-bordered",!!f),(0,o.Z)(e,b+"-rtl",V==="rtl"),e),N,me),style:j},(t||i)&&s.createElement("div",{className:b+"-header"},t&&s.createElement("div",{className:b+"-title"},t),i&&s.createElement("div",{className:b+"-extra"},i)),s.createElement("div",{className:b+"-view"},s.createElement("table",null,s.createElement("tbody",null,_e.map(function(ie,re){return s.createElement(B,{key:re,index:re,colon:_,prefixCls:b,vertical:E==="vertical",bordered:f,row:ie})})))))))}w.Item=Y;var se=w}}]);
