"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[165],{5966:function(ce,L,e){var C=e(1413),h=e(91),B=e(86074),D=e(15790),W=["fieldProps","proFieldProps"],K=["fieldProps","proFieldProps"],S="text",s=function(Z){var U=Z.fieldProps,j=Z.proFieldProps,N=(0,h.Z)(Z,W);return(0,B.jsx)(D.Z,(0,C.Z)({valueType:S,fieldProps:U,filedConfig:{valueType:S},proFieldProps:j},N))},Q=function(Z){var U=Z.fieldProps,j=Z.proFieldProps,N=(0,h.Z)(Z,K);return(0,B.jsx)(D.Z,(0,C.Z)({valueType:"password",fieldProps:U,proFieldProps:j,filedConfig:{valueType:S}},N))},E=s;E.Password=Q,E.displayName="ProFormComponent",L.Z=E},19734:function(ce,L,e){e.r(L),e.d(L,{default:function(){return a}});var C=e(15009),h=e.n(C),B=e(99289),D=e.n(B),W=e(5574),K=e.n(W),S=e(66352),s=e(50888),Q=e(24969),E=e(48689),b=e(62884),Z=e(30029),U=e(97269),j=e(5966),N=e(1413),oe=e(91),l=e(86074),z=e(62435),le=e(15790),I=["fieldProps","min","proFieldProps","max"],ie=function(t,r){var y=t.fieldProps,p=t.min,u=t.proFieldProps,d=t.max,g=(0,oe.Z)(t,I);return(0,l.jsx)(le.Z,(0,N.Z)({valueType:"digit",fieldProps:(0,N.Z)({min:p,max:d},y),ref:r,filedConfig:{defaultProps:{width:"100%"}},proFieldProps:u},g))},q=z.forwardRef(ie),H=e(90905),R=e(2453),_=e(86738),se=e(71577),ee=e(71230),ne=e(15746),te=e(31365),ae=localStorage.getItem("wf_URL"),n=function(){var t=(0,H.useParams)(),r=t.id,y=(0,H.useIntl)(),p=(0,z.useState)(!1),u=K()(p,2),d=u[0],g=u[1],P=(0,z.useState)(),O=K()(P,2),M=O[0],G=O[1],V=(0,z.useRef)(),J=(0,l.jsxs)("div",{children:[d?(0,l.jsx)(s.Z,{}):(0,l.jsx)(Q.Z,{}),(0,l.jsx)("div",{style:{marginTop:8},children:"Upload"})]}),w=function(o,f){var x=new FileReader;x.addEventListener("load",function(){return f(x.result)}),x.readAsDataURL(o)},X=function(o){if(o.file.status==="uploading"){g(!0);return}o.file.status==="done"&&w(o.file.originFileObj,function(f){g(!1),G(f)})},k=function(o){var f=o.type==="image/jpeg"||o.type==="image/png"||o.type==="image/svg+xml";f||R.ZP.error("You can only upload JPG/PNG file!");var x=o.size/1024/1024<2;return x||R.ZP.error("Image must smaller than 2MB!"),f&&x},$=function(){var v=D()(h()().mark(function o(f){var x;return h()().wrap(function(A){for(;;)switch(A.prev=A.next){case 0:return A.next=2,(0,S.DB)(f);case 2:x=A.sent,x.succeeded?R.ZP.success("Saved!"):R.ZP.error(x.errors[0].description);case 4:case"end":return A.stop()}},o)}));return function(f){return v.apply(this,arguments)}}();(0,z.useEffect)(function(){(0,S.gJ)(r).then(function(v){var o;(o=V.current)===null||o===void 0||o.setFields([{name:"id",value:r},{name:"height",value:v.height},{name:"width",value:v.width},{name:"alt",value:v.alt},{name:"url",value:v.url},{name:"className",value:v.className}]),v.src&&G(v.src)})},[]);var de=function(){var v=D()(h()().mark(function o(){var f;return h()().wrap(function(T){for(;;)switch(T.prev=T.next){case 0:return T.next=2,(0,S.rB)(r);case 2:f=T.sent,f.succeeded?(R.ZP.success(y.formatMessage({id:"general.deleted"})),H.history.back()):R.ZP.error(f.errors[0].description);case 4:case"end":return T.stop()}},o)}));return function(){return v.apply(this,arguments)}}(),re=(0,l.jsx)(_.Z,{title:"Are you sure?",onConfirm:de,children:(0,l.jsxs)(se.Z,{type:"primary",danger:!0,icon:(0,l.jsx)(E.Z,{}),children:[" ","Delete"]})});return(0,l.jsx)(b._z,{title:"Image",extra:re,children:(0,l.jsx)(Z.Z,{children:(0,l.jsxs)(ee.Z,{gutter:16,children:[(0,l.jsx)(ne.Z,{children:(0,l.jsx)(te.Z,{name:"file",listType:"picture-card",className:"avatar-uploader",showUploadList:!1,action:"".concat(ae,"api/image/upload/").concat(r),beforeUpload:k,onChange:X,children:M?(0,l.jsx)("img",{src:ae+M,alt:"avatar",style:{width:"100%"}}):J})}),(0,l.jsx)(ne.Z,{children:(0,l.jsxs)(U.A,{onFinish:$,formRef:V,children:[(0,l.jsx)(j.Z,{name:"id",hidden:!0}),(0,l.jsx)(j.Z,{name:"alt",label:"Alt"}),(0,l.jsx)(j.Z,{name:"url",label:"Url"}),(0,l.jsx)(j.Z,{name:"className",label:"Class Name"}),(0,l.jsx)(q,{label:"Width",name:"width"}),(0,l.jsx)(q,{label:"Height",name:"height"})]})})]})})})},a=n},86738:function(ce,L,e){e.d(L,{Z:function(){return ae}});var C=e(87462),h=e(97685),B=e(21640),D=e(94184),W=e.n(D),K=e(21770),S=e(15105),s=e(62435),Q=e(98423),E=e(53124),b=e(55241),Z=e(96159),U=e(71577),j=e(5214),N=e(86743),oe=e(77667),l=e(24457),z=e(81643),le=e(60590),I=e(4942),ie=e(67968),q=function(a){var i,t,r=a.componentCls,y=a.iconCls,p=a.zIndexPopup,u=a.colorText,d=a.colorWarning,g=a.marginXS,P=a.fontSize,O=a.lineHeight;return(0,I.Z)({},r,(t={zIndex:p},(0,I.Z)(t,r+"-inner-content",{color:u}),(0,I.Z)(t,r+"-message",(i={position:"relative",marginBottom:g,color:u,fontSize:P,display:"flex",flexWrap:"nowrap",alignItems:"start"},(0,I.Z)(i,"> "+r+"-message-icon "+y,{color:d,fontSize:P,flex:"none",lineHeight:1,paddingTop:(Math.round(P*O)-P)/2}),(0,I.Z)(i,"&-title",{flex:"auto",marginInlineStart:g}),i)),(0,I.Z)(t,r+"-buttons",{textAlign:"end",button:{marginInlineStart:g}}),t))},H=(0,ie.Z)("Popconfirm",function(n){return q(n)},function(n){var a=n.zIndexPopupBase;return{zIndexPopup:a+60}}),R=function(n,a){var i={};for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&a.indexOf(t)<0&&(i[t]=n[t]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,t=Object.getOwnPropertySymbols(n);r<t.length;r++)a.indexOf(t[r])<0&&Object.prototype.propertyIsEnumerable.call(n,t[r])&&(i[t[r]]=n[t[r]]);return i},_=function(a){var i=a.prefixCls,t=a.okButtonProps,r=a.cancelButtonProps,y=a.title,p=a.cancelText,u=a.okText,d=a.okType,g=d===void 0?"primary":d,P=a.icon,O=P===void 0?s.createElement(B.Z,null):P,M=a.showCancel,G=M===void 0?!0:M,V=a.close,J=a.onConfirm,w=a.onCancel,X=s.useContext(E.E_),k=X.getPrefixCls;return s.createElement(oe.Z,{componentName:"Popconfirm",defaultLocale:l.Z.Popconfirm},function($){return s.createElement("div",{className:i+"-inner-content"},s.createElement("div",{className:i+"-message"},O&&s.createElement("span",{className:i+"-message-icon"},O),s.createElement("div",{className:i+"-message-title"},(0,z.Z)(y))),s.createElement("div",{className:i+"-buttons"},G&&s.createElement(U.Z,(0,C.Z)({onClick:w,size:"small"},r),p!=null?p:$.cancelText),s.createElement(N.Z,{buttonProps:(0,C.Z)((0,C.Z)({size:"small"},(0,j.n)(g)),t),actionFn:J,close:V,prefixCls:k("btn"),quitOnNullishReturnValue:!0,emitEvent:!0},u!=null?u:$.okText)))})};function se(n){var a=n.prefixCls,i=n.placement,t=n.className,r=n.style,y=R(n,["prefixCls","placement","className","style"]),p=s.useContext(E.E_),u=p.getPrefixCls,d=u("popconfirm",a),g=H(d),P=(0,h.Z)(g,1),O=P[0];return O(s.createElement(le.ZP,{placement:i,className:W()(d,t),style:r,content:s.createElement(_,(0,C.Z)({prefixCls:d},y))}))}var ee=void 0,ne=function(n,a){var i={};for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&a.indexOf(t)<0&&(i[t]=n[t]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,t=Object.getOwnPropertySymbols(n);r<t.length;r++)a.indexOf(t[r])<0&&Object.prototype.propertyIsEnumerable.call(n,t[r])&&(i[t[r]]=n[t[r]]);return i},te=s.forwardRef(function(n,a){var i=s.useContext(E.E_),t=i.getPrefixCls,r=(0,K.Z)(!1,{value:n.open,defaultValue:n.defaultOpen}),y=(0,h.Z)(r,2),p=y[0],u=y[1],d=function(c,m){var F;u(c,!0),(F=n.onOpenChange)===null||F===void 0||F.call(n,c,m)},g=function(c){d(!1,c)},P=function(c){var m;return(m=n.onConfirm)===null||m===void 0?void 0:m.call(ee,c)},O=function(c){var m;d(!1,c),(m=n.onCancel)===null||m===void 0||m.call(ee,c)},M=function(c){c.keyCode===S.Z.ESC&&p&&d(!1,c)},G=function(c){var m=n.disabled,F=m===void 0?!1:m;F||d(c)},V=n.prefixCls,J=n.placement,w=J===void 0?"top":J,X=n.trigger,k=X===void 0?"click":X,$=n.okType,de=$===void 0?"primary":$,re=n.icon,v=re===void 0?s.createElement(B.Z,null):re,o=n.children,f=n.overlayClassName,x=ne(n,["prefixCls","placement","trigger","okType","icon","children","overlayClassName"]),T=t("popconfirm",V),A=W()(T,f),ve=H(T),ue=(0,h.Z)(ve,1),fe=ue[0];return fe(s.createElement(b.Z,(0,C.Z)({},(0,Q.Z)(x,["title"]),{trigger:k,placement:w,onOpenChange:G,open:p,ref:a,overlayClassName:A,content:s.createElement(_,(0,C.Z)({okType:de,icon:v},n,{prefixCls:T,close:g,onConfirm:P,onCancel:O})),"data-popover-inject":!0}),(0,Z.Tm)(o,{onKeyDown:function(c){var m,F;s.isValidElement(o)&&((F=o==null?void 0:(m=o.props).onKeyDown)===null||F===void 0||F.call(m,c)),M(c)}})))});te._InternalPanelDoNotUseOrYouWillBeFired=se;var ae=te}}]);
