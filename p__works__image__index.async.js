"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[165],{5966:function(ue,b,e){var x=e(1413),y=e(91),W=e(86074),T=e(15790),H=["fieldProps","proFieldProps"],V=["fieldProps","proFieldProps"],j="text",i=function(g){var K=g.fieldProps,h=g.proFieldProps,N=(0,y.Z)(g,H);return(0,W.jsx)(T.Z,(0,x.Z)({valueType:j,fieldProps:K,filedConfig:{valueType:j},proFieldProps:h},N))},z=function(g){var K=g.fieldProps,h=g.proFieldProps,N=(0,y.Z)(g,V);return(0,W.jsx)(T.Z,(0,x.Z)({valueType:"password",fieldProps:K,proFieldProps:h,filedConfig:{valueType:j}},N))},u=i;u.Password=z,u.displayName="ProFormComponent",b.Z=u},19734:function(ue,b,e){e.r(b),e.d(b,{default:function(){return r}});var x=e(15009),y=e.n(x),W=e(99289),T=e.n(W),H=e(5574),V=e.n(H),j=e(66352),i=e(50888),z=e(24969),u=e(48689),S=e(62884),g=e(30029),K=e(97269),h=e(5966),N=e(1413),J=e(91),o=e(86074),D=e(62435),te=e(15790),U=["fieldProps","min","proFieldProps","max"],re=function(t,a){var R=t.fieldProps,p=t.min,v=t.proFieldProps,c=t.max,C=(0,J.Z)(t,U);return(0,o.jsx)(te.Z,(0,N.Z)({valueType:"digit",fieldProps:(0,N.Z)({min:p,max:c},R),ref:a,filedConfig:{defaultProps:{width:"100%"}},proFieldProps:v},C))},w=D.forwardRef(re),G=e(90905),A=e(27790),I=e(86738),Z=e(71577),F=e(71230),B=e(15746),le=e(31365),ie=localStorage.getItem("wf_URL"),n=function(){var t=(0,G.useParams)(),a=t.id,R=(0,G.useIntl)(),p=(0,D.useState)(!1),v=V()(p,2),c=v[0],C=v[1],O=(0,D.useState)(),M=V()(O,2),X=M[0],k=M[1],q=(0,D.useRef)(),_=(0,o.jsxs)("div",{children:[c?(0,o.jsx)(i.Z,{}):(0,o.jsx)(z.Z,{}),(0,o.jsx)("div",{style:{marginTop:8},children:"Upload"})]}),ae=function(l,m){var E=new FileReader;E.addEventListener("load",function(){return m(E.result)}),E.readAsDataURL(l)},ee=function(l){if(l.file.status==="uploading"){C(!0);return}l.file.status==="done"&&ae(l.file.originFileObj,function(m){C(!1),k(m)})},oe=function(l){var m=l.type==="image/jpeg"||l.type==="image/png"||l.type==="image/svg+xml";m||A.ZP.error("You can only upload JPG/PNG file!");var E=l.size/1024/1024<2;return E||A.ZP.error("Image must smaller than 2MB!"),m&&E},Y=function(){var f=T()(y()().mark(function l(m){var E;return y()().wrap(function(Q){for(;;)switch(Q.prev=Q.next){case 0:return Q.next=2,(0,j.DB)(m);case 2:E=Q.sent,E.succeeded?A.ZP.success("Saved!"):A.ZP.error(E.errors[0].description);case 4:case"end":return Q.stop()}},l)}));return function(m){return f.apply(this,arguments)}}();(0,D.useEffect)(function(){(0,j.gJ)(a).then(function(f){var l;(l=q.current)===null||l===void 0||l.setFields([{name:"id",value:a},{name:"height",value:f.height},{name:"width",value:f.width},{name:"alt",value:f.alt},{name:"url",value:f.url},{name:"className",value:f.className}]),f.src&&k(f.src)})},[]);var ce=function(){var f=T()(y()().mark(function l(){var m;return y()().wrap(function(L){for(;;)switch(L.prev=L.next){case 0:return L.next=2,(0,j.rB)(a);case 2:m=L.sent,m.succeeded?(A.ZP.success(R.formatMessage({id:"general.deleted"})),G.history.back()):A.ZP.error(m.errors[0].description);case 4:case"end":return L.stop()}},l)}));return function(){return f.apply(this,arguments)}}(),se=(0,o.jsx)(I.Z,{title:"Are you sure?",onConfirm:ce,children:(0,o.jsxs)(Z.Z,{type:"primary",danger:!0,icon:(0,o.jsx)(u.Z,{}),children:[" ","Delete"]})});return(0,o.jsx)(S._z,{title:"Image",extra:se,children:(0,o.jsx)(g.Z,{children:(0,o.jsxs)(F.Z,{gutter:16,children:[(0,o.jsx)(B.Z,{children:(0,o.jsx)(le.Z,{name:"file",listType:"picture-card",className:"avatar-uploader",showUploadList:!1,action:"".concat(ie,"api/image/upload/").concat(a),beforeUpload:oe,onChange:ee,children:X?(0,o.jsx)("img",{src:ie+X,alt:"avatar",style:{width:"100%"}}):_})}),(0,o.jsx)(B.Z,{children:(0,o.jsxs)(K.A,{onFinish:Y,formRef:q,children:[(0,o.jsx)(h.Z,{name:"id",hidden:!0}),(0,o.jsx)(h.Z,{name:"alt",label:"Alt"}),(0,o.jsx)(h.Z,{name:"url",label:"Url"}),(0,o.jsx)(h.Z,{name:"className",label:"Class Name"}),(0,o.jsx)(w,{label:"Width",name:"width"}),(0,o.jsx)(w,{label:"Height",name:"height"})]})})]})})})},r=n},86743:function(ue,b,e){var x=e(87462),y=e(97685),W=e(30470),T=e(62435),H=e(71577),V=e(5214);function j(z){return!!(z&&!!z.then)}var i=function(u){var S=T.useRef(!1),g=T.useRef(null),K=(0,W.Z)(!1),h=(0,y.Z)(K,2),N=h[0],J=h[1],o=u.close,D=function(){o==null||o.apply(void 0,arguments)};T.useEffect(function(){var I=null;return u.autoFocus&&(I=setTimeout(function(){var Z;(Z=g.current)===null||Z===void 0||Z.focus()})),function(){I&&clearTimeout(I)}},[]);var te=function(Z){!j(Z)||(J(!0),Z.then(function(){J(!1,!0),D.apply(void 0,arguments),S.current=!1},function(F){console.error(F),J(!1,!0),S.current=!1}))},U=function(Z){var F=u.actionFn;if(!S.current){if(S.current=!0,!F){D();return}var B;if(u.emitEvent){if(B=F(Z),u.quitOnNullishReturnValue&&!j(B)){S.current=!1,D(Z);return}}else if(F.length)B=F(o),S.current=!1;else if(B=F(),!B){D();return}te(B)}},re=u.type,w=u.children,G=u.prefixCls,A=u.buttonProps;return T.createElement(H.Z,(0,x.Z)({},(0,V.n)(re),{onClick:U,loading:N,prefixCls:G},A,{ref:g}),w)};b.Z=i},86738:function(ue,b,e){e.d(b,{Z:function(){return ie}});var x=e(87462),y=e(97685),W=e(21640),T=e(94184),H=e.n(T),V=e(21770),j=e(15105),i=e(62435),z=e(98423),u=e(53124),S=e(55241),g=e(96159),K=e(71577),h=e(5214),N=e(86743),J=e(77667),o=e(24457),D=e(81643),te=e(60590),U=e(4942),re=e(67968),w=function(r){var s,t,a=r.componentCls,R=r.iconCls,p=r.zIndexPopup,v=r.colorText,c=r.colorWarning,C=r.marginXS,O=r.fontSize,M=r.lineHeight;return(0,U.Z)({},a,(t={zIndex:p},(0,U.Z)(t,a+"-inner-content",{color:v}),(0,U.Z)(t,a+"-message",(s={position:"relative",marginBottom:C,color:v,fontSize:O,display:"flex",flexWrap:"nowrap",alignItems:"start"},(0,U.Z)(s,"> "+a+"-message-icon "+R,{color:c,fontSize:O,flex:"none",lineHeight:1,paddingTop:(Math.round(O*M)-O)/2}),(0,U.Z)(s,"&-title",{flex:"auto",marginInlineStart:C}),s)),(0,U.Z)(t,a+"-buttons",{textAlign:"end",button:{marginInlineStart:C}}),t))},G=(0,re.Z)("Popconfirm",function(n){return w(n)},function(n){var r=n.zIndexPopupBase;return{zIndexPopup:r+60}}),A=function(n,r){var s={};for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&r.indexOf(t)<0&&(s[t]=n[t]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,t=Object.getOwnPropertySymbols(n);a<t.length;a++)r.indexOf(t[a])<0&&Object.prototype.propertyIsEnumerable.call(n,t[a])&&(s[t[a]]=n[t[a]]);return s},I=function(r){var s=r.prefixCls,t=r.okButtonProps,a=r.cancelButtonProps,R=r.title,p=r.cancelText,v=r.okText,c=r.okType,C=c===void 0?"primary":c,O=r.icon,M=O===void 0?i.createElement(W.Z,null):O,X=r.showCancel,k=X===void 0?!0:X,q=r.close,_=r.onConfirm,ae=r.onCancel,ee=i.useContext(u.E_),oe=ee.getPrefixCls;return i.createElement(J.Z,{componentName:"Popconfirm",defaultLocale:o.Z.Popconfirm},function(Y){return i.createElement("div",{className:s+"-inner-content"},i.createElement("div",{className:s+"-message"},M&&i.createElement("span",{className:s+"-message-icon"},M),i.createElement("div",{className:s+"-message-title"},(0,D.Z)(R))),i.createElement("div",{className:s+"-buttons"},k&&i.createElement(K.Z,(0,x.Z)({onClick:ae,size:"small"},a),p!=null?p:Y.cancelText),i.createElement(N.Z,{buttonProps:(0,x.Z)((0,x.Z)({size:"small"},(0,h.n)(C)),t),actionFn:_,close:q,prefixCls:oe("btn"),quitOnNullishReturnValue:!0,emitEvent:!0},v!=null?v:Y.okText)))})};function Z(n){var r=n.prefixCls,s=n.placement,t=n.className,a=n.style,R=A(n,["prefixCls","placement","className","style"]),p=i.useContext(u.E_),v=p.getPrefixCls,c=v("popconfirm",r),C=G(c),O=(0,y.Z)(C,1),M=O[0];return M(i.createElement(te.ZP,{placement:s,className:H()(c,t),style:a,content:i.createElement(I,(0,x.Z)({prefixCls:c},R))}))}var F=void 0,B=function(n,r){var s={};for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&r.indexOf(t)<0&&(s[t]=n[t]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,t=Object.getOwnPropertySymbols(n);a<t.length;a++)r.indexOf(t[a])<0&&Object.prototype.propertyIsEnumerable.call(n,t[a])&&(s[t[a]]=n[t[a]]);return s},le=i.forwardRef(function(n,r){var s=i.useContext(u.E_),t=s.getPrefixCls,a=(0,V.Z)(!1,{value:n.open,defaultValue:n.defaultOpen}),R=(0,y.Z)(a,2),p=R[0],v=R[1],c=function(d,P){var $;v(d,!0),($=n.onOpenChange)===null||$===void 0||$.call(n,d,P)},C=function(d){c(!1,d)},O=function(d){var P;return(P=n.onConfirm)===null||P===void 0?void 0:P.call(F,d)},M=function(d){var P;c(!1,d),(P=n.onCancel)===null||P===void 0||P.call(F,d)},X=function(d){d.keyCode===j.Z.ESC&&p&&c(!1,d)},k=function(d){var P=n.disabled,$=P===void 0?!1:P;$||c(d)},q=n.prefixCls,_=n.placement,ae=_===void 0?"top":_,ee=n.trigger,oe=ee===void 0?"click":ee,Y=n.okType,ce=Y===void 0?"primary":Y,se=n.icon,f=se===void 0?i.createElement(W.Z,null):se,l=n.children,m=n.overlayClassName,E=B(n,["prefixCls","placement","trigger","okType","icon","children","overlayClassName"]),L=t("popconfirm",q),Q=H()(L,m),de=G(L),fe=(0,y.Z)(de,1),ve=fe[0];return ve(i.createElement(S.Z,(0,x.Z)({},(0,z.Z)(E,["title"]),{trigger:oe,placement:ae,onOpenChange:k,open:p,ref:r,overlayClassName:Q,content:i.createElement(I,(0,x.Z)({okType:ce,icon:f},n,{prefixCls:L,close:C,onConfirm:O,onCancel:M})),"data-popover-inject":!0}),(0,g.Tm)(l,{onKeyDown:function(d){var P,$;i.isValidElement(l)&&(($=l==null?void 0:(P=l.props).onKeyDown)===null||$===void 0||$.call(P,d)),X(d)}})))});le._InternalPanelDoNotUseOrYouWillBeFired=Z;var ie=le}}]);
