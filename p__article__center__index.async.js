"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[6122],{76131:function(B,Z,e){var A=e(99351),r=e(5966),R=e(65675),o=e(86074),v=function(j){return(0,o.jsxs)(A.Y,{open:j.open,title:"Component",onFinish:j.onFinish,onOpenChange:j.onOpenChange,children:[(0,o.jsx)(r.Z,{name:"name",label:"Name"}),(0,o.jsx)(R.Z,{name:"componentId",label:"Component"})]})};Z.Z=v},65675:function(B,Z,e){var A=e(98364),r=e(64317),R=e(86074),o=function(g){return(0,R.jsx)(r.Z,{showSearch:!0,request:A.Ef,name:g.name,label:g.label})};Z.Z=o},24817:function(B,Z,e){e.r(Z),e.d(Z,{default:function(){return ne}});var A=e(15009),r=e.n(A),R=e(99289),o=e.n(R),v=e(5574),g=e.n(v),j=e(74350),W=e(61614),I=e(13728),K=e(62884),L=e(30029),y=e(90905),E=e(27790),b=e(13013),D=e(71577),w=e(71230),$=e(15746),T=e(62435),U=e(76131),a=e(66352),l=e(24969),f=e(86548),t=e(48689),h=e(22538),N=e(86738),n=e(86074),X=function(){var P=(0,y.useParams)(),C=P.id,O=(0,T.useRef)(),M=(0,T.useState)(!1),x=g()(M,2),c=x[0],S=x[1],F=function(){var m=o()(r()().mark(function d(u){var s,p;return r()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return u.catalogId=C,i.next=3,(0,a.yL)(u);case 3:s=i.sent,s.succeeded&&(E.ZP.success("Added!"),S(!1),(p=O.current)===null||p===void 0||p.reload());case 5:case"end":return i.stop()}},d)}));return function(u){return m.apply(this,arguments)}}(),_=function(){var m=o()(r()().mark(function d(u){var s,p;return r()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,(0,a.zt)(u,C);case 2:s=i.sent,s.succeeded&&(E.ZP.success("Deleted!"),(p=O.current)===null||p===void 0||p.reload());case 4:case"end":return i.stop()}},d)}));return function(u){return m.apply(this,arguments)}}();return(0,n.jsxs)("div",{children:[(0,n.jsx)(h.Rs,{toolBarRender:function(){return[(0,n.jsx)(D.Z,{onClick:function(){return S(!0)},type:"primary",icon:(0,n.jsx)(l.Z,{}),children:(0,n.jsx)(y.FormattedMessage,{id:"general.new"})},0)]},rowSelection:{},actionRef:O,request:o()(r()().mark(function m(){return r()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.abrupt("return",(0,a.KC)(C));case 1:case"end":return u.stop()}},m)})),headerTitle:"Work items",metas:{title:{dataIndex:"name"},actions:{render:function(d,u){return[(0,n.jsx)(D.Z,{type:"primary",icon:(0,n.jsx)(f.Z,{}),onClick:function(){y.history.push("/works/".concat(u.normalizedName.toLocaleLowerCase(),"/").concat(u.id))}},1),(0,n.jsxs)(N.Z,{title:"Are you sure?",onConfirm:function(){return _(u.id)},children:[(0,n.jsx)(D.Z,{icon:(0,n.jsx)(t.Z,{}),danger:!0,type:"primary"}),","]},4)]}}}}),(0,n.jsx)(U.Z,{open:c,onOpenChange:S,onFinish:F})]})},Y=X,H=e(97269),z=e(5966),J=e(90672),Q=e(63434),k=function(P){var C,O,M,x,c,S=function(){var F=o()(r()().mark(function _(m){var d;return r()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,(0,W.zo)(m);case 2:d=s.sent,d.succeeded?E.ZP.success("Saved!"):E.ZP.error(d.errors[0].description);case 4:case"end":return s.stop()}},_)}));return function(m){return F.apply(this,arguments)}}();return(0,n.jsxs)(H.A,{onFinish:S,children:[(0,n.jsx)(z.Z,{name:"id",hidden:!0,initialValue:(C=P.data)===null||C===void 0?void 0:C.id}),(0,n.jsx)(z.Z,{required:!0,name:"name",label:"Name",initialValue:(O=P.data)===null||O===void 0?void 0:O.name}),(0,n.jsx)(J.Z,{name:"description",label:"Description",initialValue:(M=P.data)===null||M===void 0?void 0:M.description}),(0,n.jsx)(z.Z,{name:"thumbnail",label:"Thumbnail",initialValue:(x=P.data)===null||x===void 0?void 0:x.thumbnail}),(0,n.jsx)(Q.Z,{name:"active",label:"Active",initialValue:(c=P.data)===null||c===void 0?void 0:c.active})]})},q=k,ee=function(){var P=(0,y.useParams)(),C=P.id,O=(0,y.useIntl)(),M=(0,T.useState)(),x=g()(M,2),c=x[0],S=x[1],F=(0,T.useState)("content"),_=g()(F,2),m=_[0],d=_[1];(0,T.useEffect)(function(){(0,W.R4)(C).then(function(s){S(s)})},[C]);var u=[{key:"1",label:(0,n.jsx)("a",{onClick:function(){return y.history.push("".concat(localStorage.getItem("wf_URL"),"article/").concat(c==null?void 0:c.normalizedName))},children:(0,n.jsx)(y.FormattedMessage,{id:"general.preview"})})},{key:"2",label:(0,n.jsx)("a",{onClick:o()(r()().mark(function s(){var p;return r()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,(0,W.gY)(C);case 2:p=i.sent,p.succeeded&&E.ZP.success("Saved!");case 4:case"end":return i.stop()}},s)})),children:"Xu\u1EA5t b\u1EA3n"})},{key:"3",label:(0,n.jsx)("a",{children:"X\xF3a"}),danger:!0}];return(0,n.jsx)(K._z,{title:c==null?void 0:c.name,extra:(0,n.jsx)(b.Z,{menu:{items:u},children:(0,n.jsx)(D.Z,{icon:(0,n.jsx)(I.Z,{})})}),children:(0,n.jsxs)(w.Z,{gutter:16,children:[(0,n.jsx)($.Z,{span:18,children:(0,n.jsx)(L.Z,{tabs:{tabPosition:"top",activeKey:m,items:[{label:"Content",key:"content",children:(0,n.jsx)(Y,{})},{label:O.formatMessage({id:"menu.settings"}),key:"setting",children:(0,n.jsx)(q,{data:c})}],onChange:function(p){d(p)}}})}),(0,n.jsx)($.Z,{span:6,children:(0,n.jsx)(j.Z,{catalog:c,setCatalog:S})})]})})},ne=ee},98364:function(B,Z,e){e.d(Z,{CO:function(){return y},Ef:function(){return T},KL:function(){return K},Xr:function(){return g},Z:function(){return b},v7:function(){return w}});var A=e(15009),r=e.n(A),R=e(99289),o=e.n(R),v=e(90905);function g(a){return j.apply(this,arguments)}function j(){return j=o()(r()().mark(function a(l){return r()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,v.request)("component/".concat(l)));case 1:case"end":return t.stop()}},a)})),j.apply(this,arguments)}function W(a){return I.apply(this,arguments)}function I(){return I=_asyncToGenerator(_regeneratorRuntime().mark(function a(l){return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",request("component/add",{method:"POST",data:l}));case 1:case"end":return t.stop()}},a)})),I.apply(this,arguments)}function K(a){return L.apply(this,arguments)}function L(){return L=o()(r()().mark(function a(l){return r()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,v.request)("component/update",{method:"POST",data:l}));case 1:case"end":return t.stop()}},a)})),L.apply(this,arguments)}function y(a){return E.apply(this,arguments)}function E(){return E=o()(r()().mark(function a(l){return r()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,v.request)("component/list",{params:l}));case 1:case"end":return t.stop()}},a)})),E.apply(this,arguments)}function b(a,l){return D.apply(this,arguments)}function D(){return D=o()(r()().mark(function a(l,f){return r()().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.abrupt("return",(0,v.request)("component/list-work/".concat(f),{params:l}));case 1:case"end":return h.stop()}},a)})),D.apply(this,arguments)}function w(a){return $.apply(this,arguments)}function $(){return $=o()(r()().mark(function a(l){return r()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,v.request)("component/delete/".concat(l),{method:"POST"}));case 1:case"end":return t.stop()}},a)})),$.apply(this,arguments)}function T(a){return U.apply(this,arguments)}function U(){return U=o()(r()().mark(function a(l){var f;return r()().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return f={searchTerm:l.keyWords},h.abrupt("return",(0,v.request)("component/form-select",{params:f}));case 2:case"end":return h.stop()}},a)})),U.apply(this,arguments)}}}]);
