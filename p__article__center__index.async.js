"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[6122],{76131:function(ne,L,n){var W=n(5574),r=n.n(W),K=n(98364),a=n(99351),p=n(5966),i=n(64317),y=n(62435),Z=n(86074),A=function(P){var G=(0,y.useState)(),D=r()(G,2),V=D[0],_=D[1];return(0,y.useEffect)(function(){(0,K.eB)().then(function(l){_(l.map(function(v){return{label:v.name,value:v.id}}))})},[]),(0,Z.jsxs)(a.Y,{open:P.open,title:"Add component",onFinish:P.onFinish,onOpenChange:P.onOpenChange,children:[(0,Z.jsx)(p.Z,{name:"name",label:"Name"}),(0,Z.jsx)(i.Z,{showSearch:!0,options:V,name:"componentId",label:"Component"})]})};L.Z=A},13296:function(ne,L,n){n.r(L),n.d(L,{default:function(){return Se}});var W=n(97857),r=n.n(W),K=n(15009),a=n.n(K),p=n(99289),i=n.n(p),y=n(5574),Z=n.n(y),A=n(20385),Q=n(88484),P=n(97269),G=n(5966),D=n(99351),V=n(22538),_=n(90905),l=n(27790),v=n(31365),T=n(71577),d=n(55241),F=n(78613),R=n(62435),e=n(86074),C=function($){var w=(0,_.useIntl)(),U=(0,R.useRef)(),H={name:"file",action:A.kE,accept:"image/png, image/jpeg",onChange:function(h){if(h.file.status!=="uploading"&&console.log(h.file,h.fileList),h.file.status==="done"){var S;l.ZP.success("".concat(h.file.name," file uploaded successfully")),(S=U.current)===null||S===void 0||S.reload()}else h.file.status==="error"&&l.ZP.error("".concat(h.file.name," file upload failed."))}},B=function(){var b=i()(a()().mark(function h(S){var z,N;return a()().wrap(function(X){for(;;)switch(X.prev=X.next){case 0:return X.next=2,(0,A.tg)(S.url);case 2:z=X.sent,z.succeeded&&(l.ZP.success("Uploaded!"),(N=U.current)===null||N===void 0||N.reload());case 4:case"end":return X.stop()}},h)}));return function(S){return b.apply(this,arguments)}}(),o=(0,e.jsx)(P.A,{onFinish:B,children:(0,e.jsx)(G.Z,{name:"url",rules:[{required:!0}],placeholder:"URL"})});return(0,e.jsx)(D.Y,{open:$.open,onOpenChange:$.onOpenChange,children:(0,e.jsx)(V.Rs,{ghost:!0,toolBarRender:function(){return[(0,R.createElement)(v.Z,r()(r()({},H),{},{key:0}),(0,e.jsx)(T.Z,{icon:(0,e.jsx)(Q.Z,{}),type:"primary",children:"Upload"})),(0,e.jsx)(d.Z,{trigger:"click",content:o,title:"Upload Via URL",children:(0,e.jsx)(T.Z,{icon:(0,e.jsx)(Q.Z,{}),onClick:B,children:"Via URL"})},2)]},headerTitle:w.formatMessage({id:"menu.fileManager"}),request:function(h){return(0,A.V6)(r()({},h),[".png",".jpg"])},search:{layout:"vertical"},pagination:{pageSize:6},grid:{column:3},onItem:function(h){return{onClick:function(){$.onSelect(h)}}},metas:{content:{dataIndex:"name",title:"Name",render:function(h,S){return(0,e.jsx)(F.Z,{src:S.url,height:100,preview:!1})}}},actionRef:U})})},g=C,u=n(61614),M=n(5251),Y=n(13728),te=n(86548),J=n(48689),s=n(62884),f=n(30029),m=n(13013),t=n(71230),le=n(15746),ce=n(26713),de=n(32983),oe=n(96074),ae=n(27511),me=n(22850),pe=n(76131),re=n(66352),fe=n(24969),_e=n(40666),he=n(64317),ve=n(86738),ge=function(){var $=(0,_.useParams)(),w=$.id,U=(0,R.useRef)(),H=(0,R.useState)(!1),B=Z()(H,2),o=B[0],b=B[1],h=(0,R.useState)(!1),S=Z()(h,2),z=S[0],N=S[1],k=function(){var I=i()(a()().mark(function x(j){var E,O;return a()().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return j.catalogId=w,c.next=3,(0,re.yL)(j);case 3:E=c.sent,E.succeeded&&(l.ZP.success("Added!"),b(!1),(O=U.current)===null||O===void 0||O.reload());case 5:case"end":return c.stop()}},x)}));return function(j){return I.apply(this,arguments)}}(),X=function(){var I=i()(a()().mark(function x(j){var E,O;return a()().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,(0,re.zt)(j,w);case 2:E=c.sent,E.succeeded&&(l.ZP.success("Deleted!"),(O=U.current)===null||O===void 0||O.reload());case 4:case"end":return c.stop()}},x)}));return function(j){return I.apply(this,arguments)}}(),ue=function(){var I=i()(a()().mark(function x(j){var E,O;return a()().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,(0,re.jX)(j);case 2:E=c.sent,E.succeeded&&(l.ZP.success("Saved!"),N(!1),(O=U.current)===null||O===void 0||O.reload());case 4:case"end":return c.stop()}},x)}));return function(j){return I.apply(this,arguments)}}();return(0,e.jsxs)("div",{children:[(0,e.jsx)(V.Rs,{toolBarRender:function(){return[(0,e.jsx)(T.Z,{onClick:function(){return b(!0)},type:"primary",icon:(0,e.jsx)(fe.Z,{}),children:(0,e.jsx)(_.FormattedMessage,{id:"general.new"})},0),(0,e.jsx)(T.Z,{icon:(0,e.jsx)(_e.Z,{}),onClick:function(){return N(!0)},children:"Tag"},1)]},rowSelection:{},actionRef:U,request:i()(a()().mark(function I(){return a()().wrap(function(j){for(;;)switch(j.prev=j.next){case 0:return j.abrupt("return",(0,re.KC)(w));case 1:case"end":return j.stop()}},I)})),headerTitle:"Work items",metas:{title:{dataIndex:"name"},actions:{render:function(x,j){return[(0,e.jsx)(T.Z,{type:"primary",icon:(0,e.jsx)(te.Z,{}),onClick:function(){_.history.push("/works/".concat(j.normalizedName.toLocaleLowerCase(),"/").concat(j.id))}},1),(0,e.jsxs)(ve.Z,{title:"Are you sure?",onConfirm:function(){return X(j.id)},children:[(0,e.jsx)(T.Z,{icon:(0,e.jsx)(J.Z,{}),danger:!0,type:"primary"}),","]},4)]}}}}),(0,e.jsx)(pe.Z,{open:o,onOpenChange:b,onFinish:k}),(0,e.jsxs)(D.Y,{open:z,onOpenChange:N,onFinish:ue,children:[(0,e.jsx)(G.Z,{name:"catalogId",initialValue:w,hidden:!0}),(0,e.jsx)(he.Z,{showSearch:!0,request:re.QL,label:"Tag",name:"workContentId"})]})]})},Ce=ge,je=n(90672),ye=n(63434),Ee=function($){var w,U,H,B,o=function(){var b=i()(a()().mark(function h(S){var z;return a()().wrap(function(k){for(;;)switch(k.prev=k.next){case 0:return k.next=2,(0,u.zo)(S);case 2:z=k.sent,z.succeeded?l.ZP.success("Saved!"):l.ZP.error(z.errors[0].description);case 4:case"end":return k.stop()}},h)}));return function(S){return b.apply(this,arguments)}}();return(0,e.jsxs)(P.A,{onFinish:o,children:[(0,e.jsx)(G.Z,{name:"id",hidden:!0,initialValue:(w=$.data)===null||w===void 0?void 0:w.id}),(0,e.jsx)(G.Z,{required:!0,name:"name",label:"Name",initialValue:(U=$.data)===null||U===void 0?void 0:U.name}),(0,e.jsx)(je.Z,{name:"description",label:"Description",initialValue:(H=$.data)===null||H===void 0?void 0:H.description}),(0,e.jsx)(ye.Z,{name:"active",label:"Active",initialValue:(B=$.data)===null||B===void 0?void 0:B.active})]})},Oe=Ee,Pe=function(){var $=(0,_.useParams)(),w=$.id,U=(0,_.useIntl)(),H=(0,R.useState)(),B=Z()(H,2),o=B[0],b=B[1],h=(0,R.useState)("content"),S=Z()(h,2),z=S[0],N=S[1],k=(0,R.useState)(!1),X=Z()(k,2),ue=X[0],I=X[1];(0,R.useEffect)(function(){(0,u.R4)(w).then(function(E){b(E)})},[]);var x=[{key:"1",label:(0,e.jsx)("a",{onClick:function(){return _.history.push("".concat(localStorage.getItem("wf_URL"),"article/").concat(o==null?void 0:o.normalizedName))},children:(0,e.jsx)(_.FormattedMessage,{id:"general.preview"})})},{key:"2",label:(0,e.jsx)("a",{onClick:i()(a()().mark(function E(){var O;return a()().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,(0,u.gY)(w);case 2:O=c.sent,O.succeeded&&l.ZP.success("Saved!");case 4:case"end":return c.stop()}},E)})),children:"Xu\u1EA5t b\u1EA3n"})},{key:"3",label:(0,e.jsx)("a",{children:"X\xF3a"}),danger:!0}],j=function(){var E=i()(a()().mark(function O(q){var c,ie;return a()().wrap(function(ee){for(;;)switch(ee.prev=ee.next){case 0:if(!o){ee.next=7;break}return c=r()(r()({},o),{},{thumbnail:q.url}),ee.next=4,(0,u.r5)(c);case 4:ie=ee.sent,ie.succeeded&&(l.ZP.success("Saved!"),b(c)),I(!1);case 7:case"end":return ee.stop()}},O)}));return function(q){return E.apply(this,arguments)}}();return(0,e.jsxs)(s._z,{title:o==null?void 0:o.name,extra:(0,e.jsx)(m.Z,{menu:{items:x},children:(0,e.jsx)(T.Z,{icon:(0,e.jsx)(Y.Z,{})})}),children:[(0,e.jsxs)(t.Z,{gutter:16,children:[(0,e.jsx)(le.Z,{span:18,children:(0,e.jsx)(f.Z,{tabs:{tabPosition:"top",activeKey:z,items:[{label:"Content",key:"content",children:(0,e.jsx)(Ce,{})},{label:U.formatMessage({id:"menu.settings"}),key:"setting",children:(0,e.jsx)(Oe,{data:o})}],onChange:function(O){N(O)}}})}),(0,e.jsx)(le.Z,{span:6,children:(0,e.jsxs)(f.Z,{title:"Th\u1ED1ng k\xEA",children:[(0,e.jsxs)(ce.Z,{children:[(0,e.jsx)(T.Z,{icon:(0,e.jsx)(te.Z,{}),onClick:function(){return I(!0)}}),(0,e.jsx)(T.Z,{icon:(0,e.jsx)(J.Z,{}),danger:!0,type:"primary"})]}),(0,e.jsx)("div",{className:"flex items-center justify-center mt-4",children:o!=null&&o.thumbnail?(0,e.jsx)(F.Z,{src:(0,M.Er)(o==null?void 0:o.thumbnail),height:200,className:"object-fit-cover"}):(0,e.jsx)(de.Z,{})}),(0,e.jsx)(oe.Z,{}),(0,e.jsxs)(ae.Z,{title:"Information",column:1,children:[(0,e.jsx)(ae.Z.Item,{label:"L\u01B0\u1EE3t xem",children:o==null?void 0:o.viewCount}),(0,e.jsx)(ae.Z.Item,{label:"Created date",children:(0,M.p6)(o==null?void 0:o.createdDate)}),(0,e.jsx)(ae.Z.Item,{label:"Modified date",children:(0,M.p6)(o==null?void 0:o.modifiedDate)})]}),(0,e.jsx)(oe.Z,{}),(0,e.jsx)(me.Z.Title,{level:5,children:"Tags"})]})})]}),(0,e.jsx)(g,{open:ue,onOpenChange:I,onSelect:j})]})},Se=Pe},61614:function(ne,L,n){n.d(L,{A$:function(){return Q},BA:function(){return l},BP:function(){return Z},R4:function(){return i},S8:function(){return V},Z9:function(){return te},_V:function(){return F},gY:function(){return e},r5:function(){return M},zo:function(){return g}});var W=n(15009),r=n.n(W),K=n(99289),a=n.n(K),p=n(90905);function i(s){return y.apply(this,arguments)}function y(){return y=a()(r()().mark(function s(f){return r()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,p.request)("catalog/".concat(f)));case 1:case"end":return t.stop()}},s)})),y.apply(this,arguments)}function Z(s){return A.apply(this,arguments)}function A(){return A=a()(r()().mark(function s(f){return r()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,p.request)("catalog/add",{method:"POST",data:f}));case 1:case"end":return t.stop()}},s)})),A.apply(this,arguments)}function Q(s){return P.apply(this,arguments)}function P(){return P=a()(r()().mark(function s(f){return r()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,p.request)("catalog/list",{method:"GET",params:f}));case 1:case"end":return t.stop()}},s)})),P.apply(this,arguments)}function G(){return D.apply(this,arguments)}function D(){return D=_asyncToGenerator(_regeneratorRuntime().mark(function s(){return _regeneratorRuntime().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return m.abrupt("return",request("catalog/tree"));case 1:case"end":return m.stop()}},s)})),D.apply(this,arguments)}function V(s){return _.apply(this,arguments)}function _(){return _=a()(r()().mark(function s(f){return r()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,p.request)("catalog/delete/".concat(f),{method:"POST"}));case 1:case"end":return t.stop()}},s)})),_.apply(this,arguments)}function l(s){return v.apply(this,arguments)}function v(){return v=a()(r()().mark(function s(f){return r()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,p.request)("catalog/save",{method:"POST",data:f}));case 1:case"end":return t.stop()}},s)})),v.apply(this,arguments)}function T(s){return d.apply(this,arguments)}function d(){return d=_asyncToGenerator(_regeneratorRuntime().mark(function s(f){return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",request("catalog/tree-drop",{method:"POST",data:f}));case 1:case"end":return t.stop()}},s)})),d.apply(this,arguments)}function F(){return R.apply(this,arguments)}function R(){return R=a()(r()().mark(function s(){return r()().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return m.abrupt("return",(0,p.request)("catalog/view-count"));case 1:case"end":return m.stop()}},s)})),R.apply(this,arguments)}function e(s){return C.apply(this,arguments)}function C(){return C=a()(r()().mark(function s(f){return r()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,p.request)("catalog/active/".concat(f),{method:"POST"}));case 1:case"end":return t.stop()}},s)})),C.apply(this,arguments)}function g(s){return u.apply(this,arguments)}function u(){return u=a()(r()().mark(function s(f){return r()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,p.request)("catalog/article/save",{method:"POST",data:f}));case 1:case"end":return t.stop()}},s)})),u.apply(this,arguments)}function M(s){return Y.apply(this,arguments)}function Y(){return Y=a()(r()().mark(function s(f){return r()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,p.request)("catalog/update-thumbnail",{method:"POST",data:f}));case 1:case"end":return t.stop()}},s)})),Y.apply(this,arguments)}function te(){return J.apply(this,arguments)}function J(){return J=a()(r()().mark(function s(){return r()().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return m.abrupt("return",(0,p.request)("catalog/types"));case 1:case"end":return m.stop()}},s)})),J.apply(this,arguments)}},98364:function(ne,L,n){n.d(L,{CO:function(){return Q},Xr:function(){return i},Z:function(){return G},eB:function(){return Z},v7:function(){return V}});var W=n(15009),r=n.n(W),K=n(99289),a=n.n(K),p=n(90905);function i(l){return y.apply(this,arguments)}function y(){return y=a()(r()().mark(function l(v){return r()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.abrupt("return",(0,p.request)("component/".concat(v)));case 1:case"end":return d.stop()}},l)})),y.apply(this,arguments)}function Z(){return(0,p.request)("component/list-all")}function A(l){return request("component/add",{method:"POST",data:l})}function Q(l){return P.apply(this,arguments)}function P(){return P=a()(r()().mark(function l(v){return r()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.abrupt("return",(0,p.request)("component/list",{params:v}));case 1:case"end":return d.stop()}},l)})),P.apply(this,arguments)}function G(l,v){return D.apply(this,arguments)}function D(){return D=a()(r()().mark(function l(v,T){return r()().wrap(function(F){for(;;)switch(F.prev=F.next){case 0:return F.abrupt("return",(0,p.request)("component/list-work/".concat(T),{params:v}));case 1:case"end":return F.stop()}},l)})),D.apply(this,arguments)}function V(l){return _.apply(this,arguments)}function _(){return _=a()(r()().mark(function l(v){return r()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.abrupt("return",(0,p.request)("component/delete/".concat(v),{method:"POST"}));case 1:case"end":return d.stop()}},l)})),_.apply(this,arguments)}},20385:function(ne,L,n){n.d(L,{Ah:function(){return Q},Cq:function(){return V},V6:function(){return Z},kE:function(){return T},tg:function(){return F},z3:function(){return l}});var W=n(15009),r=n.n(W),K=n(97857),a=n.n(K),p=n(99289),i=n.n(p),y=n(90905);function Z(e,C,g){return A.apply(this,arguments)}function A(){return A=i()(r()().mark(function e(C,g,u){return r()().wrap(function(Y){for(;;)switch(Y.prev=Y.next){case 0:return Y.abrupt("return",(0,y.request)("fileExplorer/list",a()({method:"GET",params:a()({type:Object.keys(g!=null?g:[]).length>0?g==null?void 0:g.join(","):""},C)},u||{})));case 1:case"end":return Y.stop()}},e)})),A.apply(this,arguments)}function Q(e){return P.apply(this,arguments)}function P(){return P=i()(r()().mark(function e(C){return r()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.abrupt("return",(0,y.request)("fileExplorer/delete-file-content/".concat(C),{method:"POST"}));case 1:case"end":return u.stop()}},e)})),P.apply(this,arguments)}function G(e){return D.apply(this,arguments)}function D(){return D=_asyncToGenerator(_regeneratorRuntime().mark(function e(C){return _regeneratorRuntime().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.abrupt("return",request("fileExplorer/delete-file-item",{method:"POST",data:C}));case 1:case"end":return u.stop()}},e)})),D.apply(this,arguments)}function V(e){return _.apply(this,arguments)}function _(){return _=i()(r()().mark(function e(C){return r()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.abrupt("return",(0,y.request)("fileExplorer/".concat(C)));case 1:case"end":return u.stop()}},e)})),_.apply(this,arguments)}function l(e,C){return v.apply(this,arguments)}function v(){return v=i()(r()().mark(function e(C,g){return r()().wrap(function(M){for(;;)switch(M.prev=M.next){case 0:return M.abrupt("return",(0,y.request)("fileExplorer/file-items/".concat(g.id)));case 1:case"end":return M.stop()}},e)})),v.apply(this,arguments)}function T(e){return d.apply(this,arguments)}function d(){return d=i()(r()().mark(function e(C){var g;return r()().wrap(function(M){for(;;)switch(M.prev=M.next){case 0:return g=new FormData,g.append("file",C),M.abrupt("return",(0,y.request)("fileExplorer/upload",{method:"POST",data:g}));case 3:case"end":return M.stop()}},e)})),d.apply(this,arguments)}function F(e){return R.apply(this,arguments)}function R(){return R=i()(r()().mark(function e(C){return r()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.abrupt("return",(0,y.request)("fileexplorer/upload-from-url",{method:"POST",data:{url:C}}));case 1:case"end":return u.stop()}},e)})),R.apply(this,arguments)}},5251:function(ne,L,n){n.d(L,{Er:function(){return a},p6:function(){return p}});var W=n(27484),r=n.n(W);function K(i){return i.trim()}function a(i){return new URL(i||"",localStorage.getItem("wf_URL")||"").href}function p(i){return i?r()(i).format("DD/MM/YYYY hh:mm:ss"):"-"}}}]);
