"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[6122],{76131:function(z,U,e){var B=e(5574),r=e.n(B),I=e(98364),l=e(99351),g=e(5966),x=e(64317),A=e(62435),j=e(86074),T=function(E){var h=(0,A.useState)(),p=r()(h,2),L=p[0],_=p[1];return(0,A.useEffect)(function(){(0,I.eB)().then(function(K){_(K.map(function(O){return{label:O.name,value:O.id}}))})},[]),(0,j.jsxs)(l.Y,{open:E.open,title:"Component",onFinish:E.onFinish,onOpenChange:E.onOpenChange,children:[(0,j.jsx)(g.Z,{name:"name",label:"Name"}),(0,j.jsx)(x.Z,{showSearch:!0,options:L,name:"componentId",label:"Component"})]})};U.Z=T},24817:function(z,U,e){e.r(U),e.d(U,{default:function(){return ne}});var B=e(15009),r=e.n(B),I=e(99289),l=e.n(I),g=e(5574),x=e.n(g),A=e(74350),j=e(61614),T=e(13728),F=e(62884),E=e(30029),h=e(90905),p=e(27790),L=e(13013),_=e(71577),K=e(71230),O=e(15746),Z=e(62435),W=e(76131),a=e(66352),i=e(24969),m=e(86548),t=e(48689),$=e(22538),N=e(86738),n=e(86074),X=function(){var y=(0,h.useParams)(),C=y.id,P=(0,Z.useRef)(),M=(0,Z.useState)(!1),D=x()(M,2),c=D[0],S=D[1],b=function(){var v=l()(r()().mark(function d(o){var s,f;return r()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return o.catalogId=C,u.next=3,(0,a.yL)(o);case 3:s=u.sent,s.succeeded&&(p.ZP.success("Added!"),S(!1),(f=P.current)===null||f===void 0||f.reload());case 5:case"end":return u.stop()}},d)}));return function(o){return v.apply(this,arguments)}}(),R=function(){var v=l()(r()().mark(function d(o){var s,f;return r()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,(0,a.zt)(o,C);case 2:s=u.sent,s.succeeded&&(p.ZP.success("Deleted!"),(f=P.current)===null||f===void 0||f.reload());case 4:case"end":return u.stop()}},d)}));return function(o){return v.apply(this,arguments)}}();return(0,n.jsxs)("div",{children:[(0,n.jsx)($.Rs,{toolBarRender:function(){return[(0,n.jsx)(_.Z,{onClick:function(){return S(!0)},type:"primary",icon:(0,n.jsx)(i.Z,{}),children:(0,n.jsx)(h.FormattedMessage,{id:"general.new"})},0)]},rowSelection:{},actionRef:P,request:l()(r()().mark(function v(){return r()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",(0,a.KC)(C));case 1:case"end":return o.stop()}},v)})),headerTitle:"Work items",metas:{title:{dataIndex:"name"},actions:{render:function(d,o){return[(0,n.jsx)(_.Z,{type:"primary",icon:(0,n.jsx)(m.Z,{}),onClick:function(){h.history.push("/works/".concat(o.normalizedName.toLocaleLowerCase(),"/").concat(o.id))}},1),(0,n.jsxs)(N.Z,{title:"Are you sure?",onConfirm:function(){return R(o.id)},children:[(0,n.jsx)(_.Z,{icon:(0,n.jsx)(t.Z,{}),danger:!0,type:"primary"}),","]},4)]}}}}),(0,n.jsx)(W.Z,{open:c,onOpenChange:S,onFinish:b})]})},Y=X,H=e(97269),w=e(5966),J=e(90672),Q=e(63434),k=function(y){var C,P,M,D,c,S=function(){var b=l()(r()().mark(function R(v){var d;return r()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,(0,j.zo)(v);case 2:d=s.sent,d.succeeded?p.ZP.success("Saved!"):p.ZP.error(d.errors[0].description);case 4:case"end":return s.stop()}},R)}));return function(v){return b.apply(this,arguments)}}();return(0,n.jsxs)(H.A,{onFinish:S,children:[(0,n.jsx)(w.Z,{name:"id",hidden:!0,initialValue:(C=y.data)===null||C===void 0?void 0:C.id}),(0,n.jsx)(w.Z,{required:!0,name:"name",label:"Name",initialValue:(P=y.data)===null||P===void 0?void 0:P.name}),(0,n.jsx)(J.Z,{name:"description",label:"Description",initialValue:(M=y.data)===null||M===void 0?void 0:M.description}),(0,n.jsx)(w.Z,{name:"thumbnail",label:"Thumbnail",initialValue:(D=y.data)===null||D===void 0?void 0:D.thumbnail}),(0,n.jsx)(Q.Z,{name:"active",label:"Active",initialValue:(c=y.data)===null||c===void 0?void 0:c.active})]})},q=k,ee=function(){var y=(0,h.useParams)(),C=y.id,P=(0,h.useIntl)(),M=(0,Z.useState)(),D=x()(M,2),c=D[0],S=D[1],b=(0,Z.useState)("content"),R=x()(b,2),v=R[0],d=R[1];(0,Z.useEffect)(function(){(0,j.R4)(C).then(function(s){S(s)})},[C]);var o=[{key:"1",label:(0,n.jsx)("a",{onClick:function(){return h.history.push("".concat(localStorage.getItem("wf_URL"),"article/").concat(c==null?void 0:c.normalizedName))},children:(0,n.jsx)(h.FormattedMessage,{id:"general.preview"})})},{key:"2",label:(0,n.jsx)("a",{onClick:l()(r()().mark(function s(){var f;return r()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,(0,j.gY)(C);case 2:f=u.sent,f.succeeded&&p.ZP.success("Saved!");case 4:case"end":return u.stop()}},s)})),children:"Xu\u1EA5t b\u1EA3n"})},{key:"3",label:(0,n.jsx)("a",{children:"X\xF3a"}),danger:!0}];return(0,n.jsx)(F._z,{title:c==null?void 0:c.name,extra:(0,n.jsx)(L.Z,{menu:{items:o},children:(0,n.jsx)(_.Z,{icon:(0,n.jsx)(T.Z,{})})}),children:(0,n.jsxs)(K.Z,{gutter:16,children:[(0,n.jsx)(O.Z,{span:18,children:(0,n.jsx)(E.Z,{tabs:{tabPosition:"top",activeKey:v,items:[{label:"Content",key:"content",children:(0,n.jsx)(Y,{})},{label:P.formatMessage({id:"menu.settings"}),key:"setting",children:(0,n.jsx)(q,{data:c})}],onChange:function(f){d(f)}}})}),(0,n.jsx)(O.Z,{span:6,children:(0,n.jsx)(A.Z,{catalog:c,setCatalog:S})})]})})},ne=ee},98364:function(z,U,e){e.d(U,{CO:function(){return L},KL:function(){return h},Xr:function(){return x},Z:function(){return K},eB:function(){return j},v7:function(){return Z}});var B=e(15009),r=e.n(B),I=e(99289),l=e.n(I),g=e(90905);function x(a){return A.apply(this,arguments)}function A(){return A=l()(r()().mark(function a(i){return r()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,g.request)("component/".concat(i)));case 1:case"end":return t.stop()}},a)})),A.apply(this,arguments)}function j(){return T.apply(this,arguments)}function T(){return T=l()(r()().mark(function a(){return r()().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return m.abrupt("return",(0,g.request)("component/list-all"));case 1:case"end":return m.stop()}},a)})),T.apply(this,arguments)}function F(a){return E.apply(this,arguments)}function E(){return E=_asyncToGenerator(_regeneratorRuntime().mark(function a(i){return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",request("component/add",{method:"POST",data:i}));case 1:case"end":return t.stop()}},a)})),E.apply(this,arguments)}function h(a){return p.apply(this,arguments)}function p(){return p=l()(r()().mark(function a(i){return r()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,g.request)("component/update",{method:"POST",data:i}));case 1:case"end":return t.stop()}},a)})),p.apply(this,arguments)}function L(a){return _.apply(this,arguments)}function _(){return _=l()(r()().mark(function a(i){return r()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,g.request)("component/list",{params:i}));case 1:case"end":return t.stop()}},a)})),_.apply(this,arguments)}function K(a,i){return O.apply(this,arguments)}function O(){return O=l()(r()().mark(function a(i,m){return r()().wrap(function($){for(;;)switch($.prev=$.next){case 0:return $.abrupt("return",(0,g.request)("component/list-work/".concat(m),{params:i}));case 1:case"end":return $.stop()}},a)})),O.apply(this,arguments)}function Z(a){return W.apply(this,arguments)}function W(){return W=l()(r()().mark(function a(i){return r()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,g.request)("component/delete/".concat(i),{method:"POST"}));case 1:case"end":return t.stop()}},a)})),W.apply(this,arguments)}}}]);
