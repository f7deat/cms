"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[6122],{76131:function(ne,I,e){var B=e(5574),r=e.n(B),$=e(98364),a=e(99351),f=e(5966),i=e(64317),C=e(62435),R=e(86074),x=function(j){var V=(0,C.useState)(),P=r()(V,2),F=P[0],U=P[1];return(0,C.useEffect)(function(){(0,$.eB)().then(function(E){U(E.map(function(l){return{label:l.name,value:l.id}}))})},[]),(0,R.jsxs)(a.Y,{open:j.open,title:"Add component",onFinish:j.onFinish,onOpenChange:j.onOpenChange,children:[(0,R.jsx)(f.Z,{name:"name",label:"Name"}),(0,R.jsx)(i.Z,{showSearch:!0,options:F,name:"componentId",label:"Component"})]})};I.Z=x},24817:function(ne,I,e){e.r(I),e.d(I,{default:function(){return Oe}});var B=e(97857),r=e.n(B),$=e(15009),a=e.n($),f=e(99289),i=e.n(f),C=e(5574),R=e.n(C),x=e(12873),L=e(61614),j=e(5251),V=e(13728),P=e(86548),F=e(48689),U=e(62884),E=e(30029),l=e(90905),g=e(27790),h=e(13013),M=e(71577),W=e(71230),m=e(15746),v=e(26713),A=e(32983),o=e(78613),O=e(96074),u=e(27511),ue=e(22850),w=e(62435),s=e(76131),_=e(66352),c=e(24969),t=e(40666),oe=e(22538),ie=e(99351),le=e(5966),_e=e(64317),de=e(86738),n=e(86074),T=function(){var Q=(0,l.useParams)(),G=Q.id,z=(0,w.useRef)(),q=(0,w.useState)(!1),Y=R()(q,2),d=Y[0],H=Y[1],re=(0,w.useState)(!1),J=R()(re,2),ee=J[0],te=J[1],X=function(){var K=i()(a()().mark(function Z(D){var y,S;return a()().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return D.catalogId=G,p.next=3,(0,_.yL)(D);case 3:y=p.sent,y.succeeded&&(g.ZP.success("Added!"),H(!1),(S=z.current)===null||S===void 0||S.reload());case 5:case"end":return p.stop()}},Z)}));return function(D){return K.apply(this,arguments)}}(),ce=function(){var K=i()(a()().mark(function Z(D){var y,S;return a()().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return p.next=2,(0,_.zt)(D,G);case 2:y=p.sent,y.succeeded&&(g.ZP.success("Deleted!"),(S=z.current)===null||S===void 0||S.reload());case 4:case"end":return p.stop()}},Z)}));return function(D){return K.apply(this,arguments)}}(),me=function(){var K=i()(a()().mark(function Z(D){var y,S;return a()().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return p.next=2,(0,_.jX)(D);case 2:y=p.sent,y.succeeded&&(g.ZP.success("Saved!"),te(!1),(S=z.current)===null||S===void 0||S.reload());case 4:case"end":return p.stop()}},Z)}));return function(D){return K.apply(this,arguments)}}();return(0,n.jsxs)("div",{children:[(0,n.jsx)(oe.Rs,{toolBarRender:function(){return[(0,n.jsx)(M.Z,{onClick:function(){return H(!0)},type:"primary",icon:(0,n.jsx)(c.Z,{}),children:(0,n.jsx)(l.FormattedMessage,{id:"general.new"})},0),(0,n.jsx)(M.Z,{icon:(0,n.jsx)(t.Z,{}),onClick:function(){return te(!0)},children:"Tag"},1)]},rowSelection:{},actionRef:z,request:i()(a()().mark(function K(){return a()().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:return D.abrupt("return",(0,_.KC)(G));case 1:case"end":return D.stop()}},K)})),headerTitle:"Work items",metas:{title:{dataIndex:"name"},actions:{render:function(Z,D){return[(0,n.jsx)(M.Z,{type:"primary",icon:(0,n.jsx)(P.Z,{}),onClick:function(){l.history.push("/works/".concat(D.normalizedName.toLocaleLowerCase(),"/").concat(D.id))}},1),(0,n.jsxs)(de.Z,{title:"Are you sure?",onConfirm:function(){return ce(D.id)},children:[(0,n.jsx)(M.Z,{icon:(0,n.jsx)(F.Z,{}),danger:!0,type:"primary"}),","]},4)]}}}}),(0,n.jsx)(s.Z,{open:d,onOpenChange:H,onFinish:X}),(0,n.jsxs)(ie.Y,{open:ee,onOpenChange:te,onFinish:me,children:[(0,n.jsx)(le.Z,{name:"catalogId",initialValue:G,hidden:!0}),(0,n.jsx)(_e.Z,{showSearch:!0,request:_.QL,label:"Tag",name:"workContentId"})]})]})},b=T,k=e(97269),pe=e(90672),N=e(63434),ve=function(Q){var G,z,q,Y,d=function(){var H=i()(a()().mark(function re(J){var ee;return a()().wrap(function(X){for(;;)switch(X.prev=X.next){case 0:return X.next=2,(0,L.zo)(J);case 2:ee=X.sent,ee.succeeded?g.ZP.success("Saved!"):g.ZP.error(ee.errors[0].description);case 4:case"end":return X.stop()}},re)}));return function(J){return H.apply(this,arguments)}}();return(0,n.jsxs)(k.A,{onFinish:d,children:[(0,n.jsx)(le.Z,{name:"id",hidden:!0,initialValue:(G=Q.data)===null||G===void 0?void 0:G.id}),(0,n.jsx)(le.Z,{required:!0,name:"name",label:"Name",initialValue:(z=Q.data)===null||z===void 0?void 0:z.name}),(0,n.jsx)(pe.Z,{name:"description",label:"Description",initialValue:(q=Q.data)===null||q===void 0?void 0:q.description}),(0,n.jsx)(N.Z,{name:"active",label:"Active",initialValue:(Y=Q.data)===null||Y===void 0?void 0:Y.active})]})},Ee=ve,ge=function(){var Q=(0,l.useParams)(),G=Q.id,z=(0,l.useIntl)(),q=(0,w.useState)(),Y=R()(q,2),d=Y[0],H=Y[1],re=(0,w.useState)("content"),J=R()(re,2),ee=J[0],te=J[1],X=(0,w.useState)(!1),ce=R()(X,2),me=ce[0],K=ce[1];(0,w.useEffect)(function(){(0,L.R4)(G).then(function(y){H(y)})},[]);var Z=[{key:"1",label:(0,n.jsx)("a",{onClick:function(){return l.history.push("".concat(localStorage.getItem("wf_URL"),"article/").concat(d==null?void 0:d.normalizedName))},children:(0,n.jsx)(l.FormattedMessage,{id:"general.preview"})})},{key:"2",label:(0,n.jsx)("a",{onClick:i()(a()().mark(function y(){var S;return a()().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return p.next=2,(0,L.gY)(G);case 2:S=p.sent,S.succeeded&&g.ZP.success("Saved!");case 4:case"end":return p.stop()}},y)})),children:"Xu\u1EA5t b\u1EA3n"})},{key:"3",label:(0,n.jsx)("a",{children:"X\xF3a"}),danger:!0}],D=function(){var y=i()(a()().mark(function S(ae){var p,he;return a()().wrap(function(se){for(;;)switch(se.prev=se.next){case 0:if(!d){se.next=7;break}return p=r()(r()({},d),{},{thumbnail:ae.url}),se.next=4,(0,L.r5)(p);case 4:he=se.sent,he.succeeded&&(g.ZP.success("Saved!"),H(p)),K(!1);case 7:case"end":return se.stop()}},S)}));return function(ae){return y.apply(this,arguments)}}();return(0,n.jsxs)(U._z,{title:d==null?void 0:d.name,extra:(0,n.jsx)(h.Z,{menu:{items:Z},children:(0,n.jsx)(M.Z,{icon:(0,n.jsx)(V.Z,{})})}),children:[(0,n.jsxs)(W.Z,{gutter:16,children:[(0,n.jsx)(m.Z,{span:18,children:(0,n.jsx)(E.Z,{tabs:{tabPosition:"top",activeKey:ee,items:[{label:"Content",key:"content",children:(0,n.jsx)(b,{})},{label:z.formatMessage({id:"menu.settings"}),key:"setting",children:(0,n.jsx)(Ee,{data:d})}],onChange:function(S){te(S)}}})}),(0,n.jsx)(m.Z,{span:6,children:(0,n.jsxs)(E.Z,{title:"Th\u1ED1ng k\xEA",children:[(0,n.jsxs)(v.Z,{children:[(0,n.jsx)(M.Z,{icon:(0,n.jsx)(P.Z,{}),onClick:function(){return K(!0)}}),(0,n.jsx)(M.Z,{icon:(0,n.jsx)(F.Z,{}),danger:!0,type:"primary"})]}),(0,n.jsx)("div",{className:"flex items-center justify-center mt-4",children:d!=null&&d.thumbnail?(0,n.jsx)(o.Z,{src:(0,j.Er)(d==null?void 0:d.thumbnail),height:200,className:"object-fit-cover"}):(0,n.jsx)(A.Z,{})}),(0,n.jsx)(O.Z,{}),(0,n.jsxs)(u.Z,{title:"Information",column:1,children:[(0,n.jsx)(u.Z.Item,{label:"L\u01B0\u1EE3t xem",children:d==null?void 0:d.viewCount}),(0,n.jsx)(u.Z.Item,{label:"Created date",children:(0,j.p6)(d==null?void 0:d.createdDate)}),(0,n.jsx)(u.Z.Item,{label:"Modified date",children:(0,j.p6)(d==null?void 0:d.modifiedDate)})]}),(0,n.jsx)(O.Z,{}),(0,n.jsx)(ue.Z.Title,{level:5,children:"Tags"})]})})]}),(0,n.jsx)(x.Z,{open:me,onOpenChange:K,onSelect:D})]})},Oe=ge},12873:function(ne,I,e){var B=e(97857),r=e.n(B),$=e(15009),a=e.n($),f=e(99289),i=e.n(f),C=e(5574),R=e.n(C),x=e(20385),L=e(73403),j=e(88484),V=e(99611),P=e(48689),F=e(13728),U=e(99351),E=e(22538),l=e(90905),g=e(27790),h=e(75527),M=e(69677),W=e(71577),m=e(31365),v=e(26713),A=e(13013),o=e(86738),O=e(62435),u=e(86074),ue=function(s){var _=(0,l.useIntl)(),c=(0,O.useRef)(),t=(0,O.useState)(),oe=R()(t,2),ie=oe[0],le=oe[1],_e={name:"file",action:x.kE,onChange:function(T){if(T.file.status!=="uploading"&&console.log(T.file,T.fileList),T.file.status==="done"){var b;g.ZP.success("".concat(T.file.name," file uploaded successfully")),(b=c.current)===null||b===void 0||b.reload()}else T.file.status==="error"&&g.ZP.error("".concat(T.file.name," file upload failed."))}},de=function(){var n=i()(a()().mark(function T(){var b,k;return a()().wrap(function(N){for(;;)switch(N.prev=N.next){case 0:if(ie){N.next=2;break}return N.abrupt("return");case 2:return N.next=4,(0,x.tg)(ie);case 4:b=N.sent,b.succeeded&&(g.ZP.success("Uploaded!"),(k=c.current)===null||k===void 0||k.reload());case 6:case"end":return N.stop()}},T)}));return function(){return n.apply(this,arguments)}}();return(0,u.jsxs)(U.Y,{open:s.open,onOpenChange:s.onOpenChange,onFinish:s.onFinish,submitter:!1,children:[(0,u.jsx)("div",{className:"mb-4",children:(0,u.jsxs)(h.Z,{children:[(0,u.jsx)(h.Z.Item,{href:"",children:(0,u.jsx)(L.Z,{})}),(0,u.jsx)(h.Z.Item,{href:"",children:"Home"})]})}),(0,u.jsxs)(M.Z.Group,{compact:!0,className:"mb-4",children:[(0,u.jsx)(M.Z,{style:{width:"calc(100% - 200px)"},onChange:function(T){return le(T.currentTarget.value)}}),(0,u.jsx)(W.Z,{type:"primary",onClick:de,children:"Quick add"})]}),(0,u.jsx)(E.Rs,{toolBarRender:function(){return[(0,O.createElement)(m.Z,r()(r()({},_e),{},{key:0}),(0,u.jsx)(W.Z,{icon:(0,u.jsx)(j.Z,{}),type:"primary",children:"Upload"}))]},headerTitle:_.formatMessage({id:"menu.fileManager"}),request:x.V6,rowSelection:{},search:{layout:"vertical"},pagination:{pageSize:5},metas:{title:{dataIndex:"name",title:"Name",render:function(T,b){return(0,u.jsx)("a",{onClick:function(){s.onSelect&&(b.url=new URL(b.url,localStorage.getItem("wf_URL")||"").href,s.onSelect(b))},children:T})}},description:{search:!1,render:function(T,b){return(0,u.jsxs)(v.Z,{children:[(0,u.jsx)("span",{children:b.type}),(0,u.jsx)("span",{children:"|"}),(0,u.jsxs)("span",{children:[(b.size/1024).toFixed(2)," KB"]})]})}},actions:{render:function(T,b){return(0,u.jsx)(A.Z,{menu:{items:[{key:1,label:(0,u.jsxs)(v.Z,{onClick:function(){return l.history.push("/files/center/".concat(b.id))},children:[(0,u.jsx)(V.Z,{}),(0,u.jsx)(l.FormattedMessage,{id:"general.preview"})]})},{key:2,label:(0,u.jsx)(o.Z,{title:"Are you sure?",children:(0,u.jsxs)(v.Z,{children:[(0,u.jsx)(P.Z,{}),"Delete"]})}),danger:!0}]},children:(0,u.jsx)(W.Z,{icon:(0,u.jsx)(F.Z,{}),type:"link",size:"small"})})}}},actionRef:c})]})};I.Z=ue},61614:function(ne,I,e){e.d(I,{A$:function(){return L},BA:function(){return E},BP:function(){return R},R4:function(){return i},S8:function(){return F},Z9:function(){return ue},_V:function(){return M},gY:function(){return m},r5:function(){return O},zo:function(){return A}});var B=e(15009),r=e.n(B),$=e(99289),a=e.n($),f=e(90905);function i(s){return C.apply(this,arguments)}function C(){return C=a()(r()().mark(function s(_){return r()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,f.request)("catalog/".concat(_)));case 1:case"end":return t.stop()}},s)})),C.apply(this,arguments)}function R(s){return x.apply(this,arguments)}function x(){return x=a()(r()().mark(function s(_){return r()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,f.request)("catalog/add",{method:"POST",data:_}));case 1:case"end":return t.stop()}},s)})),x.apply(this,arguments)}function L(s){return j.apply(this,arguments)}function j(){return j=a()(r()().mark(function s(_){return r()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,f.request)("catalog/list",{method:"GET",params:_}));case 1:case"end":return t.stop()}},s)})),j.apply(this,arguments)}function V(){return P.apply(this,arguments)}function P(){return P=_asyncToGenerator(_regeneratorRuntime().mark(function s(){return _regeneratorRuntime().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.abrupt("return",request("catalog/tree"));case 1:case"end":return c.stop()}},s)})),P.apply(this,arguments)}function F(s){return U.apply(this,arguments)}function U(){return U=a()(r()().mark(function s(_){return r()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,f.request)("catalog/delete/".concat(_),{method:"POST"}));case 1:case"end":return t.stop()}},s)})),U.apply(this,arguments)}function E(s){return l.apply(this,arguments)}function l(){return l=a()(r()().mark(function s(_){return r()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,f.request)("catalog/save",{method:"POST",data:_}));case 1:case"end":return t.stop()}},s)})),l.apply(this,arguments)}function g(s){return h.apply(this,arguments)}function h(){return h=_asyncToGenerator(_regeneratorRuntime().mark(function s(_){return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",request("catalog/tree-drop",{method:"POST",data:_}));case 1:case"end":return t.stop()}},s)})),h.apply(this,arguments)}function M(){return W.apply(this,arguments)}function W(){return W=a()(r()().mark(function s(){return r()().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.abrupt("return",(0,f.request)("catalog/view-count"));case 1:case"end":return c.stop()}},s)})),W.apply(this,arguments)}function m(s){return v.apply(this,arguments)}function v(){return v=a()(r()().mark(function s(_){return r()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,f.request)("catalog/active/".concat(_),{method:"POST"}));case 1:case"end":return t.stop()}},s)})),v.apply(this,arguments)}function A(s){return o.apply(this,arguments)}function o(){return o=a()(r()().mark(function s(_){return r()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,f.request)("catalog/article/save",{method:"POST",data:_}));case 1:case"end":return t.stop()}},s)})),o.apply(this,arguments)}function O(s){return u.apply(this,arguments)}function u(){return u=a()(r()().mark(function s(_){return r()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,f.request)("catalog/update-thumbnail",{method:"POST",data:_}));case 1:case"end":return t.stop()}},s)})),u.apply(this,arguments)}function ue(){return w.apply(this,arguments)}function w(){return w=a()(r()().mark(function s(){return r()().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.abrupt("return",(0,f.request)("catalog/types"));case 1:case"end":return c.stop()}},s)})),w.apply(this,arguments)}},98364:function(ne,I,e){e.d(I,{CO:function(){return L},Xr:function(){return i},Z:function(){return V},eB:function(){return R},v7:function(){return F}});var B=e(15009),r=e.n(B),$=e(99289),a=e.n($),f=e(90905);function i(E){return C.apply(this,arguments)}function C(){return C=a()(r()().mark(function E(l){return r()().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.abrupt("return",(0,f.request)("component/".concat(l)));case 1:case"end":return h.stop()}},E)})),C.apply(this,arguments)}function R(){return(0,f.request)("component/list-all")}function x(E){return request("component/add",{method:"POST",data:E})}function L(){return j.apply(this,arguments)}function j(){return j=a()(r()().mark(function E(){return r()().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return g.abrupt("return",(0,f.request)("component/list"));case 1:case"end":return g.stop()}},E)})),j.apply(this,arguments)}function V(E,l){return P.apply(this,arguments)}function P(){return P=a()(r()().mark(function E(l,g){return r()().wrap(function(M){for(;;)switch(M.prev=M.next){case 0:return M.abrupt("return",(0,f.request)("component/list-work/".concat(g),{params:l}));case 1:case"end":return M.stop()}},E)})),P.apply(this,arguments)}function F(E){return U.apply(this,arguments)}function U(){return U=a()(r()().mark(function E(l){return r()().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.abrupt("return",(0,f.request)("component/delete/".concat(l),{method:"POST"}));case 1:case"end":return h.stop()}},E)})),U.apply(this,arguments)}},20385:function(ne,I,e){e.d(I,{Ah:function(){return L},Cq:function(){return F},V6:function(){return R},kE:function(){return g},tg:function(){return M},z3:function(){return E}});var B=e(15009),r=e.n(B),$=e(97857),a=e.n($),f=e(99289),i=e.n(f),C=e(90905);function R(m,v){return x.apply(this,arguments)}function x(){return x=i()(r()().mark(function m(v,A){return r()().wrap(function(O){for(;;)switch(O.prev=O.next){case 0:return O.abrupt("return",(0,C.request)("fileExplorer/list",a()({method:"GET",params:a()({},v)},A||{})));case 1:case"end":return O.stop()}},m)})),x.apply(this,arguments)}function L(m){return j.apply(this,arguments)}function j(){return j=i()(r()().mark(function m(v){return r()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",(0,C.request)("fileExplorer/delete-file-content/".concat(v),{method:"POST"}));case 1:case"end":return o.stop()}},m)})),j.apply(this,arguments)}function V(m){return P.apply(this,arguments)}function P(){return P=_asyncToGenerator(_regeneratorRuntime().mark(function m(v){return _regeneratorRuntime().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",request("fileExplorer/delete-file-item",{method:"POST",data:v}));case 1:case"end":return o.stop()}},m)})),P.apply(this,arguments)}function F(m){return U.apply(this,arguments)}function U(){return U=i()(r()().mark(function m(v){return r()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",(0,C.request)("fileExplorer/".concat(v)));case 1:case"end":return o.stop()}},m)})),U.apply(this,arguments)}function E(m,v){return l.apply(this,arguments)}function l(){return l=i()(r()().mark(function m(v,A){return r()().wrap(function(O){for(;;)switch(O.prev=O.next){case 0:return O.abrupt("return",(0,C.request)("fileExplorer/file-items/".concat(A.id)));case 1:case"end":return O.stop()}},m)})),l.apply(this,arguments)}function g(m){return h.apply(this,arguments)}function h(){return h=i()(r()().mark(function m(v){var A;return r()().wrap(function(O){for(;;)switch(O.prev=O.next){case 0:return A=new FormData,A.append("file",v),O.abrupt("return",(0,C.request)("fileExplorer/upload",{method:"POST",data:A}));case 3:case"end":return O.stop()}},m)})),h.apply(this,arguments)}function M(m){return W.apply(this,arguments)}function W(){return W=i()(r()().mark(function m(v){return r()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",(0,C.request)("fileexplorer/upload-from-url",{method:"POST",data:{url:v}}));case 1:case"end":return o.stop()}},m)})),W.apply(this,arguments)}},5251:function(ne,I,e){e.d(I,{Er:function(){return a},p6:function(){return f}});var B=e(27484),r=e.n(B);function $(i){return i.trim()}function a(i){return new URL(i||"",localStorage.getItem("wf_URL")||"").href}function f(i){return i?r()(i).format("DD/MM/YYYY hh:mm:ss"):"-"}}}]);
