"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[6122],{64317:function(Z,j,e){var p=e(1413),n=e(91),M=e(86074),a=e(22270),o=e(62435),g=e(66758),d=e(15790),O=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","showSearch","options"],D=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","options"],R=o.forwardRef(function(s,_){var c=s.fieldProps,f=s.children,i=s.params,S=s.proFieldProps,A=s.mode,l=s.valueEnum,L=s.request,I=s.showSearch,W=s.options,t=(0,n.Z)(s,O),u=(0,o.useContext)(g.Z);return(0,M.jsx)(d.Z,(0,p.Z)((0,p.Z)({valueEnum:(0,a.h)(l),request:L,params:i,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:(0,p.Z)({options:W,mode:A,showSearch:I,getPopupContainer:u.getPopupContainer},c),ref:_,proFieldProps:S},t),{},{children:f}))}),P=o.forwardRef(function(s,_){var c=s.fieldProps,f=s.children,i=s.params,S=s.proFieldProps,A=s.mode,l=s.valueEnum,L=s.request,I=s.options,W=(0,n.Z)(s,D),t=(0,p.Z)({options:I,mode:A||"multiple",labelInValue:!0,showSearch:!0,showArrow:!1,autoClearSearchValue:!0,optionLabelProp:"label"},c),u=(0,o.useContext)(g.Z);return(0,M.jsx)(d.Z,(0,p.Z)((0,p.Z)({valueEnum:(0,a.h)(l),request:L,params:i,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:(0,p.Z)({getPopupContainer:u.getPopupContainer},t),ref:_,proFieldProps:S},W),{},{children:f}))}),h=R,E=P,C=h;C.SearchSelect=E,C.displayName="ProFormComponent",j.Z=C},5966:function(Z,j,e){var p=e(1413),n=e(91),M=e(86074),a=e(15790),o=["fieldProps","proFieldProps"],g=["fieldProps","proFieldProps"],d="text",O=function(h){var E=h.fieldProps,C=h.proFieldProps,s=(0,n.Z)(h,o);return(0,M.jsx)(a.Z,(0,p.Z)({valueType:d,fieldProps:E,filedConfig:{valueType:d},proFieldProps:C},s))},D=function(h){var E=h.fieldProps,C=h.proFieldProps,s=(0,n.Z)(h,g);return(0,M.jsx)(a.Z,(0,p.Z)({valueType:"password",fieldProps:E,proFieldProps:C,filedConfig:{valueType:d}},s))},R=O;R.Password=D,R.displayName="ProFormComponent",j.Z=R},76131:function(Z,j,e){var p=e(5574),n=e.n(p),M=e(98364),a=e(99351),o=e(5966),g=e(64317),d=e(62435),O=e(86074),D=function(P){var h=(0,d.useState)(),E=n()(h,2),C=E[0],s=E[1];return(0,d.useEffect)(function(){(0,M.eB)().then(function(_){s(_.map(function(c){return{label:c.name,value:c.id}}))})},[]),(0,O.jsxs)(a.Y,{open:P.open,title:"Add component",onFinish:P.onFinish,onOpenChange:P.onOpenChange,children:[(0,O.jsx)(o.Z,{name:"name",label:"Name"}),(0,O.jsx)(g.Z,{showSearch:!0,options:C,name:"componentId",label:"Component"})]})};j.Z=D},27161:function(Z,j,e){e.r(j);var p=e(15009),n=e.n(p),M=e(99289),a=e.n(M),o=e(5574),g=e.n(o),d=e(76131),O=e(61614),D=e(66352),R=e(13728),P=e(24969),h=e(86548),E=e(48689),C=e(62884),s=e(22538),_=e(90905),c=e(27790),f=e(13013),i=e(71577),S=e(86738),A=e(62435),l=e(86074),L=function(){var W=(0,_.useParams)(),t=W.id,u=(0,A.useRef)(),m=(0,A.useState)(!1),r=g()(m,2),x=r[0],w=r[1],$=(0,A.useState)(),F=g()($,2),K=F[0],G=F[1];(0,A.useEffect)(function(){(0,O.R4)(t).then(function(U){G(U)})},[]);var N=function(){var U=a()(n()().mark(function y(v){var T,B;return n()().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return v.catalogId=t,b.next=3,(0,D.yL)(v);case 3:T=b.sent,T.succeeded&&(c.ZP.success("Added!"),w(!1),(B=u.current)===null||B===void 0||B.reload());case 5:case"end":return b.stop()}},y)}));return function(v){return U.apply(this,arguments)}}(),V=function(){var U=a()(n()().mark(function y(v){var T,B;return n()().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return b.next=2,(0,D.zt)(v,t);case 2:T=b.sent,T.succeeded&&(c.ZP.success("Deleted!"),(B=u.current)===null||B===void 0||B.reload());case 4:case"end":return b.stop()}},y)}));return function(v){return U.apply(this,arguments)}}(),z=[{key:"1",label:(0,l.jsx)("a",{onClick:function(){return _.history.push("".concat(localStorage.getItem("wf_URL"),"article/").concat(K==null?void 0:K.normalizedName))},children:(0,l.jsx)(_.FormattedMessage,{id:"general.preview"})})},{key:"2",label:(0,l.jsx)("a",{onClick:a()(n()().mark(function U(){var y;return n()().wrap(function(T){for(;;)switch(T.prev=T.next){case 0:return T.next=2,(0,O.gY)(t);case 2:y=T.sent,y.succeeded&&c.ZP.success("Saved!");case 4:case"end":return T.stop()}},U)})),children:"Xu\u1EA5t b\u1EA3n"})},{key:"3",label:(0,l.jsx)("a",{children:"X\xF3a"}),danger:!0}];return(0,l.jsxs)(C._z,{title:K==null?void 0:K.name,extra:(0,l.jsx)(f.Z,{menu:{items:z},children:(0,l.jsx)(i.Z,{icon:(0,l.jsx)(R.Z,{})})}),children:[(0,l.jsx)(s.Rs,{toolBarRender:function(){return[(0,l.jsx)(i.Z,{onClick:function(){return w(!0)},type:"primary",icon:(0,l.jsx)(P.Z,{}),children:(0,l.jsx)(_.FormattedMessage,{id:"general.new"})},0)]},rowSelection:{},actionRef:u,request:a()(n()().mark(function U(){return n()().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return v.abrupt("return",(0,D.KC)(t));case 1:case"end":return v.stop()}},U)})),headerTitle:"Work items",metas:{title:{dataIndex:"name"},actions:{render:function(y,v){return[(0,l.jsx)(i.Z,{type:"primary",icon:(0,l.jsx)(h.Z,{}),onClick:function(){_.history.push("/works/".concat(v.normalizedName.toLocaleLowerCase(),"/").concat(v.id))}},1),(0,l.jsxs)(S.Z,{title:"Are you sure?",onConfirm:function(){return V(v.id)},children:[(0,l.jsx)(i.Z,{icon:(0,l.jsx)(E.Z,{}),danger:!0,type:"primary"}),","]},4)]}}}}),(0,l.jsx)(d.Z,{open:x,onOpenChange:w,onFinish:N})]})};j.default=L},61614:function(Z,j,e){e.d(j,{A$:function(){return h},BA:function(){return f},BP:function(){return R},R4:function(){return O},S8:function(){return _},_V:function(){return l},gY:function(){return I},j7:function(){return g},jr:function(){return C},m6:function(){return S}});var p=e(15009),n=e.n(p),M=e(99289),a=e.n(M),o=e(90905);function g(t){return d.apply(this,arguments)}function d(){return d=a()(n()().mark(function t(u){return n()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,o.request)("catalog/entry/".concat(u)));case 1:case"end":return r.stop()}},t)})),d.apply(this,arguments)}function O(t){return D.apply(this,arguments)}function D(){return D=a()(n()().mark(function t(u){return n()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,o.request)("catalog/".concat(u)));case 1:case"end":return r.stop()}},t)})),D.apply(this,arguments)}function R(t){return P.apply(this,arguments)}function P(){return P=a()(n()().mark(function t(u){return n()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,o.request)("catalog/add",{method:"POST",data:u}));case 1:case"end":return r.stop()}},t)})),P.apply(this,arguments)}function h(t){return E.apply(this,arguments)}function E(){return E=a()(n()().mark(function t(u){return n()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,o.request)("catalog/list",{method:"GET",params:u}));case 1:case"end":return r.stop()}},t)})),E.apply(this,arguments)}function C(){return s.apply(this,arguments)}function s(){return s=a()(n()().mark(function t(){return n()().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return m.abrupt("return",(0,o.request)("catalog/tree"));case 1:case"end":return m.stop()}},t)})),s.apply(this,arguments)}function _(t){return c.apply(this,arguments)}function c(){return c=a()(n()().mark(function t(u){return n()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,o.request)("catalog/delete/".concat(u),{method:"POST"}));case 1:case"end":return r.stop()}},t)})),c.apply(this,arguments)}function f(t){return i.apply(this,arguments)}function i(){return i=a()(n()().mark(function t(u){return n()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,o.request)("catalog/save",{method:"POST",data:u}));case 1:case"end":return r.stop()}},t)})),i.apply(this,arguments)}function S(t){return A.apply(this,arguments)}function A(){return A=a()(n()().mark(function t(u){return n()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,o.request)("catalog/tree-drop",{method:"POST",data:u}));case 1:case"end":return r.stop()}},t)})),A.apply(this,arguments)}function l(){return L.apply(this,arguments)}function L(){return L=a()(n()().mark(function t(){return n()().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return m.abrupt("return",(0,o.request)("catalog/view-count"));case 1:case"end":return m.stop()}},t)})),L.apply(this,arguments)}function I(t){return W.apply(this,arguments)}function W(){return W=a()(n()().mark(function t(u){return n()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,o.request)("catalog/active/".concat(u),{method:"POST"}));case 1:case"end":return r.stop()}},t)})),W.apply(this,arguments)}},98364:function(Z,j,e){e.d(j,{CO:function(){return R},Xr:function(){return g},Z:function(){return h},eB:function(){return O},v7:function(){return C}});var p=e(15009),n=e.n(p),M=e(99289),a=e.n(M),o=e(90905);function g(_){return d.apply(this,arguments)}function d(){return d=a()(n()().mark(function _(c){return n()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",(0,o.request)("component/".concat(c)));case 1:case"end":return i.stop()}},_)})),d.apply(this,arguments)}function O(){return(0,o.request)("component/list-all")}function D(_){return request("component/add",{method:"POST",data:_})}function R(){return P.apply(this,arguments)}function P(){return P=a()(n()().mark(function _(){return n()().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.abrupt("return",(0,o.request)("component/list"));case 1:case"end":return f.stop()}},_)})),P.apply(this,arguments)}function h(_,c){return E.apply(this,arguments)}function E(){return E=a()(n()().mark(function _(c,f){return n()().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:return S.abrupt("return",(0,o.request)("component/list-work/".concat(f),{params:c}));case 1:case"end":return S.stop()}},_)})),E.apply(this,arguments)}function C(_){return s.apply(this,arguments)}function s(){return s=a()(n()().mark(function _(c){return n()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",(0,o.request)("component/delete/".concat(c),{method:"POST"}));case 1:case"end":return i.stop()}},_)})),s.apply(this,arguments)}}}]);
