"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[6122],{63434:function(G,y,e){var c=e(1413),r=e(91),A=e(86074),o=e(22270),p=e(32808),g=e(62435),D=e(90789),_=e(25338),h=["options","fieldProps","proFieldProps","valueEnum"],W=g.forwardRef(function(v,m){var R=v.options,f=v.fieldProps,Z=v.proFieldProps,B=v.valueEnum,t=(0,r.Z)(v,h);return(0,A.jsx)(_.Z,(0,c.Z)({ref:m,valueType:"checkbox",valueEnum:(0,o.h)(B,void 0),fieldProps:(0,c.Z)({options:R},f),lightProps:(0,c.Z)({labelFormatter:function(){return(0,A.jsx)(_.Z,(0,c.Z)({ref:m,valueType:"checkbox",mode:"read",valueEnum:(0,o.h)(B,void 0),filedConfig:{customLightMode:!0},fieldProps:(0,c.Z)({options:R},f),proFieldProps:Z},t))}},t.lightProps),proFieldProps:Z},t))}),P=g.forwardRef(function(v,m){var R=v.fieldProps,f=v.children;return(0,A.jsx)(p.Z,(0,c.Z)((0,c.Z)({ref:m},R),{},{children:f}))}),d=(0,D.G)(P,{valuePropName:"checked"}),u=d;u.Group=W,y.Z=u},90672:function(G,y,e){var c=e(1413),r=e(91),A=e(86074),o=e(62435),p=e(25338),g=["fieldProps","proFieldProps"],D=function(h,W){var P=h.fieldProps,d=h.proFieldProps,u=(0,r.Z)(h,g);return(0,A.jsx)(p.Z,(0,c.Z)({ref:W,valueType:"textarea",fieldProps:P,proFieldProps:d},u))};y.Z=o.forwardRef(D)},76131:function(G,y,e){var c=e(5574),r=e.n(c),A=e(98364),o=e(99351),p=e(5966),g=e(64317),D=e(62435),_=e(86074),h=function(P){var d=(0,D.useState)(),u=r()(d,2),v=u[0],m=u[1];return(0,D.useEffect)(function(){(0,A.eB)().then(function(R){m(R.map(function(f){return{label:f.name,value:f.id}}))})},[]),(0,_.jsxs)(o.Y,{open:P.open,title:"Add component",onFinish:P.onFinish,onOpenChange:P.onOpenChange,children:[(0,_.jsx)(p.Z,{name:"name",label:"Name"}),(0,_.jsx)(g.Z,{showSearch:!0,options:v,name:"componentId",label:"Component"})]})};y.Z=h},24817:function(G,y,e){e.r(y),e.d(y,{default:function(){return ne}});var c=e(15009),r=e.n(c),A=e(99289),o=e.n(A),p=e(5574),g=e.n(p),D=e(2343),_=e(61614),h=e(13728),W=e(62884),P=e(30029),d=e(90905),u=e(27790),v=e(13013),m=e(71577),R=e(71230),f=e(15746),Z=e(62435),B=e(76131),t=e(66352),l=e(24969),E=e(86548),a=e(48689),b=e(22538),X=e(86738),n=e(86074),Y=function(){var F=(0,d.useParams)(),x=F.id,S=(0,Z.useRef)(),I=(0,Z.useState)(!1),U=g()(I,2),j=U[0],L=U[1],$=function(){var C=o()(r()().mark(function T(s){var O,M;return r()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return s.catalogId=x,i.next=3,(0,t.yL)(s);case 3:O=i.sent,O.succeeded&&(u.ZP.success("Added!"),L(!1),(M=S.current)===null||M===void 0||M.reload());case 5:case"end":return i.stop()}},T)}));return function(s){return C.apply(this,arguments)}}(),K=function(){var C=o()(r()().mark(function T(s){var O,M;return r()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,(0,t.zt)(s,x);case 2:O=i.sent,O.succeeded&&(u.ZP.success("Deleted!"),(M=S.current)===null||M===void 0||M.reload());case 4:case"end":return i.stop()}},T)}));return function(s){return C.apply(this,arguments)}}();return(0,n.jsxs)("div",{children:[(0,n.jsx)(b.Rs,{toolBarRender:function(){return[(0,n.jsx)(m.Z,{onClick:function(){return L(!0)},type:"primary",icon:(0,n.jsx)(l.Z,{}),children:(0,n.jsx)(d.FormattedMessage,{id:"general.new"})},0)]},rowSelection:{},actionRef:S,request:o()(r()().mark(function C(){return r()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",(0,t.KC)(x));case 1:case"end":return s.stop()}},C)})),headerTitle:"Work items",metas:{title:{dataIndex:"name"},actions:{render:function(T,s){return[(0,n.jsx)(m.Z,{type:"primary",icon:(0,n.jsx)(E.Z,{}),onClick:function(){d.history.push("/works/".concat(s.normalizedName.toLocaleLowerCase(),"/").concat(s.id))}},1),(0,n.jsxs)(X.Z,{title:"Are you sure?",onConfirm:function(){return K(s.id)},children:[(0,n.jsx)(m.Z,{icon:(0,n.jsx)(a.Z,{}),danger:!0,type:"primary"}),","]},4)]}}}}),(0,n.jsx)(B.Z,{open:j,onOpenChange:L,onFinish:$})]})},w=Y,H=e(97269),z=e(5966),J=e(90672),Q=e(63434),k=function(F){var x,S,I,U,j=function(){var L=o()(r()().mark(function $(K){var C;return r()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,(0,_.zo)(K);case 2:C=s.sent,C.succeeded?u.ZP.success("Saved!"):u.ZP.error(C.errors[0].description);case 4:case"end":return s.stop()}},$)}));return function(K){return L.apply(this,arguments)}}();return(0,n.jsxs)(H.A,{onFinish:j,children:[(0,n.jsx)(z.Z,{name:"id",hidden:!0,initialValue:(x=F.data)===null||x===void 0?void 0:x.id}),(0,n.jsx)(z.Z,{required:!0,name:"name",label:"Name",initialValue:(S=F.data)===null||S===void 0?void 0:S.name}),(0,n.jsx)(J.Z,{name:"description",label:"Description",initialValue:(I=F.data)===null||I===void 0?void 0:I.description}),(0,n.jsx)(Q.Z,{name:"active",label:"Active",initialValue:(U=F.data)===null||U===void 0?void 0:U.active})]})},q=k,ee=function(){var F=(0,d.useParams)(),x=F.id,S=(0,d.useIntl)(),I=(0,Z.useState)(),U=g()(I,2),j=U[0],L=U[1],$=(0,Z.useState)("content"),K=g()($,2),C=K[0],T=K[1];(0,Z.useEffect)(function(){(0,_.R4)(x).then(function(O){L(O)})},[x]);var s=[{key:"1",label:(0,n.jsx)("a",{onClick:function(){return d.history.push("".concat(localStorage.getItem("wf_URL"),"article/").concat(j==null?void 0:j.normalizedName))},children:(0,n.jsx)(d.FormattedMessage,{id:"general.preview"})})},{key:"2",label:(0,n.jsx)("a",{onClick:o()(r()().mark(function O(){var M;return r()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,(0,_.gY)(x);case 2:M=i.sent,M.succeeded&&u.ZP.success("Saved!");case 4:case"end":return i.stop()}},O)})),children:"Xu\u1EA5t b\u1EA3n"})},{key:"3",label:(0,n.jsx)("a",{children:"X\xF3a"}),danger:!0}];return(0,n.jsx)(W._z,{title:j==null?void 0:j.name,extra:(0,n.jsx)(v.Z,{menu:{items:s},children:(0,n.jsx)(m.Z,{icon:(0,n.jsx)(h.Z,{})})}),children:(0,n.jsxs)(R.Z,{gutter:16,children:[(0,n.jsx)(f.Z,{span:18,children:(0,n.jsx)(P.Z,{tabs:{tabPosition:"top",activeKey:C,items:[{label:"Content",key:"content",children:(0,n.jsx)(w,{})},{label:S.formatMessage({id:"menu.settings"}),key:"setting",children:(0,n.jsx)(q,{data:j})}],onChange:function(M){T(M)}}})}),(0,n.jsx)(f.Z,{span:6,children:(0,n.jsx)(D.Z,{catalog:j,setCatalog:L})})]})})},ne=ee},98364:function(G,y,e){e.d(y,{CO:function(){return v},KL:function(){return d},Xr:function(){return g},Z:function(){return R},eB:function(){return _},v7:function(){return Z}});var c=e(15009),r=e.n(c),A=e(99289),o=e.n(A),p=e(90905);function g(t){return D.apply(this,arguments)}function D(){return D=o()(r()().mark(function t(l){return r()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,p.request)("component/".concat(l)));case 1:case"end":return a.stop()}},t)})),D.apply(this,arguments)}function _(){return h.apply(this,arguments)}function h(){return h=o()(r()().mark(function t(){return r()().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:return E.abrupt("return",(0,p.request)("component/list-all"));case 1:case"end":return E.stop()}},t)})),h.apply(this,arguments)}function W(t){return P.apply(this,arguments)}function P(){return P=_asyncToGenerator(_regeneratorRuntime().mark(function t(l){return _regeneratorRuntime().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",request("component/add",{method:"POST",data:l}));case 1:case"end":return a.stop()}},t)})),P.apply(this,arguments)}function d(t){return u.apply(this,arguments)}function u(){return u=o()(r()().mark(function t(l){return r()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,p.request)("component/update",{method:"POST",data:l}));case 1:case"end":return a.stop()}},t)})),u.apply(this,arguments)}function v(t){return m.apply(this,arguments)}function m(){return m=o()(r()().mark(function t(l){return r()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,p.request)("component/list",{params:l}));case 1:case"end":return a.stop()}},t)})),m.apply(this,arguments)}function R(t,l){return f.apply(this,arguments)}function f(){return f=o()(r()().mark(function t(l,E){return r()().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return b.abrupt("return",(0,p.request)("component/list-work/".concat(E),{params:l}));case 1:case"end":return b.stop()}},t)})),f.apply(this,arguments)}function Z(t){return B.apply(this,arguments)}function B(){return B=o()(r()().mark(function t(l){return r()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,p.request)("component/delete/".concat(l),{method:"POST"}));case 1:case"end":return a.stop()}},t)})),B.apply(this,arguments)}}}]);
