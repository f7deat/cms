"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[6122],{76131:function(re,A,e){var b=e(5574),n=e.n(b),L=e(98364),s=e(99351),m=e(5966),i=e(64317),C=e(62435),R=e(86074),U=function(D){var w=(0,C.useState)(),P=n()(w,2),W=P[0],y=P[1];return(0,C.useEffect)(function(){(0,L.eB)().then(function(h){y(h.map(function(o){return{label:o.name,value:o.id}}))})},[]),(0,R.jsxs)(s.Y,{open:D.open,title:"Add component",onFinish:D.onFinish,onOpenChange:D.onOpenChange,children:[(0,R.jsx)(m.Z,{name:"name",label:"Name"}),(0,R.jsx)(i.Z,{showSearch:!0,options:W,name:"componentId",label:"Component"})]})};A.Z=U},24817:function(re,A,e){e.r(A),e.d(A,{default:function(){return z}});var b=e(97857),n=e.n(b),L=e(15009),s=e.n(L),m=e(99289),i=e.n(m),C=e(5574),R=e.n(C),U=e(12873),I=e(61614),D=e(5251),w=e(13728),P=e(86548),W=e(48689),y=e(62884),h=e(30029),o=e(90905),E=e(27790),p=e(13013),j=e(71577),x=e(71230),d=e(15746),f=e(26713),S=e(32983),l=e(78613),g=e(96074),u=e(27511),a=e(62435),O=e(76131),c=e(66352),r=e(24969),se=e(22538),ie=e(86738),t=e(86074),oe=function(){var H=(0,o.useParams)(),$=H.id,V=(0,a.useRef)(),q=(0,a.useState)(!1),N=R()(q,2),_=N[0],Q=N[1],te=function(){var Z=i()(s()().mark(function K(v){var F,Y;return s()().wrap(function(B){for(;;)switch(B.prev=B.next){case 0:return v.catalogId=$,B.next=3,(0,c.yL)(v);case 3:F=B.sent,F.succeeded&&(E.ZP.success("Added!"),Q(!1),(Y=V.current)===null||Y===void 0||Y.reload());case 5:case"end":return B.stop()}},K)}));return function(v){return Z.apply(this,arguments)}}(),ee=function(){var Z=i()(s()().mark(function K(v){var F,Y;return s()().wrap(function(B){for(;;)switch(B.prev=B.next){case 0:return B.next=2,(0,c.zt)(v,$);case 2:F=B.sent,F.succeeded&&(E.ZP.success("Deleted!"),(Y=V.current)===null||Y===void 0||Y.reload());case 4:case"end":return B.stop()}},K)}));return function(v){return Z.apply(this,arguments)}}();return(0,t.jsxs)("div",{children:[(0,t.jsx)(se.Rs,{toolBarRender:function(){return[(0,t.jsx)(j.Z,{onClick:function(){return Q(!0)},type:"primary",icon:(0,t.jsx)(r.Z,{}),children:(0,t.jsx)(o.FormattedMessage,{id:"general.new"})},0)]},rowSelection:{},actionRef:V,request:i()(s()().mark(function Z(){return s()().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return v.abrupt("return",(0,c.KC)($));case 1:case"end":return v.stop()}},Z)})),headerTitle:"Work items",metas:{title:{dataIndex:"name"},actions:{render:function(K,v){return[(0,t.jsx)(j.Z,{type:"primary",icon:(0,t.jsx)(P.Z,{}),onClick:function(){o.history.push("/works/".concat(v.normalizedName.toLocaleLowerCase(),"/").concat(v.id))}},1),(0,t.jsxs)(ie.Z,{title:"Are you sure?",onConfirm:function(){return ee(v.id)},children:[(0,t.jsx)(j.Z,{icon:(0,t.jsx)(W.Z,{}),danger:!0,type:"primary"}),","]},4)]}}}}),(0,t.jsx)(O.Z,{open:_,onOpenChange:Q,onFinish:te})]})},ce=oe,_e=e(97269),le=e(5966),G=e(90672),M=e(63434),T=function(H){var $,V,q,N,_=function(){var Q=i()(s()().mark(function te(ee){var Z;return s()().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return v.next=2,(0,I.zo)(ee);case 2:Z=v.sent,Z.succeeded?E.ZP.success("Saved!"):E.ZP.error(Z.errors[0].description);case 4:case"end":return v.stop()}},te)}));return function(ee){return Q.apply(this,arguments)}}();return(0,t.jsxs)(_e.A,{onFinish:_,children:[(0,t.jsx)(le.Z,{name:"id",hidden:!0,initialValue:($=H.data)===null||$===void 0?void 0:$.id}),(0,t.jsx)(le.Z,{required:!0,name:"name",label:"Name",initialValue:(V=H.data)===null||V===void 0?void 0:V.name}),(0,t.jsx)(G.Z,{name:"description",label:"Description",initialValue:(q=H.data)===null||q===void 0?void 0:q.description}),(0,t.jsx)(M.Z,{name:"active",label:"Active",initialValue:(N=H.data)===null||N===void 0?void 0:N.active})]})},k=T,me=function(){var H=(0,o.useParams)(),$=H.id,V=(0,o.useIntl)(),q=(0,a.useState)(),N=R()(q,2),_=N[0],Q=N[1],te=(0,a.useState)("content"),ee=R()(te,2),Z=ee[0],K=ee[1],v=(0,a.useState)(!1),F=R()(v,2),Y=F[0],ue=F[1];(0,a.useEffect)(function(){(0,I.R4)($).then(function(J){Q(J)})},[]);var B=[{key:"1",label:(0,t.jsx)("a",{onClick:function(){return o.history.push("".concat(localStorage.getItem("wf_URL"),"article/").concat(_==null?void 0:_.normalizedName))},children:(0,t.jsx)(o.FormattedMessage,{id:"general.preview"})})},{key:"2",label:(0,t.jsx)("a",{onClick:i()(s()().mark(function J(){var ne;return s()().wrap(function(X){for(;;)switch(X.prev=X.next){case 0:return X.next=2,(0,I.gY)($);case 2:ne=X.sent,ne.succeeded&&E.ZP.success("Saved!");case 4:case"end":return X.stop()}},J)})),children:"Xu\u1EA5t b\u1EA3n"})},{key:"3",label:(0,t.jsx)("a",{children:"X\xF3a"}),danger:!0}],he=function(){var J=i()(s()().mark(function ne(de){var X,fe;return s()().wrap(function(ae){for(;;)switch(ae.prev=ae.next){case 0:if(!_){ae.next=7;break}return X=n()(n()({},_),{},{thumbnail:de.url}),ae.next=4,(0,I.r5)(X);case 4:fe=ae.sent,fe.succeeded&&(E.ZP.success("Saved!"),Q(X)),ue(!1);case 7:case"end":return ae.stop()}},ne)}));return function(de){return J.apply(this,arguments)}}();return(0,t.jsxs)(y._z,{title:_==null?void 0:_.name,extra:(0,t.jsx)(p.Z,{menu:{items:B},children:(0,t.jsx)(j.Z,{icon:(0,t.jsx)(w.Z,{})})}),children:[(0,t.jsxs)(x.Z,{gutter:16,children:[(0,t.jsx)(d.Z,{span:18,children:(0,t.jsx)(h.Z,{tabs:{tabPosition:"top",activeKey:Z,items:[{label:"Content",key:"content",children:(0,t.jsx)(ce,{})},{label:V.formatMessage({id:"menu.settings"}),key:"setting",children:(0,t.jsx)(k,{data:_})}],onChange:function(ne){K(ne)}}})}),(0,t.jsx)(d.Z,{span:6,children:(0,t.jsxs)(h.Z,{title:"Th\u1ED1ng k\xEA",children:[(0,t.jsxs)(f.Z,{children:[(0,t.jsx)(j.Z,{icon:(0,t.jsx)(P.Z,{}),onClick:function(){return ue(!0)}}),(0,t.jsx)(j.Z,{icon:(0,t.jsx)(W.Z,{}),danger:!0,type:"primary"})]}),(0,t.jsx)("div",{className:"flex items-center justify-center",children:_!=null&&_.thumbnail?(0,t.jsx)(l.Z,{src:(0,D.Er)(_==null?void 0:_.thumbnail),width:200,height:200}):(0,t.jsx)(S.Z,{})}),(0,t.jsx)(g.Z,{}),(0,t.jsxs)(u.Z,{title:"Information",column:1,children:[(0,t.jsx)(u.Z.Item,{label:"L\u01B0\u1EE3t xem",children:_==null?void 0:_.viewCount}),(0,t.jsx)(u.Z.Item,{label:"Created date",children:(0,D.p6)(_==null?void 0:_.createdDate)}),(0,t.jsx)(u.Z.Item,{label:"Modified date",children:(0,D.p6)(_==null?void 0:_.modifiedDate)})]})]})})]}),(0,t.jsx)(U.Z,{open:Y,onOpenChange:ue,onSelect:he})]})},z=me},12873:function(re,A,e){var b=e(97857),n=e.n(b),L=e(15009),s=e.n(L),m=e(99289),i=e.n(m),C=e(5574),R=e.n(C),U=e(20385),I=e(73403),D=e(88484),w=e(99611),P=e(48689),W=e(13728),y=e(99351),h=e(22538),o=e(90905),E=e(27790),p=e(75527),j=e(69677),x=e(71577),d=e(31365),f=e(26713),S=e(13013),l=e(86738),g=e(62435),u=e(86074),a=function(c){var r=(0,o.useIntl)(),se=(0,g.useRef)(),ie=(0,g.useState)(),t=R()(ie,2),oe=t[0],ce=t[1],_e={name:"file",action:U.kE,onChange:function(M){if(M.file.status!=="uploading"&&console.log(M.file,M.fileList),M.file.status==="done"){var T;E.ZP.success("".concat(M.file.name," file uploaded successfully")),(T=se.current)===null||T===void 0||T.reload()}else M.file.status==="error"&&E.ZP.error("".concat(M.file.name," file upload failed."))}},le=function(){var G=i()(s()().mark(function M(){var T,k;return s()().wrap(function(z){for(;;)switch(z.prev=z.next){case 0:if(oe){z.next=2;break}return z.abrupt("return");case 2:return z.next=4,(0,U.tg)(oe);case 4:T=z.sent,T.succeeded&&(E.ZP.success("Uploaded!"),(k=se.current)===null||k===void 0||k.reload());case 6:case"end":return z.stop()}},M)}));return function(){return G.apply(this,arguments)}}();return(0,u.jsxs)(y.Y,{open:c.open,onOpenChange:c.onOpenChange,onFinish:c.onFinish,submitter:!1,children:[(0,u.jsx)("div",{className:"mb-4",children:(0,u.jsxs)(p.Z,{children:[(0,u.jsx)(p.Z.Item,{href:"",children:(0,u.jsx)(I.Z,{})}),(0,u.jsx)(p.Z.Item,{href:"",children:"Home"})]})}),(0,u.jsxs)(j.Z.Group,{compact:!0,className:"mb-4",children:[(0,u.jsx)(j.Z,{style:{width:"calc(100% - 200px)"},onChange:function(M){return ce(M.currentTarget.value)}}),(0,u.jsx)(x.Z,{type:"primary",onClick:le,children:"Quick add"})]}),(0,u.jsx)(h.Rs,{toolBarRender:function(){return[(0,g.createElement)(d.Z,n()(n()({},_e),{},{key:0}),(0,u.jsx)(x.Z,{icon:(0,u.jsx)(D.Z,{}),type:"primary",children:"Upload"}))]},headerTitle:r.formatMessage({id:"menu.fileManager"}),request:U.V6,rowSelection:{},search:{layout:"vertical"},pagination:{pageSize:5},metas:{title:{dataIndex:"name",title:"Name",render:function(M,T){return(0,u.jsx)("a",{onClick:function(){c.onSelect&&(T.url=new URL(T.url,localStorage.getItem("wf_URL")||"").href,c.onSelect(T))},children:M})}},description:{search:!1,render:function(M,T){return(0,u.jsxs)(f.Z,{children:[(0,u.jsx)("span",{children:T.type}),(0,u.jsx)("span",{children:"|"}),(0,u.jsxs)("span",{children:[(T.size/1024).toFixed(2)," KB"]})]})}},actions:{render:function(M,T){return(0,u.jsx)(S.Z,{menu:{items:[{key:1,label:(0,u.jsxs)(f.Z,{onClick:function(){return o.history.push("/files/center/".concat(T.id))},children:[(0,u.jsx)(w.Z,{}),(0,u.jsx)(o.FormattedMessage,{id:"general.preview"})]})},{key:2,label:(0,u.jsx)(l.Z,{title:"Are you sure?",children:(0,u.jsxs)(f.Z,{children:[(0,u.jsx)(P.Z,{}),"Delete"]})}),danger:!0}]},children:(0,u.jsx)(x.Z,{icon:(0,u.jsx)(W.Z,{}),type:"link",size:"small"})})}}},actionRef:se})]})};A.Z=a},61614:function(re,A,e){e.d(A,{A$:function(){return I},BA:function(){return h},BP:function(){return R},R4:function(){return i},S8:function(){return W},_V:function(){return j},gY:function(){return d},r5:function(){return g},zo:function(){return S}});var b=e(15009),n=e.n(b),L=e(99289),s=e.n(L),m=e(90905);function i(a){return C.apply(this,arguments)}function C(){return C=s()(n()().mark(function a(O){return n()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,m.request)("catalog/".concat(O)));case 1:case"end":return r.stop()}},a)})),C.apply(this,arguments)}function R(a){return U.apply(this,arguments)}function U(){return U=s()(n()().mark(function a(O){return n()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,m.request)("catalog/add",{method:"POST",data:O}));case 1:case"end":return r.stop()}},a)})),U.apply(this,arguments)}function I(a){return D.apply(this,arguments)}function D(){return D=s()(n()().mark(function a(O){return n()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,m.request)("catalog/list",{method:"GET",params:O}));case 1:case"end":return r.stop()}},a)})),D.apply(this,arguments)}function w(){return P.apply(this,arguments)}function P(){return P=_asyncToGenerator(_regeneratorRuntime().mark(function a(){return _regeneratorRuntime().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.abrupt("return",request("catalog/tree"));case 1:case"end":return c.stop()}},a)})),P.apply(this,arguments)}function W(a){return y.apply(this,arguments)}function y(){return y=s()(n()().mark(function a(O){return n()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,m.request)("catalog/delete/".concat(O),{method:"POST"}));case 1:case"end":return r.stop()}},a)})),y.apply(this,arguments)}function h(a){return o.apply(this,arguments)}function o(){return o=s()(n()().mark(function a(O){return n()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,m.request)("catalog/save",{method:"POST",data:O}));case 1:case"end":return r.stop()}},a)})),o.apply(this,arguments)}function E(a){return p.apply(this,arguments)}function p(){return p=_asyncToGenerator(_regeneratorRuntime().mark(function a(O){return _regeneratorRuntime().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",request("catalog/tree-drop",{method:"POST",data:O}));case 1:case"end":return r.stop()}},a)})),p.apply(this,arguments)}function j(){return x.apply(this,arguments)}function x(){return x=s()(n()().mark(function a(){return n()().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.abrupt("return",(0,m.request)("catalog/view-count"));case 1:case"end":return c.stop()}},a)})),x.apply(this,arguments)}function d(a){return f.apply(this,arguments)}function f(){return f=s()(n()().mark(function a(O){return n()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,m.request)("catalog/active/".concat(O),{method:"POST"}));case 1:case"end":return r.stop()}},a)})),f.apply(this,arguments)}function S(a){return l.apply(this,arguments)}function l(){return l=s()(n()().mark(function a(O){return n()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,m.request)("catalog/article/save",{method:"POST",data:O}));case 1:case"end":return r.stop()}},a)})),l.apply(this,arguments)}function g(a){return u.apply(this,arguments)}function u(){return u=s()(n()().mark(function a(O){return n()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,m.request)("catalog/update-thumbnail",{method:"POST",data:O}));case 1:case"end":return r.stop()}},a)})),u.apply(this,arguments)}},98364:function(re,A,e){e.d(A,{CO:function(){return I},Xr:function(){return i},Z:function(){return w},eB:function(){return R},v7:function(){return W}});var b=e(15009),n=e.n(b),L=e(99289),s=e.n(L),m=e(90905);function i(h){return C.apply(this,arguments)}function C(){return C=s()(n()().mark(function h(o){return n()().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return p.abrupt("return",(0,m.request)("component/".concat(o)));case 1:case"end":return p.stop()}},h)})),C.apply(this,arguments)}function R(){return(0,m.request)("component/list-all")}function U(h){return request("component/add",{method:"POST",data:h})}function I(){return D.apply(this,arguments)}function D(){return D=s()(n()().mark(function h(){return n()().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:return E.abrupt("return",(0,m.request)("component/list"));case 1:case"end":return E.stop()}},h)})),D.apply(this,arguments)}function w(h,o){return P.apply(this,arguments)}function P(){return P=s()(n()().mark(function h(o,E){return n()().wrap(function(j){for(;;)switch(j.prev=j.next){case 0:return j.abrupt("return",(0,m.request)("component/list-work/".concat(E),{params:o}));case 1:case"end":return j.stop()}},h)})),P.apply(this,arguments)}function W(h){return y.apply(this,arguments)}function y(){return y=s()(n()().mark(function h(o){return n()().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return p.abrupt("return",(0,m.request)("component/delete/".concat(o),{method:"POST"}));case 1:case"end":return p.stop()}},h)})),y.apply(this,arguments)}},20385:function(re,A,e){e.d(A,{Ah:function(){return I},Cq:function(){return W},V6:function(){return R},kE:function(){return E},tg:function(){return j},z3:function(){return h}});var b=e(15009),n=e.n(b),L=e(97857),s=e.n(L),m=e(99289),i=e.n(m),C=e(90905);function R(d,f){return U.apply(this,arguments)}function U(){return U=i()(n()().mark(function d(f,S){return n()().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return g.abrupt("return",(0,C.request)("fileExplorer/list",s()({method:"GET",params:s()({},f)},S||{})));case 1:case"end":return g.stop()}},d)})),U.apply(this,arguments)}function I(d){return D.apply(this,arguments)}function D(){return D=i()(n()().mark(function d(f){return n()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",(0,C.request)("fileExplorer/delete-file-content/".concat(f),{method:"POST"}));case 1:case"end":return l.stop()}},d)})),D.apply(this,arguments)}function w(d){return P.apply(this,arguments)}function P(){return P=_asyncToGenerator(_regeneratorRuntime().mark(function d(f){return _regeneratorRuntime().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",request("fileExplorer/delete-file-item",{method:"POST",data:f}));case 1:case"end":return l.stop()}},d)})),P.apply(this,arguments)}function W(d){return y.apply(this,arguments)}function y(){return y=i()(n()().mark(function d(f){return n()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",(0,C.request)("fileExplorer/".concat(f)));case 1:case"end":return l.stop()}},d)})),y.apply(this,arguments)}function h(d,f){return o.apply(this,arguments)}function o(){return o=i()(n()().mark(function d(f,S){return n()().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return g.abrupt("return",(0,C.request)("fileExplorer/file-items/".concat(S.id)));case 1:case"end":return g.stop()}},d)})),o.apply(this,arguments)}function E(d){return p.apply(this,arguments)}function p(){return p=i()(n()().mark(function d(f){var S;return n()().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return S=new FormData,S.append("file",f),g.abrupt("return",(0,C.request)("fileExplorer/upload",{method:"POST",data:S}));case 3:case"end":return g.stop()}},d)})),p.apply(this,arguments)}function j(d){return x.apply(this,arguments)}function x(){return x=i()(n()().mark(function d(f){return n()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",(0,C.request)("fileexplorer/upload-from-url",{method:"POST",data:{url:f}}));case 1:case"end":return l.stop()}},d)})),x.apply(this,arguments)}},5251:function(re,A,e){e.d(A,{Er:function(){return s},p6:function(){return m}});var b=e(27484),n=e.n(b);function L(i){return i.trim()}function s(i){return new URL(i||"",localStorage.getItem("wf_URL")||"").href}function m(i){return i?n()(i).format("DD/MM/YYYY hh:mm:ss"):"-"}}}]);
