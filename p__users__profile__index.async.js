"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[6293],{71709:function(U,i,e){e.r(i),e.d(i,{default:function(){return Q}});var h=e(5574),a=e.n(h),j=e(6742),x=e(47389),P=e(63386),u=e(28199),r=e(35312),d=e(71230),v=e(15746),Z=e(71577),t=e(90156),y=e(25514),C=e(96074),p=e(27511),B=e(32983),E=e(62435),K=e(15009),D=e.n(K),L=e(99289),W=e.n(L),G=e(67225),N=e(51042),z=e(93933),F=e(64317),$=e(51904),n=e(86074),Y=function(g){var m=(0,r.useModel)("@@initialState"),O=m.initialState,c=O||{},s=c.currentUser,R=g.roles,f=(0,E.useState)(!1),M=a()(f,2),X=M[0],T=M[1];return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(y.Z.Title,{level:5,children:"Roles"}),R.map(function(o){return(0,n.jsx)($.Z,{color:"blue",children:o},o)}),(s==null?void 0:s.roles.includes("admin"))&&(0,n.jsx)(Z.ZP,{type:"dashed",size:"small",icon:(0,n.jsx)(N.Z,{}),onClick:function(){return T(!0)},children:"Add to role"}),(0,n.jsx)(z.Y,{title:"Add to role",open:X,onOpenChange:T,children:(0,n.jsx)(F.Z,{name:"role",label:"Role",request:function(){var o=W()(D()().mark(function S(b){var A;return D()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,(0,G.O)(b);case 2:return A=l.sent,l.abrupt("return",A.data.map(function(I){return{value:I.id,label:I.name}}));case 4:case"end":return l.stop()}},S)}));return function(S){return o.apply(this,arguments)}}()})})]})},H=Y,J=function(){var g=(0,r.useParams)(),m=g.id,O=(0,E.useState)(),c=a()(O,2),s=c[0],R=c[1];return(0,E.useEffect)(function(){(0,j.PR)(m).then(function(f){R(f)})},[m]),(0,n.jsx)(P._z,{children:(0,n.jsxs)(d.Z,{gutter:16,children:[(0,n.jsx)(v.Z,{span:6,children:(0,n.jsxs)(u.Z,{extra:(0,n.jsx)(Z.ZP,{type:"dashed",icon:(0,n.jsx)(x.Z,{}),onClick:function(){return window.location.href="https://gravatar.com/"},children:"Change avatar"}),children:[(0,n.jsxs)("div",{className:"flex items-center justify-center flex-col",children:[(0,n.jsx)(t.Z,{src:s==null?void 0:s.avatar,width:200,height:200}),(0,n.jsx)(y.Z.Title,{level:4,children:s==null?void 0:s.userName})]}),(0,n.jsx)(C.Z,{}),(0,n.jsxs)(p.Z,{title:"Info",column:1,children:[(0,n.jsx)(p.Z.Item,{label:"Email",children:s==null?void 0:s.email}),(0,n.jsx)(p.Z.Item,{label:"Phone",children:s==null?void 0:s.phoneNumber})]}),(0,n.jsx)(C.Z,{}),s&&(0,n.jsx)(H,{roles:s==null?void 0:s.roles})]})}),(0,n.jsx)(v.Z,{span:18,children:(0,n.jsx)(u.Z,{children:(0,n.jsx)(B.Z,{})})})]})})},Q=J},67225:function(U,i,e){e.d(i,{O:function(){return u}});var h=e(15009),a=e.n(h),j=e(99289),x=e.n(j),P=e(35312);function u(d){return r.apply(this,arguments)}function r(){return r=x()(a()().mark(function d(v){return a()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,P.request)("/role/list",{params:v}));case 1:case"end":return t.stop()}},d)})),r.apply(this,arguments)}}}]);
