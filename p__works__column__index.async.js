"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[353],{77171:function(Z,d,e){e.d(d,{Z:function(){return i}});var t=e(1413),r=e(62435),u={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M862 465.3h-81c-4.6 0-9 2-12.1 5.5L550 723.1V160c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v563.1L255.1 470.8c-3-3.5-7.4-5.5-12.1-5.5h-81c-6.8 0-10.5 8.1-6 13.2L487.9 861a31.96 31.96 0 0048.3 0L868 478.5c4.5-5.2.8-13.2-6-13.2z"}}]},name:"arrow-down",theme:"outlined"},l=u,_=e(84089),s=function(c,a){return r.createElement(_.Z,(0,t.Z)((0,t.Z)({},c),{},{ref:a,icon:l}))};s.displayName="ArrowDownOutlined";var i=r.forwardRef(s)},1912:function(Z,d,e){e.d(d,{Z:function(){return i}});var t=e(1413),r=e(62435),u={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M868 545.5L536.1 163a31.96 31.96 0 00-48.3 0L156 545.5a7.97 7.97 0 006 13.2h81c4.6 0 9-2 12.1-5.5L474 300.9V864c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V300.9l218.9 252.3c3 3.5 7.4 5.5 12.1 5.5h81c6.8 0 10.5-8 6-13.2z"}}]},name:"arrow-up",theme:"outlined"},l=u,_=e(84089),s=function(c,a){return r.createElement(_.Z,(0,t.Z)((0,t.Z)({},c),{},{ref:a,icon:l}))};s.displayName="ArrowUpOutlined";var i=r.forwardRef(s)},64317:function(Z,d,e){var t=e(1413),r=e(91),u=e(86074),l=e(22270),_=e(62435),s=e(66758),i=e(15790),O=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","showSearch","options"],c=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","options"],a=_.forwardRef(function(n,v){var D=n.fieldProps,h=n.children,E=n.params,P=n.proFieldProps,p=n.mode,j=n.valueEnum,M=n.request,o=n.showSearch,U=n.options,x=(0,r.Z)(n,O),S=(0,_.useContext)(s.Z);return(0,u.jsx)(i.Z,(0,t.Z)((0,t.Z)({valueEnum:(0,l.h)(j),request:M,params:E,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:(0,t.Z)({options:U,mode:p,showSearch:o,getPopupContainer:S.getPopupContainer},D),ref:v,proFieldProps:P},x),{},{children:h}))}),f=_.forwardRef(function(n,v){var D=n.fieldProps,h=n.children,E=n.params,P=n.proFieldProps,p=n.mode,j=n.valueEnum,M=n.request,o=n.options,U=(0,r.Z)(n,c),x=(0,t.Z)({options:o,mode:p||"multiple",labelInValue:!0,showSearch:!0,showArrow:!1,autoClearSearchValue:!0,optionLabelProp:"label"},D),S=(0,_.useContext)(s.Z);return(0,u.jsx)(i.Z,(0,t.Z)((0,t.Z)({valueEnum:(0,l.h)(j),request:M,params:E,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:(0,t.Z)({getPopupContainer:S.getPopupContainer},x),ref:v,proFieldProps:P},U),{},{children:h}))}),A=a,C=f,m=A;m.SearchSelect=C,m.displayName="ProFormComponent",d.Z=m},16507:function(Z,d,e){e.d(d,{Z:function(){return A}});var t=e(5574),r=e.n(t),u=e(90905);function l(){return(0,u.request)("component/list")}function _(C){return request("component/add",{method:"POST",data:C})}var s=e(37476),i=e(5966),O=e(64317),c=e(62435),a=e(86074),f=function(m){var n=(0,c.useState)(),v=r()(n,2),D=v[0],h=v[1];return(0,c.useEffect)(function(){l().then(function(E){h(E.map(function(P){return{label:P.name,value:P.id}}))})},[]),(0,a.jsxs)(s.Y,{open:m.visible,title:"Add component",onFinish:m.onFinish,onOpenChange:m.onVisibleChange,children:[(0,a.jsx)(i.Z,{name:"name",label:"Name"}),(0,a.jsx)(O.Z,{showSearch:!0,options:D,name:"componentId",label:"Component"})]})},A=f},35303:function(Z,d,e){e.r(d);var t=e(15009),r=e.n(t),u=e(97857),l=e.n(u),_=e(99289),s=e.n(_),i=e(5574),O=e.n(i),c=e(16507),a=e(66352),f=e(24969),A=e(86548),C=e(1912),m=e(77171),n=e(48689),v=e(62884),D=e(30029),h=e(22538),E=e(90905),P=e(2453),p=e(71577),j=e(86738),M=e(62435),o=e(86074),U=function(){var S=(0,E.useParams)(),K=S.id,F=(0,M.useRef)(),V=(0,M.useState)(!1),y=O()(V,2),w=y[0],W=y[1],N=function(){var I=s()(r()().mark(function L(R){var B,b,g;return r()().wrap(function(T){for(;;)switch(T.prev=T.next){case 0:return B=l()({parentId:K},R),T.next=3,(0,a.XQ)(B);case 3:b=T.sent,b.succeeded&&(P.ZP.success("Added!"),(g=F.current)===null||g===void 0||g.reload(),W(!1));case 5:case"end":return T.stop()}},L)}));return function(R){return I.apply(this,arguments)}}();return(0,o.jsxs)(v._z,{title:"Column",extra:(0,o.jsx)(p.Z,{icon:(0,o.jsx)(f.Z,{}),type:"primary",onClick:function(){return W(!0)},children:(0,o.jsx)(E.FormattedMessage,{id:"general.new"})}),children:[(0,o.jsx)(D.Z,{children:(0,o.jsx)(h.Rs,{request:function(L){return(0,a.Rl)(L,K)},actionRef:F,metas:{title:{dataIndex:"name"},actions:{render:function(L,R){return[(0,o.jsx)(p.Z,{type:"primary",icon:(0,o.jsx)(A.Z,{}),onClick:function(){E.history.push("/works/".concat(R.normalizedName.toLocaleLowerCase(),"/").concat(R.id))}},1),(0,o.jsx)(p.Z,{icon:(0,o.jsx)(C.Z,{})},2),(0,o.jsx)(p.Z,{icon:(0,o.jsx)(m.Z,{})},3),(0,o.jsxs)(j.Z,{title:"Are you sure?",children:[(0,o.jsx)(p.Z,{icon:(0,o.jsx)(n.Z,{}),danger:!0,type:"primary"}),","]},4)]}}}})}),(0,o.jsx)(c.Z,{visible:w,onVisibleChange:W,onFinish:N})]})};d.default=U}}]);
