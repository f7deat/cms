"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[3371],{84299:function($,D,t){var v=t(97857),a=t.n(v),O=t(15009),u=t.n(O),i=t(99289),d=t.n(i),E=t(5574),A=t.n(E),m=t(84697),I=t(55375),f=t(12361),b=t(47389),L=t(82061),M=t(51042),_=t(80527),Z=t(37476),K=t(5966),x=t(90672),p=t(35312),T=t(58301),h=t(71577),S=t(86738),g=t(62435),l=t(86074),C=function(y){var F=(0,p.useIntl)(),R=(0,g.useRef)(),G=(0,g.useState)(!1),W=A()(G,2),V=W[0],j=W[1],H=function(){var n=d()(u()().mark(function e(o){var P,B;return u()().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,(0,f.S8)(o);case 2:P=c.sent,P.succeeded?(T.ZP.success("Deleted"),(B=R.current)===null||B===void 0||B.reload()):T.ZP.error(P.errors[0].description);case 4:case"end":return c.stop()}},e)}));return function(o){return n.apply(this,arguments)}}(),w=function(){switch(y.type){case I.H.Tag:return"catalog/tag";default:return"catalog"}},r=[{title:"#",valueType:"indexBorder"},{title:"Name",dataIndex:"name"},{title:"Modified date",dataIndex:"modifiedDate",valueType:"fromNow",search:!1},{title:"View",dataIndex:"viewCount",valueType:"digit",search:!1},{title:"Status",dataIndex:"active",valueEnum:{false:{text:"Draft",status:"Default"},true:{text:"Active",status:"Processing"}}},{title:"",valueType:"option",render:function(e,o){return[(0,l.jsx)(h.ZP,{icon:(0,l.jsx)(b.Z,{}),type:"primary",onClick:function(){return p.history.push("/".concat(w(),"/").concat(o.id))}},1),(0,l.jsx)(S.Z,{title:"Are you sure?",onConfirm:function(){return H(o.id)},children:(0,l.jsx)(h.ZP,{icon:(0,l.jsx)(L.Z,{}),type:"primary",danger:!0})},2)]}}],s=function(){var n=d()(u()().mark(function e(o){var P,B;return u()().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return o.type=Number(o.type),c.next=3,(0,f.BP)(o);case 3:P=c.sent,P.succeeded&&(T.ZP.success("Added!"),(B=R.current)===null||B===void 0||B.reload(),j(!1));case 5:case"end":return c.stop()}},e)}));return function(o){return n.apply(this,arguments)}}();return(0,l.jsxs)("div",{children:[(0,l.jsx)(_.Z,{rowSelection:{},rowKey:"id",request:function(e){return(0,f.A$)(a()(a()({},e),{},{type:y.type}))},search:{layout:"vertical"},columns:r,actionRef:R,toolBarRender:function(){return[(0,l.jsxs)(h.ZP,{type:"primary",onClick:function(){return j(!0)},children:[(0,l.jsx)(M.Z,{}),(0,l.jsx)(p.FormattedMessage,{id:"general.new"})]},"new")]}}),(0,l.jsxs)(Z.Y,{open:V,onOpenChange:j,onFinish:s,title:F.formatMessage({id:"general.new"}),children:[(0,l.jsx)(K.Z,{name:"name",label:"Name",rules:[{required:!0}]}),(0,l.jsx)(m.Z,{label:"Type",name:"type",initialValue:"".concat(y.type)}),(0,l.jsx)(x.Z,{label:"Description",name:"description"})]})]})};D.Z=C},84697:function($,D,t){var v=t(12361),a=t(64317),O=t(86074),u=function(d){return(0,O.jsx)(a.Z,{request:v.Z9,label:d.label,name:d.name,initialValue:d.initialValue,rules:[{required:!0}]})};D.Z=u},86587:function($,D,t){t.r(D);var v=t(5574),a=t.n(v),O=t(84299),u=t(55375),i=t(12361),d=t(63386),E=t(28199),A=t(71230),m=t(15746),I=t(55054),f=t(96074),b=t(63012),L=t.n(b),M=t(62435),_=t(86074),Z=function(){var x=(0,M.useState)(0),p=a()(x,2),T=p[0],h=p[1],S=(0,M.useState)([]),g=a()(S,2),l=g[0],C=g[1];return(0,M.useEffect)(function(){(0,i._V)().then(function(U){h(U)}),(0,i.tD)().then(function(U){C(U)})},[]),(0,_.jsx)(d._z,{children:(0,_.jsxs)(A.Z,{gutter:16,children:[(0,_.jsx)(m.Z,{span:16,children:(0,_.jsx)(O.Z,{type:u.H.Entry})}),(0,_.jsxs)(m.Z,{span:8,children:[(0,_.jsxs)(A.Z,{gutter:16,children:[(0,_.jsx)(m.Z,{span:12,children:(0,_.jsx)(E.Z,{children:(0,_.jsx)(I.Z,{title:"L\u01B0\u1EE3t xem",value:T})})}),(0,_.jsx)(m.Z,{span:12,children:(0,_.jsx)(E.Z,{children:(0,_.jsx)(I.Z,{title:"B\xE0i vi\u1EBFt",value:0})})})]}),(0,_.jsx)(f.Z,{}),(0,_.jsx)(E.Z,{title:"Catalogs",headerBordered:!0,children:(0,_.jsx)(b.PieChart,{angleField:"value",colorField:"label",radius:1,innerRadius:.55,data:l})})]})]})})};D.default=Z},12361:function($,D,t){t.d(D,{A$:function(){return I},BA:function(){return Z},BP:function(){return A},M0:function(){return V},R4:function(){return d},S8:function(){return M},Z9:function(){return U},_V:function(){return T},m_:function(){return F},tD:function(){return H},wu:function(){return G}});var v=t(15009),a=t.n(v),O=t(99289),u=t.n(O),i=t(35312);function d(r){return E.apply(this,arguments)}function E(){return E=u()(a()().mark(function r(s){return a()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,i.request)("catalog/".concat(s)));case 1:case"end":return e.stop()}},r)})),E.apply(this,arguments)}function A(r){return m.apply(this,arguments)}function m(){return m=u()(a()().mark(function r(s){return a()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,i.request)("catalog/add",{method:"POST",data:s}));case 1:case"end":return e.stop()}},r)})),m.apply(this,arguments)}function I(r){return f.apply(this,arguments)}function f(){return f=u()(a()().mark(function r(s){return a()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,i.request)("catalog/list",{method:"GET",params:s}));case 1:case"end":return e.stop()}},r)})),f.apply(this,arguments)}function b(){return L.apply(this,arguments)}function L(){return L=_asyncToGenerator(_regeneratorRuntime().mark(function r(){return _regeneratorRuntime().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",request("catalog/tree"));case 1:case"end":return n.stop()}},r)})),L.apply(this,arguments)}function M(r){return _.apply(this,arguments)}function _(){return _=u()(a()().mark(function r(s){return a()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,i.request)("catalog/delete/".concat(s),{method:"POST"}));case 1:case"end":return e.stop()}},r)})),_.apply(this,arguments)}function Z(r){return K.apply(this,arguments)}function K(){return K=u()(a()().mark(function r(s){return a()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,i.request)("catalog/save",{method:"POST",data:s}));case 1:case"end":return e.stop()}},r)})),K.apply(this,arguments)}function x(r){return p.apply(this,arguments)}function p(){return p=_asyncToGenerator(_regeneratorRuntime().mark(function r(s){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",request("catalog/tree-drop",{method:"POST",data:s}));case 1:case"end":return e.stop()}},r)})),p.apply(this,arguments)}function T(){return h.apply(this,arguments)}function h(){return h=u()(a()().mark(function r(){return a()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,i.request)("catalog/view-count"));case 1:case"end":return n.stop()}},r)})),h.apply(this,arguments)}function S(r){return g.apply(this,arguments)}function g(){return g=_asyncToGenerator(_regeneratorRuntime().mark(function r(s){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",request("catalog/active/".concat(s),{method:"POST"}));case 1:case"end":return e.stop()}},r)})),g.apply(this,arguments)}function l(r){return C.apply(this,arguments)}function C(){return C=_asyncToGenerator(_regeneratorRuntime().mark(function r(s){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",request("catalog/update-thumbnail",{method:"POST",data:s}));case 1:case"end":return e.stop()}},r)})),C.apply(this,arguments)}function U(){return y.apply(this,arguments)}function y(){return y=u()(a()().mark(function r(){return a()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,i.request)("catalog/types"));case 1:case"end":return n.stop()}},r)})),y.apply(this,arguments)}function F(r){return R.apply(this,arguments)}function R(){return R=u()(a()().mark(function r(s){return a()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,i.request)("catalog/list-tag/".concat(s)));case 1:case"end":return e.stop()}},r)})),R.apply(this,arguments)}function G(r){return W.apply(this,arguments)}function W(){return W=u()(a()().mark(function r(s){return a()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,i.request)("catalog/list-tag-select",{params:s}));case 1:case"end":return e.stop()}},r)})),W.apply(this,arguments)}function V(r,s){return j.apply(this,arguments)}function j(){return j=u()(a()().mark(function r(s,n){return a()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",(0,i.request)("catalog/list-by-tag/".concat(s),{params:n}));case 1:case"end":return o.stop()}},r)})),j.apply(this,arguments)}function H(){return w.apply(this,arguments)}function w(){return w=u()(a()().mark(function r(){return a()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,i.request)("catalog/pie-chart"));case 1:case"end":return n.stop()}},r)})),w.apply(this,arguments)}}}]);
