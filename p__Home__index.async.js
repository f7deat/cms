"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[3371],{84299:function(x,D,t){var P=t(97857),s=t.n(P),v=t(15009),_=t.n(v),i=t(99289),m=t.n(i),E=t(5574),j=t.n(E),d=t(84697),B=t(55375),f=t(12361),K=t(47389),A=t(82061),O=t(51042),u=t(88518),b=t(93933),I=t(5966),w=t(90672),p=t(35312),M=t(27790),h=t(71577),S=t(86738),g=t(62435),l=t(86074),T=function(y){var $=(0,p.useIntl)(),C=(0,g.useRef)(),G=(0,g.useState)(!1),L=j()(G,2),F=L[0],R=L[1],V=function(){var r=m()(_()().mark(function a(n){var e,o;return _()().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,(0,f.S8)(n);case 2:e=c.sent,e.succeeded?(M.ZP.success("Deleted"),(o=C.current)===null||o===void 0||o.reload()):M.ZP.error(e.errors[0].description);case 4:case"end":return c.stop()}},a)}));return function(n){return r.apply(this,arguments)}}(),W=function(){switch(y.type){case B.H.Tag:return"catalog/tag";default:return"catalog"}},H=[{title:"#",valueType:"indexBorder"},{title:"Name",dataIndex:"name"},{title:"Modified date",dataIndex:"modifiedDate",valueType:"fromNow",search:!1},{title:"View",dataIndex:"viewCount",valueType:"digit",search:!1},{title:"Status",dataIndex:"active",valueEnum:{false:{text:"Draft",status:"Default"},true:{text:"Active",status:"Processing"}}},{title:"",valueType:"option",render:function(a,n){return[(0,l.jsx)(h.ZP,{icon:(0,l.jsx)(K.Z,{}),type:"primary",onClick:function(){return p.history.push("/".concat(W(),"/").concat(n.id))}},1),(0,l.jsx)(S.Z,{title:"Are you sure?",onConfirm:function(){return V(n.id)},children:(0,l.jsx)(h.ZP,{icon:(0,l.jsx)(A.Z,{}),type:"primary",danger:!0})},2)]}}],Z=function(){var r=m()(_()().mark(function a(n){var e,o;return _()().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return n.type=Number(n.type),c.next=3,(0,f.BP)(n);case 3:e=c.sent,e.succeeded&&(M.ZP.success("Added!"),(o=C.current)===null||o===void 0||o.reload(),R(!1));case 5:case"end":return c.stop()}},a)}));return function(n){return r.apply(this,arguments)}}();return(0,l.jsxs)("div",{children:[(0,l.jsx)(u.Z,{rowKey:"id",request:function(a){return(0,f.A$)(s()(s()({},a),{},{type:y.type}))},columns:H,actionRef:C,toolBarRender:function(){return[(0,l.jsxs)(h.ZP,{type:"primary",onClick:function(){return R(!0)},children:[(0,l.jsx)(O.Z,{}),(0,l.jsx)(p.FormattedMessage,{id:"general.new"})]},"new")]}}),(0,l.jsxs)(b.Y,{open:F,onOpenChange:R,onFinish:Z,title:$.formatMessage({id:"general.new"}),children:[(0,l.jsx)(I.Z,{name:"name",label:"Name",rules:[{required:!0}]}),(0,l.jsx)(d.Z,{label:"Type",name:"type",initialValue:"".concat(y.type)}),(0,l.jsx)(w.Z,{label:"Description",name:"description"})]})]})};D.Z=T},84697:function(x,D,t){var P=t(12361),s=t(64317),v=t(86074),_=function(m){return(0,v.jsx)(s.Z,{request:P.Z9,label:m.label,name:m.name,initialValue:m.initialValue,rules:[{required:!0}]})};D.Z=_},86587:function(x,D,t){t.r(D);var P=t(5574),s=t.n(P),v=t(84299),_=t(55375),i=t(12361),m=t(63386),E=t(28199),j=t(71230),d=t(15746),B=t(55054),f=t(96074),K=t(63012),A=t.n(K),O=t(62435),u=t(86074),b=function(){var w=(0,O.useState)(0),p=s()(w,2),M=p[0],h=p[1],S=(0,O.useState)([]),g=s()(S,2),l=g[0],T=g[1];return(0,O.useEffect)(function(){(0,i._V)().then(function(U){h(U)}),(0,i.tD)().then(function(U){T(U)})},[]),(0,u.jsx)(m._z,{children:(0,u.jsxs)(j.Z,{gutter:16,children:[(0,u.jsx)(d.Z,{span:16,children:(0,u.jsx)(v.Z,{type:_.H.Entry})}),(0,u.jsxs)(d.Z,{span:8,children:[(0,u.jsxs)(j.Z,{gutter:16,children:[(0,u.jsx)(d.Z,{span:12,children:(0,u.jsx)(E.Z,{children:(0,u.jsx)(B.Z,{title:"L\u01B0\u1EE3t xem",value:M})})}),(0,u.jsx)(d.Z,{span:12,children:(0,u.jsx)(E.Z,{children:(0,u.jsx)(B.Z,{title:"B\xE0i vi\u1EBFt",value:0})})})]}),(0,u.jsx)(f.Z,{}),(0,u.jsx)(E.Z,{title:"Catalog with statistics",children:(0,u.jsx)(K.PieChart,{angleField:"value",colorField:"label",radius:1,innerRadius:.55,data:l})})]})]})})};D.default=b},12361:function(x,D,t){t.d(D,{A$:function(){return B},BA:function(){return b},BP:function(){return j},M0:function(){return V},R4:function(){return m},S8:function(){return O},Z9:function(){return $},_V:function(){return M},m_:function(){return G},tD:function(){return H},wu:function(){return F}});var P=t(15009),s=t.n(P),v=t(99289),_=t.n(v),i=t(35312);function m(r){return E.apply(this,arguments)}function E(){return E=_()(s()().mark(function r(a){return s()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,i.request)("catalog/".concat(a)));case 1:case"end":return e.stop()}},r)})),E.apply(this,arguments)}function j(r){return d.apply(this,arguments)}function d(){return d=_()(s()().mark(function r(a){return s()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,i.request)("catalog/add",{method:"POST",data:a}));case 1:case"end":return e.stop()}},r)})),d.apply(this,arguments)}function B(r){return f.apply(this,arguments)}function f(){return f=_()(s()().mark(function r(a){return s()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,i.request)("catalog/list",{method:"GET",params:a}));case 1:case"end":return e.stop()}},r)})),f.apply(this,arguments)}function K(){return A.apply(this,arguments)}function A(){return A=_asyncToGenerator(_regeneratorRuntime().mark(function r(){return _regeneratorRuntime().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",request("catalog/tree"));case 1:case"end":return n.stop()}},r)})),A.apply(this,arguments)}function O(r){return u.apply(this,arguments)}function u(){return u=_()(s()().mark(function r(a){return s()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,i.request)("catalog/delete/".concat(a),{method:"POST"}));case 1:case"end":return e.stop()}},r)})),u.apply(this,arguments)}function b(r){return I.apply(this,arguments)}function I(){return I=_()(s()().mark(function r(a){return s()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,i.request)("catalog/save",{method:"POST",data:a}));case 1:case"end":return e.stop()}},r)})),I.apply(this,arguments)}function w(r){return p.apply(this,arguments)}function p(){return p=_asyncToGenerator(_regeneratorRuntime().mark(function r(a){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",request("catalog/tree-drop",{method:"POST",data:a}));case 1:case"end":return e.stop()}},r)})),p.apply(this,arguments)}function M(){return h.apply(this,arguments)}function h(){return h=_()(s()().mark(function r(){return s()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,i.request)("catalog/view-count"));case 1:case"end":return n.stop()}},r)})),h.apply(this,arguments)}function S(r){return g.apply(this,arguments)}function g(){return g=_asyncToGenerator(_regeneratorRuntime().mark(function r(a){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",request("catalog/active/".concat(a),{method:"POST"}));case 1:case"end":return e.stop()}},r)})),g.apply(this,arguments)}function l(r){return T.apply(this,arguments)}function T(){return T=_asyncToGenerator(_regeneratorRuntime().mark(function r(a){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",request("catalog/article/save",{method:"POST",data:a}));case 1:case"end":return e.stop()}},r)})),T.apply(this,arguments)}function U(r){return y.apply(this,arguments)}function y(){return y=_asyncToGenerator(_regeneratorRuntime().mark(function r(a){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",request("catalog/update-thumbnail",{method:"POST",data:a}));case 1:case"end":return e.stop()}},r)})),y.apply(this,arguments)}function $(){return C.apply(this,arguments)}function C(){return C=_()(s()().mark(function r(){return s()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,i.request)("catalog/types"));case 1:case"end":return n.stop()}},r)})),C.apply(this,arguments)}function G(r){return L.apply(this,arguments)}function L(){return L=_()(s()().mark(function r(a){return s()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,i.request)("catalog/list-tag/".concat(a)));case 1:case"end":return e.stop()}},r)})),L.apply(this,arguments)}function F(r){return R.apply(this,arguments)}function R(){return R=_()(s()().mark(function r(a){return s()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,i.request)("catalog/list-tag-select",{params:a}));case 1:case"end":return e.stop()}},r)})),R.apply(this,arguments)}function V(r,a){return W.apply(this,arguments)}function W(){return W=_()(s()().mark(function r(a,n){return s()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",(0,i.request)("catalog/list-by-tag/".concat(a),{params:n}));case 1:case"end":return o.stop()}},r)})),W.apply(this,arguments)}function H(){return Z.apply(this,arguments)}function Z(){return Z=_()(s()().mark(function r(){return s()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,i.request)("catalog/pie-chart"));case 1:case"end":return n.stop()}},r)})),Z.apply(this,arguments)}}}]);
