"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[3371],{84299:function($,D,r){var v=r(97857),s=r.n(v),O=r(15009),u=r.n(O),l=r(99289),d=r.n(l),E=r(5574),B=r.n(E),m=r(84697),I=r(55375),f=r(12361),U=r(47389),A=r(82061),M=r(51042),_=r(80527),W=r(37476),L=r(5966),S=r(90672),p=r(35312),T=r(58301),h=r(71577),x=r(86738),g=r(62435),o=r(86074),y=function(C){var F=(0,p.useIntl)(),R=(0,g.useRef)(),G=(0,g.useState)(!1),K=B()(G,2),V=K[0],j=K[1],N=function(){var P=d()(u()().mark(function c(t){var a,n;return u()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,(0,f.S8)(t);case 2:a=i.sent,a.succeeded?(T.ZP.success("Deleted"),(n=R.current)===null||n===void 0||n.reload()):T.ZP.error(a.errors[0].description);case 4:case"end":return i.stop()}},c)}));return function(t){return P.apply(this,arguments)}}(),w=function(){switch(C.type){case I.H.Tag:return"catalog/tag";default:return"catalog"}},H=[{title:"#",valueType:"indexBorder"},{title:"Name",dataIndex:"name"},{title:"Modified date",dataIndex:"modifiedDate",valueType:"fromNow",search:!1},{title:"View",dataIndex:"viewCount",valueType:"digit",search:!1},{title:"Status",dataIndex:"active",valueEnum:{false:{text:"Draft",status:"Default"},true:{text:"Active",status:"Processing"}}},{title:"",valueType:"option",render:function(c,t){return[(0,o.jsx)(h.ZP,{icon:(0,o.jsx)(U.Z,{}),type:"primary",onClick:function(){return p.history.push("/".concat(w(),"/").concat(t.id))}},1),(0,o.jsx)(x.Z,{title:"Are you sure?",onConfirm:function(){return N(t.id)},children:(0,o.jsx)(h.ZP,{icon:(0,o.jsx)(A.Z,{}),type:"primary",danger:!0})},2)]}}],Z=function(){var P=d()(u()().mark(function c(t){var a,n;return u()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return t.type=Number(t.type),i.next=3,(0,f.BP)(t);case 3:a=i.sent,a.succeeded&&(T.ZP.success("Added!"),(n=R.current)===null||n===void 0||n.reload(),j(!1));case 5:case"end":return i.stop()}},c)}));return function(t){return P.apply(this,arguments)}}();return(0,o.jsxs)("div",{children:[(0,o.jsx)(_.Z,{rowSelection:{},rowKey:"id",request:function(c){return(0,f.A$)(s()(s()({},c),{},{type:C.type}))},search:{layout:"vertical"},columns:H,actionRef:R,toolBarRender:function(){return[(0,o.jsx)(h.ZP,{type:"primary",onClick:function(){return j(!0)},icon:(0,o.jsx)(M.Z,{}),children:(0,o.jsx)("span",{children:(0,o.jsx)(p.FormattedMessage,{id:"general.new"})})},"new")]}}),(0,o.jsxs)(W.Y,{open:V,onOpenChange:j,onFinish:Z,title:F.formatMessage({id:"general.new"}),children:[(0,o.jsx)(L.Z,{name:"name",label:"Name",rules:[{required:!0}]}),(0,o.jsx)(m.Z,{label:"Type",name:"type",initialValue:"".concat(C.type)}),(0,o.jsx)(S.Z,{label:"Description",name:"description"})]})]})};D.Z=y},84697:function($,D,r){var v=r(12361),s=r(64317),O=r(86074),u=function(d){return(0,O.jsx)(s.Z,{request:v.Z9,label:d.label,name:d.name,initialValue:d.initialValue,rules:[{required:!0}]})};D.Z=u},86587:function($,D,r){r.r(D);var v=r(5574),s=r.n(v),O=r(84299),u=r(55375),l=r(12361),d=r(63386),E=r(28199),B=r(71230),m=r(15746),I=r(55054),f=r(96074),U=r(63012),A=r.n(U),M=r(62435),_=r(86074),W=function(){var S=(0,M.useState)(0),p=s()(S,2),T=p[0],h=p[1],x=(0,M.useState)([]),g=s()(x,2),o=g[0],y=g[1];return(0,M.useEffect)(function(){(0,l._V)().then(function(b){h(b)}),(0,l.tD)().then(function(b){y(b)})},[]),(0,_.jsx)(d._z,{children:(0,_.jsxs)(B.Z,{gutter:16,children:[(0,_.jsx)(m.Z,{span:16,children:(0,_.jsx)(O.Z,{type:u.H.Entry})}),(0,_.jsxs)(m.Z,{span:8,children:[(0,_.jsxs)(B.Z,{gutter:16,children:[(0,_.jsx)(m.Z,{span:12,children:(0,_.jsx)(E.Z,{children:(0,_.jsx)(I.Z,{title:"L\u01B0\u1EE3t xem",value:T})})}),(0,_.jsx)(m.Z,{span:12,children:(0,_.jsx)(E.Z,{children:(0,_.jsx)(I.Z,{title:"B\xE0i vi\u1EBFt",value:0})})})]}),(0,_.jsx)(f.Z,{}),(0,_.jsx)(E.Z,{title:"Catalogs",headerBordered:!0,children:(0,_.jsx)(U.PieChart,{angleField:"value",colorField:"label",radius:1,innerRadius:.55,data:o})})]})]})})};D.default=W},12361:function($,D,r){r.d(D,{A$:function(){return I},BA:function(){return W},BP:function(){return B},M0:function(){return V},NU:function(){return P},R4:function(){return d},S8:function(){return M},Z9:function(){return b},_V:function(){return T},kn:function(){return H},m_:function(){return F},tD:function(){return N},wu:function(){return G}});var v=r(15009),s=r.n(v),O=r(99289),u=r.n(O),l=r(35312);function d(t){return E.apply(this,arguments)}function E(){return E=u()(s()().mark(function t(a){return s()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,l.request)("catalog/".concat(a)));case 1:case"end":return e.stop()}},t)})),E.apply(this,arguments)}function B(t){return m.apply(this,arguments)}function m(){return m=u()(s()().mark(function t(a){return s()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,l.request)("catalog/add",{method:"POST",data:a}));case 1:case"end":return e.stop()}},t)})),m.apply(this,arguments)}function I(t){return f.apply(this,arguments)}function f(){return f=u()(s()().mark(function t(a){return s()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,l.request)("catalog/list",{method:"GET",params:a}));case 1:case"end":return e.stop()}},t)})),f.apply(this,arguments)}function U(){return A.apply(this,arguments)}function A(){return A=_asyncToGenerator(_regeneratorRuntime().mark(function t(){return _regeneratorRuntime().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",request("catalog/tree"));case 1:case"end":return n.stop()}},t)})),A.apply(this,arguments)}function M(t){return _.apply(this,arguments)}function _(){return _=u()(s()().mark(function t(a){return s()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,l.request)("catalog/delete/".concat(a),{method:"POST"}));case 1:case"end":return e.stop()}},t)})),_.apply(this,arguments)}function W(t){return L.apply(this,arguments)}function L(){return L=u()(s()().mark(function t(a){return s()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,l.request)("catalog/save",{method:"POST",data:a}));case 1:case"end":return e.stop()}},t)})),L.apply(this,arguments)}function S(t){return p.apply(this,arguments)}function p(){return p=_asyncToGenerator(_regeneratorRuntime().mark(function t(a){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",request("catalog/tree-drop",{method:"POST",data:a}));case 1:case"end":return e.stop()}},t)})),p.apply(this,arguments)}function T(){return h.apply(this,arguments)}function h(){return h=u()(s()().mark(function t(){return s()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,l.request)("catalog/view-count"));case 1:case"end":return n.stop()}},t)})),h.apply(this,arguments)}function x(t){return g.apply(this,arguments)}function g(){return g=_asyncToGenerator(_regeneratorRuntime().mark(function t(a){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",request("catalog/active/".concat(a),{method:"POST"}));case 1:case"end":return e.stop()}},t)})),g.apply(this,arguments)}function o(t){return y.apply(this,arguments)}function y(){return y=_asyncToGenerator(_regeneratorRuntime().mark(function t(a){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",request("catalog/update-thumbnail",{method:"POST",data:a}));case 1:case"end":return e.stop()}},t)})),y.apply(this,arguments)}function b(){return C.apply(this,arguments)}function C(){return C=u()(s()().mark(function t(){return s()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,l.request)("catalog/types"));case 1:case"end":return n.stop()}},t)})),C.apply(this,arguments)}function F(t){return R.apply(this,arguments)}function R(){return R=u()(s()().mark(function t(a){return s()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,l.request)("catalog/list-tag/".concat(a)));case 1:case"end":return e.stop()}},t)})),R.apply(this,arguments)}function G(t){return K.apply(this,arguments)}function K(){return K=u()(s()().mark(function t(a){return s()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,l.request)("catalog/list-tag-select",{params:a}));case 1:case"end":return e.stop()}},t)})),K.apply(this,arguments)}function V(t,a){return j.apply(this,arguments)}function j(){return j=u()(s()().mark(function t(a,n){return s()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",(0,l.request)("catalog/list-by-tag/".concat(a),{params:n}));case 1:case"end":return i.stop()}},t)})),j.apply(this,arguments)}function N(){return w.apply(this,arguments)}function w(){return w=u()(s()().mark(function t(){return s()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,l.request)("catalog/pie-chart"));case 1:case"end":return n.stop()}},t)})),w.apply(this,arguments)}function H(t,a){return Z.apply(this,arguments)}function Z(){return Z=u()(s()().mark(function t(a,n){return s()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",(0,l.request)("/product/image/save",{method:"POST",data:{urls:a,catalogId:n}}));case 1:case"end":return i.stop()}},t)})),Z.apply(this,arguments)}function P(t){return c.apply(this,arguments)}function c(){return c=u()(s()().mark(function t(a){return s()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,l.request)("/product/image/".concat(a)));case 1:case"end":return e.stop()}},t)})),c.apply(this,arguments)}}}]);
