"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[3371],{84299:function(G,O,r){var M=r(97857),a=r.n(M),y=r(15009),u=r.n(y),i=r(99289),d=r.n(i),E=r(5574),A=r.n(E),p=r(84697),L=r(55375),h=r(12361),w=r(47389),b=r(82061),T=r(51042),_=r(80527),Z=r(37476),U=r(5966),x=r(90672),f=r(35312),C=r(58301),g=r(71577),F=r(86738),P=r(62435),l=r(86074),R=function(j){var V=(0,f.useIntl)(),B=(0,P.useRef)(),N=(0,P.useState)(!1),W=A()(N,2),H=W[0],I=W[1],z=function(){var D=d()(u()().mark(function o(c){var m,t;return u()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,h.S8)(c);case 2:m=n.sent,m.succeeded?(C.ZP.success("Deleted"),(t=B.current)===null||t===void 0||t.reload()):C.ZP.error(m.errors[0].description);case 4:case"end":return n.stop()}},o)}));return function(c){return D.apply(this,arguments)}}(),S=function(){switch(j.type){case L.H.Tag:return"catalog/tag";default:return"catalog"}},Y=[{title:"#",valueType:"indexBorder"},{title:"Name",dataIndex:"name"},{title:"Modified date",dataIndex:"modifiedDate",valueType:"fromNow",search:!1},{title:"View",dataIndex:"viewCount",valueType:"digit",search:!1},{title:"Status",dataIndex:"active",valueEnum:{false:{text:"Draft",status:"Default"},true:{text:"Active",status:"Processing"}}},{title:"",valueType:"option",render:function(o,c){return[(0,l.jsx)(g.ZP,{icon:(0,l.jsx)(w.Z,{}),type:"primary",onClick:function(){return f.history.push("/".concat(S(),"/").concat(c.id))}},1),(0,l.jsx)(F.Z,{title:"Are you sure?",onConfirm:function(){return z(c.id)},children:(0,l.jsx)(g.ZP,{icon:(0,l.jsx)(b.Z,{}),type:"primary",danger:!0})},2)]}}],$=function(){var D=d()(u()().mark(function o(c){var m,t;return u()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return c.type=Number(c.type),n.next=3,(0,h.BP)(c);case 3:m=n.sent,m.succeeded&&(C.ZP.success("Added!"),(t=B.current)===null||t===void 0||t.reload(),I(!1));case 5:case"end":return n.stop()}},o)}));return function(c){return D.apply(this,arguments)}}();return(0,l.jsxs)("div",{children:[(0,l.jsx)(_.Z,{rowSelection:{},rowKey:"id",request:function(o){return(0,h.A$)(a()(a()({},o),{},{type:j.type}))},search:{layout:"vertical"},columns:Y,actionRef:B,toolBarRender:function(){return[(0,l.jsx)(g.ZP,{type:"primary",onClick:function(){return I(!0)},icon:(0,l.jsx)(T.Z,{}),children:(0,l.jsx)("span",{children:(0,l.jsx)(f.FormattedMessage,{id:"general.new"})})},"new")]}}),(0,l.jsxs)(Z.Y,{open:H,onOpenChange:I,onFinish:$,title:V.formatMessage({id:"general.new"}),children:[(0,l.jsx)(U.Z,{name:"name",label:"Name",rules:[{required:!0}]}),(0,l.jsx)(p.Z,{label:"Type",name:"type",initialValue:"".concat(j.type)}),(0,l.jsx)(x.Z,{label:"Description",name:"description"})]})]})};O.Z=R},84697:function(G,O,r){var M=r(12361),a=r(64317),y=r(86074),u=function(d){return(0,y.jsx)(a.Z,{request:M.Z9,label:d.label,name:d.name,initialValue:d.initialValue,rules:[{required:!0}]})};O.Z=u},86587:function(G,O,r){r.r(O);var M=r(5574),a=r.n(M),y=r(84299),u=r(55375),i=r(12361),d=r(63386),E=r(28199),A=r(71230),p=r(15746),L=r(55054),h=r(96074),w=r(63012),b=r.n(w),T=r(62435),_=r(86074),Z=function(){var x=(0,T.useState)(0),f=a()(x,2),C=f[0],g=f[1],F=(0,T.useState)([]),P=a()(F,2),l=P[0],R=P[1];return(0,T.useEffect)(function(){(0,i._V)().then(function(K){g(K)}),(0,i.tD)().then(function(K){R(K)})},[]),(0,_.jsx)(d._z,{children:(0,_.jsxs)(A.Z,{gutter:16,children:[(0,_.jsx)(p.Z,{span:16,children:(0,_.jsx)(y.Z,{type:u.H.Entry})}),(0,_.jsxs)(p.Z,{span:8,children:[(0,_.jsxs)(A.Z,{gutter:16,children:[(0,_.jsx)(p.Z,{span:12,children:(0,_.jsx)(E.Z,{children:(0,_.jsx)(L.Z,{title:"L\u01B0\u1EE3t xem",value:C})})}),(0,_.jsx)(p.Z,{span:12,children:(0,_.jsx)(E.Z,{children:(0,_.jsx)(L.Z,{title:"B\xE0i vi\u1EBFt",value:0})})})]}),(0,_.jsx)(h.Z,{}),(0,_.jsx)(E.Z,{title:"Catalogs",headerBordered:!0,children:(0,_.jsx)(w.PieChart,{angleField:"value",colorField:"label",radius:1,innerRadius:.55,data:l})})]})]})})};O.default=Z},12361:function(G,O,r){r.d(O,{A$:function(){return L},BA:function(){return Z},BP:function(){return A},M0:function(){return H},NU:function(){return D},R4:function(){return d},S8:function(){return T},U4:function(){return c},Z9:function(){return K},_V:function(){return C},kn:function(){return Y},m_:function(){return V},tD:function(){return z},wu:function(){return N}});var M=r(15009),a=r.n(M),y=r(99289),u=r.n(y),i=r(35312);function d(t){return E.apply(this,arguments)}function E(){return E=u()(a()().mark(function t(s){return a()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,i.request)("catalog/".concat(s)));case 1:case"end":return e.stop()}},t)})),E.apply(this,arguments)}function A(t){return p.apply(this,arguments)}function p(){return p=u()(a()().mark(function t(s){return a()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,i.request)("catalog/add",{method:"POST",data:s}));case 1:case"end":return e.stop()}},t)})),p.apply(this,arguments)}function L(t){return h.apply(this,arguments)}function h(){return h=u()(a()().mark(function t(s){return a()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,i.request)("catalog/list",{method:"GET",params:s}));case 1:case"end":return e.stop()}},t)})),h.apply(this,arguments)}function w(){return b.apply(this,arguments)}function b(){return b=_asyncToGenerator(_regeneratorRuntime().mark(function t(){return _regeneratorRuntime().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",request("catalog/tree"));case 1:case"end":return n.stop()}},t)})),b.apply(this,arguments)}function T(t){return _.apply(this,arguments)}function _(){return _=u()(a()().mark(function t(s){return a()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,i.request)("catalog/delete/".concat(s),{method:"POST"}));case 1:case"end":return e.stop()}},t)})),_.apply(this,arguments)}function Z(t){return U.apply(this,arguments)}function U(){return U=u()(a()().mark(function t(s){return a()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,i.request)("catalog/save",{method:"POST",data:s}));case 1:case"end":return e.stop()}},t)})),U.apply(this,arguments)}function x(t){return f.apply(this,arguments)}function f(){return f=_asyncToGenerator(_regeneratorRuntime().mark(function t(s){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",request("catalog/tree-drop",{method:"POST",data:s}));case 1:case"end":return e.stop()}},t)})),f.apply(this,arguments)}function C(){return g.apply(this,arguments)}function g(){return g=u()(a()().mark(function t(){return a()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,i.request)("catalog/view-count"));case 1:case"end":return n.stop()}},t)})),g.apply(this,arguments)}function F(t){return P.apply(this,arguments)}function P(){return P=_asyncToGenerator(_regeneratorRuntime().mark(function t(s){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",request("catalog/active/".concat(s),{method:"POST"}));case 1:case"end":return e.stop()}},t)})),P.apply(this,arguments)}function l(t){return R.apply(this,arguments)}function R(){return R=_asyncToGenerator(_regeneratorRuntime().mark(function t(s){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",request("catalog/update-thumbnail",{method:"POST",data:s}));case 1:case"end":return e.stop()}},t)})),R.apply(this,arguments)}function K(){return j.apply(this,arguments)}function j(){return j=u()(a()().mark(function t(){return a()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,i.request)("catalog/types"));case 1:case"end":return n.stop()}},t)})),j.apply(this,arguments)}function V(t){return B.apply(this,arguments)}function B(){return B=u()(a()().mark(function t(s){return a()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,i.request)("catalog/list-tag/".concat(s)));case 1:case"end":return e.stop()}},t)})),B.apply(this,arguments)}function N(t){return W.apply(this,arguments)}function W(){return W=u()(a()().mark(function t(s){return a()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,i.request)("catalog/list-tag-select",{params:s}));case 1:case"end":return e.stop()}},t)})),W.apply(this,arguments)}function H(t,s){return I.apply(this,arguments)}function I(){return I=u()(a()().mark(function t(s,n){return a()().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return v.abrupt("return",(0,i.request)("catalog/list-by-tag/".concat(s),{params:n}));case 1:case"end":return v.stop()}},t)})),I.apply(this,arguments)}function z(){return S.apply(this,arguments)}function S(){return S=u()(a()().mark(function t(){return a()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,i.request)("catalog/pie-chart"));case 1:case"end":return n.stop()}},t)})),S.apply(this,arguments)}function Y(t,s){return $.apply(this,arguments)}function $(){return $=u()(a()().mark(function t(s,n){return a()().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return v.abrupt("return",(0,i.request)("/product/image/save",{method:"POST",data:{urls:s,catalogId:n}}));case 1:case"end":return v.stop()}},t)})),$.apply(this,arguments)}function D(t){return o.apply(this,arguments)}function o(){return o=u()(a()().mark(function t(s){return a()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,i.request)("/product/image/".concat(s)));case 1:case"end":return e.stop()}},t)})),o.apply(this,arguments)}function c(t){return m.apply(this,arguments)}function m(){return m=u()(a()().mark(function t(s){return a()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,i.request)("/catalog/form-select",{params:s}));case 1:case"end":return e.stop()}},t)})),m.apply(this,arguments)}}}]);
