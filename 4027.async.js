"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[4027],{77171:function(W,M,e){e.d(M,{Z:function(){return t}});var _=e(1413),n=e(62435),O={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M862 465.3h-81c-4.6 0-9 2-12.1 5.5L550 723.1V160c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v563.1L255.1 470.8c-3-3.5-7.4-5.5-12.1-5.5h-81c-6.8 0-10.5 8.1-6 13.2L487.9 861a31.96 31.96 0 0048.3 0L868 478.5c4.5-5.2.8-13.2-6-13.2z"}}]},name:"arrow-down",theme:"outlined"},s=O,d=e(84089),m=function(R,C){return n.createElement(d.Z,(0,_.Z)((0,_.Z)({},R),{},{ref:C,icon:s}))};m.displayName="ArrowDownOutlined";var t=n.forwardRef(m)},1912:function(W,M,e){e.d(M,{Z:function(){return t}});var _=e(1413),n=e(62435),O={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M868 545.5L536.1 163a31.96 31.96 0 00-48.3 0L156 545.5a7.97 7.97 0 006 13.2h81c4.6 0 9-2 12.1-5.5L474 300.9V864c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V300.9l218.9 252.3c3 3.5 7.4 5.5 12.1 5.5h81c6.8 0 10.5-8 6-13.2z"}}]},name:"arrow-up",theme:"outlined"},s=O,d=e(84089),m=function(R,C){return n.createElement(d.Z,(0,_.Z)((0,_.Z)({},R),{},{ref:C,icon:s}))};m.displayName="ArrowUpOutlined";var t=n.forwardRef(m)},64317:function(W,M,e){var _=e(1413),n=e(91),O=e(86074),s=e(22270),d=e(62435),m=e(66758),t=e(25338),A=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","showSearch","options"],R=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","options"],C=d.forwardRef(function(r,u){var l=r.fieldProps,h=r.children,i=r.params,U=r.proFieldProps,j=r.mode,Z=r.valueEnum,a=r.request,B=r.showSearch,x=r.options,K=(0,n.Z)(r,A),L=(0,d.useContext)(m.Z);return(0,O.jsx)(t.Z,(0,_.Z)((0,_.Z)({valueEnum:(0,s.h)(Z),request:a,params:i,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:(0,_.Z)({options:x,mode:j,showSearch:B,getPopupContainer:L.getPopupContainer},l),ref:u,proFieldProps:U},K),{},{children:h}))}),T=d.forwardRef(function(r,u){var l=r.fieldProps,h=r.children,i=r.params,U=r.proFieldProps,j=r.mode,Z=r.valueEnum,a=r.request,B=r.options,x=(0,n.Z)(r,R),K=(0,_.Z)({options:B,mode:j||"multiple",labelInValue:!0,showSearch:!0,showArrow:!1,autoClearSearchValue:!0,optionLabelProp:"label"},l),L=(0,d.useContext)(m.Z);return(0,O.jsx)(t.Z,(0,_.Z)((0,_.Z)({valueEnum:(0,s.h)(Z),request:a,params:i,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:(0,_.Z)({getPopupContainer:L.getPopupContainer},K),ref:u,proFieldProps:U},x),{},{children:h}))}),f=C,D=T,S=f;S.SearchSelect=D,S.displayName="ProFormComponent",M.Z=S},5966:function(W,M,e){var _=e(1413),n=e(91),O=e(86074),s=e(25338),d=["fieldProps","proFieldProps"],m=["fieldProps","proFieldProps"],t="text",A=function(f){var D=f.fieldProps,S=f.proFieldProps,r=(0,n.Z)(f,d);return(0,O.jsx)(s.Z,(0,_.Z)({valueType:t,fieldProps:D,filedConfig:{valueType:t},proFieldProps:S},r))},R=function(f){var D=f.fieldProps,S=f.proFieldProps,r=(0,n.Z)(f,m);return(0,O.jsx)(s.Z,(0,_.Z)({valueType:"password",fieldProps:D,proFieldProps:S,filedConfig:{valueType:t}},r))},C=A;C.Password=R,C.displayName="ProFormComponent",M.Z=C},76131:function(W,M,e){var _=e(5574),n=e.n(_),O=e(98364),s=e(99351),d=e(5966),m=e(64317),t=e(62435),A=e(86074),R=function(T){var f=(0,t.useState)(),D=n()(f,2),S=D[0],r=D[1];return(0,t.useEffect)(function(){(0,O.eB)().then(function(u){r(u.map(function(l){return{label:l.name,value:l.id}}))})},[]),(0,A.jsxs)(s.Y,{open:T.open,title:"Add component",onFinish:T.onFinish,onOpenChange:T.onOpenChange,children:[(0,A.jsx)(d.Z,{name:"name",label:"Name"}),(0,A.jsx)(m.Z,{showSearch:!0,options:S,name:"componentId",label:"Component"})]})};M.Z=R},14027:function(W,M,e){var _=e(15009),n=e.n(_),O=e(99289),s=e.n(O),d=e(5574),m=e.n(d),t=e(66352),A=e(24969),R=e(86548),C=e(1912),T=e(77171),f=e(48689),D=e(22538),S=e(99351),r=e(5966),u=e(64317),l=e(27790),h=e(71577),i=e(86738),U=e(90905),j=e(62435),Z=e(76131),a=e(86074),B=function(){var K=(0,U.useParams)(),L=K.id,g=(0,j.useRef)(),z=(0,j.useState)(!1),F=m()(z,2),G=F[0],b=F[1],X=(0,j.useState)(!1),$=m()(X,2),Y=$[0],w=$[1],H=(0,j.useState)(),N=m()(H,2),J=N[0],Q=N[1];(0,j.useEffect)(function(){var P;(P=g.current)===null||P===void 0||P.reload()},[L]);var k=function(){var P=s()(n()().mark(function E(o){var v,c;return n()().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return p.next=2,(0,t.zt)(o,L);case 2:v=p.sent,v.succeeded?(l.ZP.success("Deleted!"),(c=g.current)===null||c===void 0||c.reload()):l.ZP.error(v.errors[0].description);case 4:case"end":return p.stop()}},E)}));return function(o){return P.apply(this,arguments)}}(),V=function(){var P=s()(n()().mark(function E(o,v){var c,I;return n()().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return o.sortOrder=v?o.sortOrder-1:o.sortOrder+1,y.next=3,(0,t.aN)(o.id,o.catalogId,o.sortOrder);case 3:c=y.sent,c.succeeded&&(l.ZP.success("Sorted!"),(I=g.current)===null||I===void 0||I.reload());case 5:case"end":return y.stop()}},E)}));return function(o,v){return P.apply(this,arguments)}}(),q=function(){var P=s()(n()().mark(function E(o){var v,c;return n()().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return o.catalogId=L,p.next=3,(0,t.yL)(o);case 3:v=p.sent,v.succeeded&&(l.ZP.success("Added!"),b(!1),(c=g.current)===null||c===void 0||c.reload());case 5:case"end":return p.stop()}},E)}));return function(o){return P.apply(this,arguments)}}(),ee=function(){var P=s()(n()().mark(function E(){var o;return n()().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,(0,t.x)();case 2:o=c.sent,Q(o),w(!0);case 5:case"end":return c.stop()}},E)}));return function(){return P.apply(this,arguments)}}(),ne=function(){var P=s()(n()().mark(function E(o){var v,c;return n()().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return p.next=2,(0,t.jX)(o);case 2:v=p.sent,v.succeeded&&(l.ZP.success("Saved"),w(!1),(c=g.current)===null||c===void 0||c.reload());case 4:case"end":return p.stop()}},E)}));return function(o){return P.apply(this,arguments)}}();return(0,a.jsxs)("div",{children:[(0,a.jsx)(D.Rs,{toolBarRender:function(){return[(0,a.jsx)(h.Z,{onClick:function(){return b(!0)},type:"primary",icon:(0,a.jsx)(A.Z,{}),children:(0,a.jsx)(U.FormattedMessage,{id:"general.new"})},0),(0,a.jsx)(h.Z,{onClick:ee,children:"Select"},1)]},rowSelection:{},actionRef:g,request:s()(n()().mark(function P(){return n()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",(0,t.KC)(L));case 1:case"end":return o.stop()}},P)})),headerTitle:"Work items",metas:{title:{dataIndex:"name"},actions:{render:function(E,o){return[(0,a.jsx)(h.Z,{type:"primary",icon:(0,a.jsx)(R.Z,{}),onClick:function(){U.history.push("/works/".concat(o.normalizedName.toLocaleLowerCase(),"/").concat(o.id))}},1),(0,a.jsx)(h.Z,{icon:(0,a.jsx)(C.Z,{}),onClick:function(){return V(o,!0)}},2),(0,a.jsx)(h.Z,{icon:(0,a.jsx)(T.Z,{}),onClick:function(){return V(o,!1)}},3),(0,a.jsxs)(i.Z,{title:"Are you sure?",onConfirm:function(){return k(o.id)},children:[(0,a.jsx)(h.Z,{icon:(0,a.jsx)(f.Z,{}),danger:!0,type:"primary"}),","]},4)]}}}}),(0,a.jsx)(Z.Z,{open:G,onOpenChange:b,onFinish:q}),(0,a.jsxs)(S.Y,{open:Y,onOpenChange:w,onFinish:ne,children:[(0,a.jsx)(r.Z,{name:"catalogId",initialValue:L,hidden:!0}),(0,a.jsx)(u.Z,{showSearch:!0,name:"workContentId",options:J,label:"Work"})]})]})};M.Z=B},98364:function(W,M,e){e.d(M,{CO:function(){return C},Xr:function(){return m},Z:function(){return f},eB:function(){return A},v7:function(){return S}});var _=e(15009),n=e.n(_),O=e(99289),s=e.n(O),d=e(90905);function m(u){return t.apply(this,arguments)}function t(){return t=s()(n()().mark(function u(l){return n()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",(0,d.request)("component/".concat(l)));case 1:case"end":return i.stop()}},u)})),t.apply(this,arguments)}function A(){return(0,d.request)("component/list-all")}function R(u){return request("component/add",{method:"POST",data:u})}function C(u){return T.apply(this,arguments)}function T(){return T=s()(n()().mark(function u(l){return n()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",(0,d.request)("component/list",{params:l}));case 1:case"end":return i.stop()}},u)})),T.apply(this,arguments)}function f(u,l){return D.apply(this,arguments)}function D(){return D=s()(n()().mark(function u(l,h){return n()().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:return U.abrupt("return",(0,d.request)("component/list-work/".concat(h),{params:l}));case 1:case"end":return U.stop()}},u)})),D.apply(this,arguments)}function S(u){return r.apply(this,arguments)}function r(){return r=s()(n()().mark(function u(l){return n()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",(0,d.request)("component/delete/".concat(l),{method:"POST"}));case 1:case"end":return i.stop()}},u)})),r.apply(this,arguments)}}}]);
