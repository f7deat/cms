"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[4027],{77171:function(I,M,e){e.d(M,{Z:function(){return _}});var l=e(1413),r=e(62435),O={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M862 465.3h-81c-4.6 0-9 2-12.1 5.5L550 723.1V160c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v563.1L255.1 470.8c-3-3.5-7.4-5.5-12.1-5.5h-81c-6.8 0-10.5 8.1-6 13.2L487.9 861a31.96 31.96 0 0048.3 0L868 478.5c4.5-5.2.8-13.2-6-13.2z"}}]},name:"arrow-down",theme:"outlined"},a=O,i=e(84089),d=function(h,T){return r.createElement(i.Z,(0,l.Z)((0,l.Z)({},h),{},{ref:T,icon:a}))};d.displayName="ArrowDownOutlined";var _=r.forwardRef(d)},1912:function(I,M,e){e.d(M,{Z:function(){return _}});var l=e(1413),r=e(62435),O={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M868 545.5L536.1 163a31.96 31.96 0 00-48.3 0L156 545.5a7.97 7.97 0 006 13.2h81c4.6 0 9-2 12.1-5.5L474 300.9V864c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V300.9l218.9 252.3c3 3.5 7.4 5.5 12.1 5.5h81c6.8 0 10.5-8 6-13.2z"}}]},name:"arrow-up",theme:"outlined"},a=O,i=e(84089),d=function(h,T){return r.createElement(i.Z,(0,l.Z)((0,l.Z)({},h),{},{ref:T,icon:a}))};d.displayName="ArrowUpOutlined";var _=r.forwardRef(d)},64317:function(I,M,e){var l=e(1413),r=e(91),O=e(86074),a=e(22270),i=e(62435),d=e(66758),_=e(25338),A=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","showSearch","options"],h=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","options"],T=i.forwardRef(function(t,j){var f=t.fieldProps,g=t.children,L=t.params,s=t.proFieldProps,u=t.mode,m=t.valueEnum,n=t.request,U=t.showSearch,w=t.options,K=(0,r.Z)(t,A),W=(0,i.useContext)(d.Z);return(0,O.jsx)(_.Z,(0,l.Z)((0,l.Z)({valueEnum:(0,a.h)(m),request:n,params:L,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:(0,l.Z)({options:w,mode:u,showSearch:U,getPopupContainer:W.getPopupContainer},f),ref:j,proFieldProps:s},K),{},{children:g}))}),R=i.forwardRef(function(t,j){var f=t.fieldProps,g=t.children,L=t.params,s=t.proFieldProps,u=t.mode,m=t.valueEnum,n=t.request,U=t.options,w=(0,r.Z)(t,h),K=(0,l.Z)({options:U,mode:u||"multiple",labelInValue:!0,showSearch:!0,showArrow:!1,autoClearSearchValue:!0,optionLabelProp:"label"},f),W=(0,i.useContext)(d.Z);return(0,O.jsx)(_.Z,(0,l.Z)((0,l.Z)({valueEnum:(0,a.h)(m),request:n,params:L,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:(0,l.Z)({getPopupContainer:W.getPopupContainer},K),ref:j,proFieldProps:s},w),{},{children:g}))}),C=T,D=R,S=C;S.SearchSelect=D,S.displayName="ProFormComponent",M.Z=S},5966:function(I,M,e){var l=e(1413),r=e(91),O=e(86074),a=e(25338),i=["fieldProps","proFieldProps"],d=["fieldProps","proFieldProps"],_="text",A=function(C){var D=C.fieldProps,S=C.proFieldProps,t=(0,r.Z)(C,i);return(0,O.jsx)(a.Z,(0,l.Z)({valueType:_,fieldProps:D,filedConfig:{valueType:_},proFieldProps:S},t))},h=function(C){var D=C.fieldProps,S=C.proFieldProps,t=(0,r.Z)(C,d);return(0,O.jsx)(a.Z,(0,l.Z)({valueType:"password",fieldProps:D,proFieldProps:S,filedConfig:{valueType:_}},t))},T=A;T.Password=h,T.displayName="ProFormComponent",M.Z=T},76131:function(I,M,e){var l=e(5574),r=e.n(l),O=e(98364),a=e(99351),i=e(5966),d=e(64317),_=e(62435),A=e(86074),h=function(R){var C=(0,_.useState)(),D=r()(C,2),S=D[0],t=D[1];return(0,_.useEffect)(function(){(0,O.eB)().then(function(j){t(j.map(function(f){return{label:f.name,value:f.id}}))})},[]),(0,A.jsxs)(a.Y,{open:R.open,title:"Add component",onFinish:R.onFinish,onOpenChange:R.onOpenChange,children:[(0,A.jsx)(i.Z,{name:"name",label:"Name"}),(0,A.jsx)(d.Z,{showSearch:!0,options:S,name:"componentId",label:"Component"})]})};M.Z=h},14027:function(I,M,e){var l=e(15009),r=e.n(l),O=e(99289),a=e.n(O),i=e(5574),d=e.n(i),_=e(66352),A=e(24969),h=e(86548),T=e(1912),R=e(77171),C=e(48689),D=e(22538),S=e(99351),t=e(5966),j=e(64317),f=e(27790),g=e(71577),L=e(86738),s=e(90905),u=e(62435),m=e(76131),n=e(86074),U=function(){var K=(0,s.useParams)(),W=K.id,Z=(0,u.useRef)(),G=(0,u.useState)(!1),F=d()(G,2),z=F[0],b=F[1],X=(0,u.useState)(!1),$=d()(X,2),Y=$[0],x=$[1],H=(0,u.useState)(),N=d()(H,2),J=N[0],Q=N[1];(0,u.useEffect)(function(){var P;(P=Z.current)===null||P===void 0||P.reload()},[W]);var k=function(){var P=a()(r()().mark(function E(o){var v,c;return r()().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return p.next=2,(0,_.zt)(o,W);case 2:v=p.sent,v.succeeded?(f.ZP.success("Deleted!"),(c=Z.current)===null||c===void 0||c.reload()):f.ZP.error(v.errors[0].description);case 4:case"end":return p.stop()}},E)}));return function(o){return P.apply(this,arguments)}}(),V=function(){var P=a()(r()().mark(function E(o,v){var c,B;return r()().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return o.sortOrder=v?o.sortOrder-1:o.sortOrder+1,y.next=3,(0,_.aN)(o.id,o.catalogId,o.sortOrder);case 3:c=y.sent,c.succeeded&&(f.ZP.success("Sorted!"),(B=Z.current)===null||B===void 0||B.reload());case 5:case"end":return y.stop()}},E)}));return function(o,v){return P.apply(this,arguments)}}(),q=function(){var P=a()(r()().mark(function E(o){var v,c;return r()().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return o.catalogId=W,p.next=3,(0,_.yL)(o);case 3:v=p.sent,v.succeeded&&(f.ZP.success("Added!"),b(!1),(c=Z.current)===null||c===void 0||c.reload());case 5:case"end":return p.stop()}},E)}));return function(o){return P.apply(this,arguments)}}(),ee=function(){var P=a()(r()().mark(function E(){var o;return r()().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,(0,_.x)();case 2:o=c.sent,Q(o),x(!0);case 5:case"end":return c.stop()}},E)}));return function(){return P.apply(this,arguments)}}(),ne=function(){var P=a()(r()().mark(function E(o){var v,c;return r()().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return p.next=2,(0,_.jX)(o);case 2:v=p.sent,v.succeeded&&(f.ZP.success("Saved"),x(!1),(c=Z.current)===null||c===void 0||c.reload());case 4:case"end":return p.stop()}},E)}));return function(o){return P.apply(this,arguments)}}();return(0,n.jsxs)("div",{children:[(0,n.jsx)(D.Rs,{toolBarRender:function(){return[(0,n.jsx)(g.Z,{onClick:function(){return b(!0)},type:"primary",icon:(0,n.jsx)(A.Z,{}),children:(0,n.jsx)(s.FormattedMessage,{id:"general.new"})},0),(0,n.jsx)(g.Z,{onClick:ee,children:"Select"},1)]},rowSelection:{},actionRef:Z,request:a()(r()().mark(function P(){return r()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",(0,_.KC)(W));case 1:case"end":return o.stop()}},P)})),headerTitle:"Work items",metas:{title:{dataIndex:"name"},actions:{render:function(E,o){return[(0,n.jsx)(g.Z,{type:"primary",icon:(0,n.jsx)(h.Z,{}),onClick:function(){s.history.push("/works/".concat(o.normalizedName.toLocaleLowerCase(),"/").concat(o.id))}},1),(0,n.jsx)(g.Z,{icon:(0,n.jsx)(T.Z,{}),onClick:function(){return V(o,!0)}},2),(0,n.jsx)(g.Z,{icon:(0,n.jsx)(R.Z,{}),onClick:function(){return V(o,!1)}},3),(0,n.jsxs)(L.Z,{title:"Are you sure?",onConfirm:function(){return k(o.id)},children:[(0,n.jsx)(g.Z,{icon:(0,n.jsx)(C.Z,{}),danger:!0,type:"primary"}),","]},4)]}}}}),(0,n.jsx)(m.Z,{open:z,onOpenChange:b,onFinish:q}),(0,n.jsxs)(S.Y,{open:Y,onOpenChange:x,onFinish:ne,children:[(0,n.jsx)(t.Z,{name:"catalogId",initialValue:W,hidden:!0}),(0,n.jsx)(j.Z,{showSearch:!0,name:"workContentId",options:J,label:"Work"})]})]})};M.Z=U},98364:function(I,M,e){e.d(M,{CO:function(){return S},KL:function(){return C},Xr:function(){return d},Z:function(){return j},eB:function(){return A},v7:function(){return g}});var l=e(15009),r=e.n(l),O=e(99289),a=e.n(O),i=e(90905);function d(s){return _.apply(this,arguments)}function _(){return _=a()(r()().mark(function s(u){return r()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,i.request)("component/".concat(u)));case 1:case"end":return n.stop()}},s)})),_.apply(this,arguments)}function A(){return h.apply(this,arguments)}function h(){return h=a()(r()().mark(function s(){return r()().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return m.abrupt("return",(0,i.request)("component/list-all"));case 1:case"end":return m.stop()}},s)})),h.apply(this,arguments)}function T(s){return R.apply(this,arguments)}function R(){return R=_asyncToGenerator(_regeneratorRuntime().mark(function s(u){return _regeneratorRuntime().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",request("component/add",{method:"POST",data:u}));case 1:case"end":return n.stop()}},s)})),R.apply(this,arguments)}function C(s){return D.apply(this,arguments)}function D(){return D=a()(r()().mark(function s(u){return r()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,i.request)("component/update",{method:"POST",data:u}));case 1:case"end":return n.stop()}},s)})),D.apply(this,arguments)}function S(s){return t.apply(this,arguments)}function t(){return t=a()(r()().mark(function s(u){return r()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,i.request)("component/list",{params:u}));case 1:case"end":return n.stop()}},s)})),t.apply(this,arguments)}function j(s,u){return f.apply(this,arguments)}function f(){return f=a()(r()().mark(function s(u,m){return r()().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:return U.abrupt("return",(0,i.request)("component/list-work/".concat(m),{params:u}));case 1:case"end":return U.stop()}},s)})),f.apply(this,arguments)}function g(s){return L.apply(this,arguments)}function L(){return L=a()(r()().mark(function s(u){return r()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,i.request)("component/delete/".concat(u),{method:"POST"}));case 1:case"end":return n.stop()}},s)})),L.apply(this,arguments)}}}]);
