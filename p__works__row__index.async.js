"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[649],{82826:function(K,E,e){e.d(E,{Z:function(){return i}});var l=e(1413),r=e(62435),P={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M872 474H286.9l350.2-304c5.6-4.9 2.2-14-5.2-14h-88.5c-3.9 0-7.6 1.4-10.5 3.9L155 487.8a31.96 31.96 0 000 48.3L535.1 866c1.5 1.3 3.3 2 5.2 2h91.5c7.4 0 10.8-9.2 5.2-14L286.9 550H872c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z"}}]},name:"arrow-left",theme:"outlined"},u=P,d=e(91146),m=function(g,A){return r.createElement(d.Z,(0,l.Z)((0,l.Z)({},g),{},{ref:A,icon:u}))};m.displayName="ArrowLeftOutlined";var i=r.forwardRef(m)},47389:function(K,E,e){var l=e(1413),r=e(62435),P=e(27363),u=e(91146),d=function(i,C){return r.createElement(u.Z,(0,l.Z)((0,l.Z)({},i),{},{ref:C,icon:P.Z}))};d.displayName="EditOutlined",E.Z=r.forwardRef(d)},64317:function(K,E,e){var l=e(1413),r=e(91),P=e(22270),u=e(62435),d=e(66758),m=e(96987),i=e(86074),C=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","showSearch","options"],g=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","options"],A=u.forwardRef(function(a,b){var O=a.fieldProps,D=a.children,R=a.params,s=a.proFieldProps,o=a.mode,c=a.valueEnum,t=a.request,p=a.showSearch,Z=a.options,y=(0,r.Z)(a,C),F=(0,u.useContext)(d.Z);return(0,i.jsx)(m.Z,(0,l.Z)((0,l.Z)({valueEnum:(0,P.h)(c),request:t,params:R,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:(0,l.Z)({options:Z,mode:o,showSearch:p,getPopupContainer:F.getPopupContainer},O),ref:b,proFieldProps:s},y),{},{children:D}))}),v=u.forwardRef(function(a,b){var O=a.fieldProps,D=a.children,R=a.params,s=a.proFieldProps,o=a.mode,c=a.valueEnum,t=a.request,p=a.options,Z=(0,r.Z)(a,g),y=(0,l.Z)({options:p,mode:o||"multiple",labelInValue:!0,showSearch:!0,showArrow:!1,autoClearSearchValue:!0,optionLabelProp:"label"},O),F=(0,u.useContext)(d.Z);return(0,i.jsx)(m.Z,(0,l.Z)((0,l.Z)({valueEnum:(0,P.h)(c),request:t,params:R,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:(0,l.Z)({getPopupContainer:F.getPopupContainer},y),ref:b,proFieldProps:s},Z),{},{children:D}))}),W=A,M=v,I=W;I.SearchSelect=M,I.displayName="ProFormComponent",E.Z=I},76131:function(K,E,e){var l=e(97857),r=e.n(l),P=e(37476),u=e(5966),d=e(65675),m=e(86074),i=function(g){return(0,m.jsxs)(P.Y,r()(r()({},g),{},{title:"Add component",children:[(0,m.jsx)(u.Z,{name:"name",label:"Name"}),(0,m.jsx)(d.Z,{name:"componentId",label:"Component"})]}))};E.Z=i},65675:function(K,E,e){var l=e(98364),r=e(64317),P=e(86074),u=function(m){return(0,P.jsx)(r.Z,{showSearch:!0,request:l.Ef,name:m.name,label:m.label})};E.Z=u},85335:function(K,E,e){var l=e(15009),r=e.n(l),P=e(99289),u=e.n(P),d=e(66352),m=e(28199),i=e(34994),C=e(5966),g=e(63434),A=e(35312),v=e(58301),W=e(62435),M=e(86074),I=function(){var b=(0,A.useParams)(),O=b.id,D=(0,W.useRef)();(0,W.useEffect)(function(){(0,d.Mk)(O).then(function(s){var o;(o=D.current)===null||o===void 0||o.setFields([{name:"name",value:s.name},{name:"active",value:s.active}])})},[O]);var R=function(){var s=u()(r()().mark(function o(c){var t;return r()().wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:return Z.next=2,(0,d.Qb)(c);case 2:t=Z.sent,t.succeeded?v.ZP.success("Saved!"):v.ZP.error(t.errors[0].description);case 4:case"end":return Z.stop()}},o)}));return function(c){return s.apply(this,arguments)}}();return(0,M.jsx)(m.Z,{title:"Info",children:(0,M.jsxs)(i.A,{formRef:D,onFinish:R,children:[(0,M.jsx)(C.Z,{hidden:!0,name:"id",initialValue:O}),(0,M.jsx)(C.Z,{name:"name",label:"Name"}),(0,M.jsx)(g.Z,{name:"active",label:"Active"})]})})};E.Z=I},60168:function(K,E,e){e.r(E),e.d(E,{default:function(){return ie}});var l=e(5574),r=e.n(l),P=e(85335),u=e(82826),d=e(63386),m=e(28199),i=e(35312),C=e(71577),g=e(71230),A=e(15746),v=e(62435),W=e(97857),M=e.n(W),I=e(15009),a=e.n(I),b=e(99289),O=e.n(b),D=e(66352),R=e(47389),s=e(82061),o=e(51042),c=e(62639),t=e(37476),p=e(5966),Z=e(64317),y=e(58301),F=e(86738),ne=e(32983),te=e(76131),n=e(86074),re=function(){var w=(0,i.useParams)(),T=w.id,U=(0,i.useIntl)(),N=(0,v.useState)([]),S=r()(N,2),L=S[0],$=S[1],z=(0,v.useState)(!1),Q=r()(z,2),B=Q[0],X=Q[1],de=(0,v.useState)(""),k=r()(de,2),me=k[0],ce=k[1],pe=(0,v.useState)(!1),q=r()(pe,2),_e=q[0],Y=q[1],G=function(){(0,D.RI)(T).then(function(f){$(f||[])})};(0,v.useEffect)(function(){T&&G()},[T]);var ve=function(){var _=O()(a()().mark(function f(h){var j;return a()().wrap(function(x){for(;;)switch(x.prev=x.next){case 0:return h.rowId=T,x.next=3,(0,D.Wf)(h);case 3:j=x.sent,j.succeeded?(y.ZP.success("Added!"),Y(!1),G()):y.ZP.error(j.errors[0].description);case 5:case"end":return x.stop()}},f)}));return function(h){return _.apply(this,arguments)}}(),fe=function(){var _=O()(a()().mark(function f(h){var j,H;return a()().wrap(function(V){for(;;)switch(V.prev=V.next){case 0:return j=M()({active:!0,parentId:me},h),V.next=3,(0,D.XQ)(j);case 3:H=V.sent,H.succeeded&&(y.ZP.success("Added!"),X(!1),G());case 5:case"end":return V.stop()}},f)}));return function(h){return _.apply(this,arguments)}}(),ee=function(){var _=O()(a()().mark(function f(h){var j;return a()().wrap(function(x){for(;;)switch(x.prev=x.next){case 0:return x.next=2,(0,D.Js)(h);case 2:j=x.sent,j.succeeded?(y.ZP.success(U.formatMessage({id:"general.deleted"})),G()):y.ZP.error(j.errors[0].description);case 4:case"end":return x.stop()}},f)}));return function(h){return _.apply(this,arguments)}}(),he=function(f){return Number(f.split("-")[2])*2},Ee=[{title:"#",dataIndex:"sort",className:"drag-visible"},{title:"Name",dataIndex:"name"},{title:"Status",dataIndex:"active",valueEnum:{false:{text:"Draft",status:"Default"},true:{text:"Active",status:"Processing"}}},{title:"Action",valueType:"option",render:function(f,h){return[(0,n.jsx)(C.ZP,{type:"primary",icon:(0,n.jsx)(R.Z,{}),onClick:function(){i.history.push("/works/".concat(h.normalizedName.toLocaleLowerCase(),"/").concat(h.id))}},1),(0,n.jsx)(F.Z,{title:"Are you sure?",onConfirm:function(){return ee(h.id)},children:(0,n.jsx)(C.ZP,{icon:(0,n.jsx)(s.Z,{}),danger:!0,type:"primary"})},4)]}}],Pe=function(f){var h=f.map(function(j){return j.id||""});(0,D.pd)(h).then(function(j){j.succeeded&&(G(),y.ZP.success("Saved!"))})};return(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{className:"mb-4 flex justify-end",children:(0,n.jsx)(C.ZP,{icon:(0,n.jsx)(o.Z,{}),type:"primary",onClick:function(){return Y(!0)},children:(0,n.jsx)("span",{children:(0,n.jsx)(i.FormattedMessage,{id:"general.new"})})})}),(0,n.jsx)(g.Z,{gutter:16,children:L.map(function(_,f){return(0,n.jsx)(A.Z,{span:he(_.className),children:(0,n.jsx)(m.Z,{title:_.name,bordered:!0,headerBordered:!0,extra:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(C.ZP,{type:"link",icon:(0,n.jsx)(o.Z,{}),onClick:function(){ce(_.id||""),X(!0)}}),(0,n.jsx)(F.Z,{title:"Are you sure?",onConfirm:function(){return ee(_.id)},children:(0,n.jsx)(C.ZP,{type:"link",danger:!0,icon:(0,n.jsx)(s.Z,{})})})]}),children:_.items&&_.items.length>0?(0,n.jsx)(c.Z,{ghost:!0,search:!1,columns:Ee,dataSource:_.items,rowKey:"id",dragSortKey:"sort",onDragSortEnd:Pe}):(0,n.jsx)(ne.Z,{})})},f)})}),(0,n.jsx)(te.Z,{open:B,onOpenChange:X,onFinish:fe}),(0,n.jsxs)(t.Y,{open:_e,onOpenChange:Y,onFinish:ve,children:[(0,n.jsx)(p.Z,{name:"name",label:"Name",rules:[{required:!0}]}),(0,n.jsx)(Z.Z,{label:"Collumn",options:[{label:"col-md-1",value:"col-md-1"},{label:"col-md-2",value:"col-md-2"},{label:"col-md-3",value:"col-md-3"},{label:"col-md-4",value:"col-md-4"},{label:"col-md-5",value:"col-md-5"},{label:"col-md-6",value:"col-md-6"},{label:"col-md-7",value:"col-md-7"},{label:"col-md-8",value:"col-md-8"},{label:"col-md-9",value:"col-md-9"},{label:"col-md-10",value:"col-md-10"},{label:"col-md-11",value:"col-md-11"},{label:"col-md-12",value:"col-md-12"}],name:"className"})]})]})},ae=re,se=e(34994),oe=function(){var w=(0,i.useParams)(),T=w.id,U=(0,v.useRef)();(0,v.useEffect)(function(){(0,D.dM)(T).then(function(S){var L;(L=U.current)===null||L===void 0||L.setFields([{name:"name",value:S.name},{name:"layout",value:S.layout},{name:"className",value:S.className},{name:"gap",value:S.gap}])})},[]);var N=function(){var S=O()(a()().mark(function L($){var z;return a()().wrap(function(B){for(;;)switch(B.prev=B.next){case 0:return $.id=T,B.next=3,(0,D.n5)($);case 3:z=B.sent,z.succeeded&&y.ZP.success("Saved!");case 5:case"end":return B.stop()}},L)}));return function($){return S.apply(this,arguments)}}();return(0,n.jsxs)(se.A,{onFinish:N,formRef:U,children:[(0,n.jsx)(p.Z,{name:"name",label:"Name"}),(0,n.jsx)(p.Z,{name:"className",label:"Class name"}),(0,n.jsx)(Z.Z,{name:"layout",label:"Layout",options:[{label:"Full width",value:"container-fluid"},{label:"Container",value:"container"}]}),(0,n.jsx)(Z.Z,{name:"gap",label:"Gap",options:[{label:"0",value:"gap-0"},{label:"4",value:"gap-4"}]})]})},le=oe,ue=function(){var w=(0,v.useState)("content"),T=r()(w,2),U=T[0],N=T[1];return(0,n.jsx)(d._z,{extra:(0,n.jsx)(C.ZP,{icon:(0,n.jsx)(u.Z,{}),onClick:function(){return i.history.back()},children:(0,n.jsx)("span",{children:(0,n.jsx)(i.FormattedMessage,{id:"general.back"})})}),children:(0,n.jsxs)(g.Z,{gutter:16,children:[(0,n.jsx)(A.Z,{span:18,children:(0,n.jsx)(m.Z,{tabs:{activeKey:U,items:[{label:"Content",key:"content",children:(0,n.jsx)(ae,{})},{label:(0,n.jsx)(i.FormattedMessage,{id:"menu.settings"}),key:"setting",children:(0,n.jsx)(le,{})}],onChange:function(L){N(L)}}})}),(0,n.jsx)(A.Z,{span:6,children:(0,n.jsx)(P.Z,{})})]})})},ie=ue},98364:function(K,E,e){e.d(E,{CO:function(){return W},Ef:function(){return D},KL:function(){return A},Xr:function(){return m},Z:function(){return I},v7:function(){return b}});var l=e(15009),r=e.n(l),P=e(99289),u=e.n(P),d=e(35312);function m(s){return i.apply(this,arguments)}function i(){return i=u()(r()().mark(function s(o){return r()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,d.request)("component/".concat(o)));case 1:case"end":return t.stop()}},s)})),i.apply(this,arguments)}function C(s){return g.apply(this,arguments)}function g(){return g=_asyncToGenerator(_regeneratorRuntime().mark(function s(o){return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",request("component/add",{method:"POST",data:o}));case 1:case"end":return t.stop()}},s)})),g.apply(this,arguments)}function A(s){return v.apply(this,arguments)}function v(){return v=u()(r()().mark(function s(o){return r()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,d.request)("component/update",{method:"POST",data:o}));case 1:case"end":return t.stop()}},s)})),v.apply(this,arguments)}function W(s){return M.apply(this,arguments)}function M(){return M=u()(r()().mark(function s(o){return r()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,d.request)("component/list",{params:o}));case 1:case"end":return t.stop()}},s)})),M.apply(this,arguments)}function I(s,o){return a.apply(this,arguments)}function a(){return a=u()(r()().mark(function s(o,c){return r()().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return p.abrupt("return",(0,d.request)("component/list-work/".concat(c),{params:o}));case 1:case"end":return p.stop()}},s)})),a.apply(this,arguments)}function b(s){return O.apply(this,arguments)}function O(){return O=u()(r()().mark(function s(o){return r()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,d.request)("component/delete/".concat(o),{method:"POST"}));case 1:case"end":return t.stop()}},s)})),O.apply(this,arguments)}function D(s){return R.apply(this,arguments)}function R(){return R=u()(r()().mark(function s(o){var c;return r()().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return c={searchTerm:o.keyWords},p.abrupt("return",(0,d.request)("component/form-select",{params:c}));case 2:case"end":return p.stop()}},s)})),R.apply(this,arguments)}}}]);
