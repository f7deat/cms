"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[649],{82826:function(V,E,e){e.d(E,{Z:function(){return a}});var o=e(1413),l=e(62435),m={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M872 474H286.9l350.2-304c5.6-4.9 2.2-14-5.2-14h-88.5c-3.9 0-7.6 1.4-10.5 3.9L155 487.8a31.96 31.96 0 000 48.3L535.1 866c1.5 1.3 3.3 2 5.2 2h91.5c7.4 0 10.8-9.2 5.2-14L286.9 550H872c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z"}}]},name:"arrow-left",theme:"outlined"},p=m,i=e(84089),t=function(g,f){return l.createElement(i.Z,(0,o.Z)((0,o.Z)({},g),{},{ref:f,icon:p}))};t.displayName="ArrowLeftOutlined";var a=l.forwardRef(t)},64317:function(V,E,e){var o=e(1413),l=e(91),m=e(86074),p=e(22270),i=e(62435),t=e(66758),a=e(25338),A=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","showSearch","options"],g=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","options"],f=i.forwardRef(function(n,C){var I=n.fieldProps,W=n.children,B=n.params,w=n.proFieldProps,K=n.mode,O=n.valueEnum,S=n.request,j=n.showSearch,U=n.options,r=(0,l.Z)(n,A),N=(0,i.useContext)(t.Z);return(0,m.jsx)(a.Z,(0,o.Z)((0,o.Z)({valueEnum:(0,p.h)(O),request:S,params:B,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:(0,o.Z)({options:U,mode:K,showSearch:j,getPopupContainer:N.getPopupContainer},I),ref:C,proFieldProps:w},r),{},{children:W}))}),P=i.forwardRef(function(n,C){var I=n.fieldProps,W=n.children,B=n.params,w=n.proFieldProps,K=n.mode,O=n.valueEnum,S=n.request,j=n.options,U=(0,l.Z)(n,g),r=(0,o.Z)({options:j,mode:K||"multiple",labelInValue:!0,showSearch:!0,showArrow:!1,autoClearSearchValue:!0,optionLabelProp:"label"},I),N=(0,i.useContext)(t.Z);return(0,m.jsx)(a.Z,(0,o.Z)((0,o.Z)({valueEnum:(0,p.h)(O),request:S,params:B,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:(0,o.Z)({getPopupContainer:N.getPopupContainer},r),ref:C,proFieldProps:w},U),{},{children:W}))}),u=f,s=P,h=u;h.SearchSelect=s,h.displayName="ProFormComponent",E.Z=h},5966:function(V,E,e){var o=e(1413),l=e(91),m=e(86074),p=e(25338),i=["fieldProps","proFieldProps"],t=["fieldProps","proFieldProps"],a="text",A=function(u){var s=u.fieldProps,h=u.proFieldProps,n=(0,l.Z)(u,i);return(0,m.jsx)(p.Z,(0,o.Z)({valueType:a,fieldProps:s,filedConfig:{valueType:a},proFieldProps:h},n))},g=function(u){var s=u.fieldProps,h=u.proFieldProps,n=(0,l.Z)(u,t);return(0,m.jsx)(p.Z,(0,o.Z)({valueType:"password",fieldProps:s,proFieldProps:h,filedConfig:{valueType:a}},n))},f=A;f.Password=g,f.displayName="ProFormComponent",E.Z=f},60168:function(V,E,e){e.r(E),e.d(E,{default:function(){return q}});var o=e(5574),l=e.n(o),m=e(82826),p=e(62884),i=e(30029),t=e(90905),a=e(71577),A=e(71230),g=e(15746),f=e(32983),P=e(62435),u=e(15009),s=e.n(u),h=e(99289),n=e.n(h),C=e(66352),I=e(24969),W=e(32319),B=e(48689),w=e(22538),K=e(99351),O=e(5966),S=e(64317),j=e(27790),U=e(86738),r=e(86074),N=function(){var $=(0,t.useParams)(),F=$.id,R=(0,P.useRef)(),b=(0,t.useIntl)(),v=(0,P.useState)(!1),d=l()(v,2),G=d[0],L=d[1],H=function(){var D=n()(s()().mark(function x(Z){var y,T;return s()().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return Z.rowId=F,c.next=3,(0,C.Wf)(Z);case 3:y=c.sent,y.succeeded?(j.ZP.success("Added!"),(T=R.current)===null||T===void 0||T.reload(),L(!1)):j.ZP.error(y.errors[0].description);case 5:case"end":return c.stop()}},x)}));return function(Z){return D.apply(this,arguments)}}(),M=function(){var D=n()(s()().mark(function x(Z){var y,T;return s()().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,(0,C.rB)(Z);case 2:y=c.sent,y.succeeded&&(j.ZP.success(b.formatMessage({id:"general.deleted"})),(T=R.current)===null||T===void 0||T.reload());case 4:case"end":return c.stop()}},x)}));return function(Z){return D.apply(this,arguments)}}();return(0,r.jsxs)("div",{children:[(0,r.jsx)(w.Rs,{toolBarRender:function(){return[(0,r.jsx)(a.Z,{icon:(0,r.jsx)(I.Z,{}),type:"primary",onClick:function(){return L(!0)},children:(0,r.jsx)(t.FormattedMessage,{id:"general.new"})},0)]},request:function(x){return(0,C.RI)(x,F)},actionRef:R,rowSelection:{},headerTitle:"Column",metas:{title:{dataIndex:"name"},actions:{render:function(x,Z){return[(0,r.jsx)(a.Z,{type:"primary",icon:(0,r.jsx)(W.Z,{}),onClick:function(){return t.history.push("/works/column/".concat(Z.id))}},0),(0,r.jsx)(U.Z,{title:"Are you sure?",onConfirm:function(){return M(Z.id)},children:(0,r.jsx)(a.Z,{type:"primary",danger:!0,icon:(0,r.jsx)(B.Z,{})})},1)]}}}}),(0,r.jsxs)(K.Y,{open:G,onOpenChange:L,onFinish:H,children:[(0,r.jsx)(O.Z,{name:"name",label:"Name",rules:[{required:!0}]}),(0,r.jsx)(S.Z,{label:"Collumn",options:[{label:"col",value:"col"},{label:"1/3",value:"col-md-4"},{label:"2/3",value:"col-md-8"}],name:"arguments"})]})]})},Y=N,J=e(97269),Q=function(){var $=(0,t.useParams)(),F=$.id,R=(0,P.useRef)();(0,P.useEffect)(function(){(0,C.dM)(F).then(function(v){var d;(d=R.current)===null||d===void 0||d.setFields([{name:"name",value:v.name},{name:"layout",value:v.layout},{name:"className",value:v.className},{name:"gap",value:v.gap}])})},[]);var b=function(){var v=n()(s()().mark(function d(G){var L;return s()().wrap(function(M){for(;;)switch(M.prev=M.next){case 0:return G.id=F,M.next=3,(0,C.n5)(G);case 3:L=M.sent,L.succeeded&&j.ZP.success("Saved!");case 5:case"end":return M.stop()}},d)}));return function(G){return v.apply(this,arguments)}}();return(0,r.jsxs)(J.A,{onFinish:b,formRef:R,children:[(0,r.jsx)(O.Z,{name:"name",label:"Name"}),(0,r.jsx)(O.Z,{name:"className",label:"Class name"}),(0,r.jsx)(S.Z,{name:"layout",label:"Layout",options:[{label:"Full width",value:"container-fluid"},{label:"Container",value:"container"}]}),(0,r.jsx)(S.Z,{name:"gap",label:"Gap",options:[{label:"0",value:"gap-0"},{label:"4",value:"gap-4"}]})]})},X=Q,k=function(){var $=(0,P.useState)("content"),F=l()($,2),R=F[0],b=F[1];return(0,r.jsx)(p._z,{extra:(0,r.jsx)(a.Z,{icon:(0,r.jsx)(m.Z,{}),onClick:function(){return t.history.back()},children:"Back"}),children:(0,r.jsxs)(A.Z,{gutter:16,children:[(0,r.jsx)(g.Z,{span:16,children:(0,r.jsx)(i.Z,{tabs:{activeKey:R,items:[{label:"Content",key:"content",children:(0,r.jsx)(Y,{})},{label:"Setting",key:"setting",children:(0,r.jsx)(X,{})}],onChange:function(d){b(d)}}})}),(0,r.jsx)(g.Z,{span:8,children:(0,r.jsx)(i.Z,{title:"Work contents",children:(0,r.jsx)(f.Z,{})})})]})})},q=k}}]);
