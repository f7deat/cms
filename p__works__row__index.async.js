"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[649],{82826:function(W,h,e){e.d(h,{Z:function(){return o}});var E=e(1413),r=e(62435),D={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M872 474H286.9l350.2-304c5.6-4.9 2.2-14-5.2-14h-88.5c-3.9 0-7.6 1.4-10.5 3.9L155 487.8a31.96 31.96 0 000 48.3L535.1 866c1.5 1.3 3.3 2 5.2 2h91.5c7.4 0 10.8-9.2 5.2-14L286.9 550H872c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z"}}]},name:"arrow-left",theme:"outlined"},u=D,i=e(91146),m=function(P,R){return r.createElement(i.Z,(0,E.Z)((0,E.Z)({},P),{},{ref:R,icon:u}))};m.displayName="ArrowLeftOutlined";var o=r.forwardRef(m)},76131:function(W,h,e){var E=e(97857),r=e.n(E),D=e(37476),u=e(5966),i=e(65675),m=e(86074),o=function(P){return(0,m.jsxs)(D.Y,r()(r()({},P),{},{title:"Add component",children:[(0,m.jsx)(u.Z,{name:"name",label:"Name"}),(0,m.jsx)(i.Z,{name:"componentId",label:"Component"})]}))};h.Z=o},65675:function(W,h,e){var E=e(98364),r=e(64317),D=e(86074),u=function(m){return(0,D.jsx)(r.Z,{showSearch:!0,request:E.Ef,name:m.name,label:m.label})};h.Z=u},85335:function(W,h,e){var E=e(15009),r=e.n(E),D=e(99289),u=e.n(D),i=e(66352),m=e(28199),o=e(34994),j=e(5966),P=e(63434),R=e(35312),d=e(58301),I=e(62435),M=e(86074),K=function(){var B=(0,R.useParams)(),C=B.id,x=(0,I.useRef)();(0,I.useEffect)(function(){(0,i.Mk)(C).then(function(a){var s;(s=x.current)===null||s===void 0||s.setFields([{name:"name",value:a.name},{name:"active",value:a.active}])})},[C]);var L=function(){var a=u()(r()().mark(function s(v){var t;return r()().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return b.next=2,(0,i.Qb)(v);case 2:t=b.sent,t.succeeded?d.ZP.success("Saved!"):d.ZP.error(t.errors[0].description);case 4:case"end":return b.stop()}},s)}));return function(v){return a.apply(this,arguments)}}();return(0,M.jsx)(m.Z,{title:"Info",children:(0,M.jsxs)(o.A,{formRef:x,onFinish:L,children:[(0,M.jsx)(j.Z,{hidden:!0,name:"id",initialValue:C}),(0,M.jsx)(j.Z,{name:"name",label:"Name"}),(0,M.jsx)(P.Z,{name:"active",label:"Active"})]})})};h.Z=K},60168:function(W,h,e){e.r(h),e.d(h,{default:function(){return ie}});var E=e(5574),r=e.n(E),D=e(85335),u=e(82826),i=e(63386),m=e(28199),o=e(35312),j=e(71577),P=e(71230),R=e(15746),d=e(62435),I=e(97857),M=e.n(I),K=e(15009),_=e.n(K),B=e(99289),C=e.n(B),x=e(66352),L=e(47389),a=e(82061),s=e(51042),v=e(62639),t=e(37476),p=e(5966),b=e(64317),S=e(58301),X=e(86738),ne=e(32983),te=e(76131),n=e(86074),re=function(){var U=(0,o.useParams)(),A=U.id,F=(0,d.useRef)(),w=(0,o.useIntl)(),Z=(0,d.useState)([]),y=r()(Z,2),N=y[0],G=y[1],J=(0,d.useState)(!1),T=r()(J,2),me=T[0],Q=T[1],de=(0,d.useState)(""),k=r()(de,2),ce=k[0],fe=k[1],ve=(0,d.useState)(!1),q=r()(ve,2),pe=q[0],V=q[1],z=function(){(0,x.RI)(A).then(function(c){G(c||[])})};(0,d.useEffect)(function(){A&&z()},[A]);var _e=function(){var l=C()(_()().mark(function c(f){var g;return _()().wrap(function(O){for(;;)switch(O.prev=O.next){case 0:return f.rowId=A,O.next=3,(0,x.Wf)(f);case 3:g=O.sent,g.succeeded?(S.ZP.success("Added!"),V(!1),z()):S.ZP.error(g.errors[0].description);case 5:case"end":return O.stop()}},c)}));return function(f){return l.apply(this,arguments)}}(),he=function(){var l=C()(_()().mark(function c(f){var g,H;return _()().wrap(function($){for(;;)switch($.prev=$.next){case 0:return g=M()({active:!0,parentId:ce},f),$.next=3,(0,x.XQ)(g);case 3:H=$.sent,H.succeeded&&(S.ZP.success("Added!"),Q(!1),z());case 5:case"end":return $.stop()}},c)}));return function(f){return l.apply(this,arguments)}}(),ee=function(){var l=C()(_()().mark(function c(f){var g;return _()().wrap(function(O){for(;;)switch(O.prev=O.next){case 0:return O.next=2,(0,x.Js)(f);case 2:g=O.sent,g.succeeded?(S.ZP.success(w.formatMessage({id:"general.deleted"})),z()):S.ZP.error(g.errors[0].description);case 4:case"end":return O.stop()}},c)}));return function(f){return l.apply(this,arguments)}}(),Ee=function(c){return Number(c.split("-")[2])*2},je=[{title:"#",dataIndex:"sort",className:"drag-visible"},{title:"Name",dataIndex:"name"},{title:"Status",dataIndex:"active",valueEnum:{false:{text:"Draft",status:"Default"},true:{text:"Active",status:"Processing"}}},{title:"Action",valueType:"option",render:function(c,f){return[(0,n.jsx)(j.ZP,{type:"primary",icon:(0,n.jsx)(L.Z,{}),onClick:function(){o.history.push("/works/".concat(f.normalizedName.toLocaleLowerCase(),"/").concat(f.id))}},1),(0,n.jsx)(X.Z,{title:"Are you sure?",onConfirm:function(){return ee(f.id)},children:(0,n.jsx)(j.ZP,{icon:(0,n.jsx)(a.Z,{}),danger:!0,type:"primary"})},4)]}}];return(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{className:"mb-4 flex justify-end",children:(0,n.jsx)(j.ZP,{icon:(0,n.jsx)(s.Z,{}),type:"primary",onClick:function(){return V(!0)},children:(0,n.jsx)("span",{children:(0,n.jsx)(o.FormattedMessage,{id:"general.new"})})})}),(0,n.jsx)(P.Z,{gutter:16,children:N.map(function(l,c){return(0,n.jsx)(R.Z,{span:Ee(l.className),children:(0,n.jsx)(m.Z,{title:l.name,bordered:!0,headerBordered:!0,extra:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(j.ZP,{type:"link",icon:(0,n.jsx)(s.Z,{}),onClick:function(){fe(l.id),Q(!0)}}),(0,n.jsx)(X.Z,{title:"Are you sure?",onConfirm:function(){return ee(l.id)},children:(0,n.jsx)(j.ZP,{type:"link",danger:!0,icon:(0,n.jsx)(a.Z,{})})})]}),children:l.items&&l.items.length>0?(0,n.jsx)(v.Z,{ghost:!0,search:!1,columns:je,dataSource:l.items,rowKey:"id",dragSortKey:"sort"}):(0,n.jsx)(ne.Z,{})})},c)})}),(0,n.jsx)(te.Z,{open:me,onOpenChange:Q,onFinish:he}),(0,n.jsxs)(t.Y,{open:pe,onOpenChange:V,onFinish:_e,children:[(0,n.jsx)(p.Z,{name:"name",label:"Name",rules:[{required:!0}]}),(0,n.jsx)(b.Z,{label:"Collumn",options:[{label:"col-md-1",value:"col-md-1"},{label:"col-md-2",value:"col-md-2"},{label:"col-md-3",value:"col-md-3"},{label:"col-md-4",value:"col-md-4"},{label:"col-md-5",value:"col-md-5"},{label:"col-md-6",value:"col-md-6"},{label:"col-md-7",value:"col-md-7"},{label:"col-md-8",value:"col-md-8"},{label:"col-md-9",value:"col-md-9"},{label:"col-md-10",value:"col-md-10"},{label:"col-md-11",value:"col-md-11"},{label:"col-md-12",value:"col-md-12"}],name:"className"})]})]})},ae=re,se=e(34994),oe=function(){var U=(0,o.useParams)(),A=U.id,F=(0,d.useRef)();(0,d.useEffect)(function(){(0,x.dM)(A).then(function(Z){var y;(y=F.current)===null||y===void 0||y.setFields([{name:"name",value:Z.name},{name:"layout",value:Z.layout},{name:"className",value:Z.className},{name:"gap",value:Z.gap}])})},[]);var w=function(){var Z=C()(_()().mark(function y(N){var G;return _()().wrap(function(T){for(;;)switch(T.prev=T.next){case 0:return N.id=A,T.next=3,(0,x.n5)(N);case 3:G=T.sent,G.succeeded&&S.ZP.success("Saved!");case 5:case"end":return T.stop()}},y)}));return function(N){return Z.apply(this,arguments)}}();return(0,n.jsxs)(se.A,{onFinish:w,formRef:F,children:[(0,n.jsx)(p.Z,{name:"name",label:"Name"}),(0,n.jsx)(p.Z,{name:"className",label:"Class name"}),(0,n.jsx)(b.Z,{name:"layout",label:"Layout",options:[{label:"Full width",value:"container-fluid"},{label:"Container",value:"container"}]}),(0,n.jsx)(b.Z,{name:"gap",label:"Gap",options:[{label:"0",value:"gap-0"},{label:"4",value:"gap-4"}]})]})},le=oe,ue=function(){var U=(0,d.useState)("content"),A=r()(U,2),F=A[0],w=A[1];return(0,n.jsx)(i._z,{extra:(0,n.jsx)(j.ZP,{icon:(0,n.jsx)(u.Z,{}),onClick:function(){return o.history.back()},children:(0,n.jsx)("span",{children:(0,n.jsx)(o.FormattedMessage,{id:"general.back"})})}),children:(0,n.jsxs)(P.Z,{gutter:16,children:[(0,n.jsx)(R.Z,{span:18,children:(0,n.jsx)(m.Z,{tabs:{activeKey:F,items:[{label:"Content",key:"content",children:(0,n.jsx)(ae,{})},{label:(0,n.jsx)(o.FormattedMessage,{id:"menu.settings"}),key:"setting",children:(0,n.jsx)(le,{})}],onChange:function(y){w(y)}}})}),(0,n.jsx)(R.Z,{span:6,children:(0,n.jsx)(D.Z,{})})]})})},ie=ue},98364:function(W,h,e){e.d(h,{CO:function(){return I},Ef:function(){return x},KL:function(){return R},Xr:function(){return m},Z:function(){return K},v7:function(){return B}});var E=e(15009),r=e.n(E),D=e(99289),u=e.n(D),i=e(35312);function m(a){return o.apply(this,arguments)}function o(){return o=u()(r()().mark(function a(s){return r()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,i.request)("component/".concat(s)));case 1:case"end":return t.stop()}},a)})),o.apply(this,arguments)}function j(a){return P.apply(this,arguments)}function P(){return P=_asyncToGenerator(_regeneratorRuntime().mark(function a(s){return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",request("component/add",{method:"POST",data:s}));case 1:case"end":return t.stop()}},a)})),P.apply(this,arguments)}function R(a){return d.apply(this,arguments)}function d(){return d=u()(r()().mark(function a(s){return r()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,i.request)("component/update",{method:"POST",data:s}));case 1:case"end":return t.stop()}},a)})),d.apply(this,arguments)}function I(a){return M.apply(this,arguments)}function M(){return M=u()(r()().mark(function a(s){return r()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,i.request)("component/list",{params:s}));case 1:case"end":return t.stop()}},a)})),M.apply(this,arguments)}function K(a,s){return _.apply(this,arguments)}function _(){return _=u()(r()().mark(function a(s,v){return r()().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return p.abrupt("return",(0,i.request)("component/list-work/".concat(v),{params:s}));case 1:case"end":return p.stop()}},a)})),_.apply(this,arguments)}function B(a){return C.apply(this,arguments)}function C(){return C=u()(r()().mark(function a(s){return r()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,i.request)("component/delete/".concat(s),{method:"POST"}));case 1:case"end":return t.stop()}},a)})),C.apply(this,arguments)}function x(a){return L.apply(this,arguments)}function L(){return L=u()(r()().mark(function a(s){var v;return r()().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return v={searchTerm:s.keyWords},p.abrupt("return",(0,i.request)("component/form-select",{params:v}));case 2:case"end":return p.stop()}},a)})),L.apply(this,arguments)}}}]);
