"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[9615],{1912:function(F,O,e){e.d(O,{Z:function(){return i}});var E=e(1413),t=e(62435),D={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M868 545.5L536.1 163a31.96 31.96 0 00-48.3 0L156 545.5a7.97 7.97 0 006 13.2h81c4.6 0 9-2 12.1-5.5L474 300.9V864c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V300.9l218.9 252.3c3 3.5 7.4 5.5 12.1 5.5h81c6.8 0 10.5-8 6-13.2z"}}]},name:"arrow-up",theme:"outlined"},p=D,f=e(84089),u=function(c,h){return t.createElement(f.Z,(0,E.Z)((0,E.Z)({},c),{},{ref:h,icon:p}))};u.displayName="ArrowUpOutlined";var i=t.forwardRef(u)},88484:function(F,O,e){e.d(O,{Z:function(){return i}});var E=e(1413),t=e(62435),D={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M400 317.7h73.9V656c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V317.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 163a8 8 0 00-12.6 0l-112 141.7c-4.1 5.3-.4 13 6.3 13zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z"}}]},name:"upload",theme:"outlined"},p=D,f=e(84089),u=function(c,h){return t.createElement(f.Z,(0,E.Z)((0,E.Z)({},c),{},{ref:h,icon:p}))};u.displayName="UploadOutlined";var i=t.forwardRef(u)},12873:function(F,O,e){var E=e(97857),t=e.n(E),D=e(15009),p=e.n(D),f=e(99289),u=e.n(f),i=e(5574),T=e.n(i),c=e(20385),h=e(73403),A=e(88484),z=e(99611),I=e(48689),W=e(13728),C=e(99351),U=e(22538),P=e(90905),j=e(27790),m=e(75527),K=e(69677),M=e(71577),s=e(31365),l=e(26713),n=e(13013),r=e(86738),o=e(62435),_=e(86074),V=function(g){var G=(0,P.useIntl)(),y=(0,o.useRef)(),N=(0,o.useState)(),B=T()(N,2),L=B[0],v=B[1],x={name:"file",action:c.kE,onChange:function(a){if(a.file.status!=="uploading"&&console.log(a.file,a.fileList),a.file.status==="done"){var d;j.ZP.success("".concat(a.file.name," file uploaded successfully")),(d=y.current)===null||d===void 0||d.reload()}else a.file.status==="error"&&j.ZP.error("".concat(a.file.name," file upload failed."))}},Z=function(){var R=u()(p()().mark(function a(){var d,b;return p()().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:if(L){S.next=2;break}return S.abrupt("return");case 2:return S.next=4,(0,c.tg)(L);case 4:d=S.sent,d.succeeded&&(j.ZP.success("Uploaded!"),(b=y.current)===null||b===void 0||b.reload());case 6:case"end":return S.stop()}},a)}));return function(){return R.apply(this,arguments)}}();return(0,_.jsxs)(C.Y,{open:g.open,onOpenChange:g.onOpenChange,onFinish:g.onFinish,submitter:!1,children:[(0,_.jsx)("div",{className:"mb-4",children:(0,_.jsxs)(m.Z,{children:[(0,_.jsx)(m.Z.Item,{href:"",children:(0,_.jsx)(h.Z,{})}),(0,_.jsx)(m.Z.Item,{href:"",children:"Home"})]})}),(0,_.jsxs)(K.Z.Group,{compact:!0,className:"mb-4",children:[(0,_.jsx)(K.Z,{style:{width:"calc(100% - 200px)"},onChange:function(a){return v(a.currentTarget.value)}}),(0,_.jsx)(M.Z,{type:"primary",onClick:Z,children:"Quick add"})]}),(0,_.jsx)(U.Rs,{toolBarRender:function(){return[(0,o.createElement)(s.Z,t()(t()({},x),{},{key:0}),(0,_.jsx)(M.Z,{icon:(0,_.jsx)(A.Z,{}),type:"primary",children:"Upload"}))]},headerTitle:G.formatMessage({id:"menu.fileManager"}),request:c.V6,rowSelection:{},search:{layout:"vertical"},pagination:{pageSize:5},metas:{title:{dataIndex:"name",title:"Name",render:function(a,d){return(0,_.jsx)("a",{onClick:function(){g.onSelect&&(d.url=new URL(d.url,localStorage.getItem("wf_URL")||"").href,g.onSelect(d))},children:a})}},description:{search:!1,render:function(a,d){return(0,_.jsxs)(l.Z,{children:[(0,_.jsx)("span",{children:d.type}),(0,_.jsx)("span",{children:"|"}),(0,_.jsxs)("span",{children:[(d.size/1024).toFixed(2)," KB"]})]})}},actions:{render:function(a,d){return(0,_.jsx)(n.Z,{menu:{items:[{key:1,label:(0,_.jsxs)(l.Z,{onClick:function(){return P.history.push("/files/center/".concat(d.id))},children:[(0,_.jsx)(z.Z,{}),(0,_.jsx)(P.FormattedMessage,{id:"general.preview"})]})},{key:2,label:(0,_.jsx)(r.Z,{title:"Are you sure?",children:(0,_.jsxs)(l.Z,{children:[(0,_.jsx)(I.Z,{}),"Delete"]})}),danger:!0}]},children:(0,_.jsx)(M.Z,{icon:(0,_.jsx)(W.Z,{}),type:"link",size:"small"})})}}},actionRef:y})]})};O.Z=V},57240:function(F,O,e){e.r(O);var E=e(15009),t=e.n(E),D=e(99289),p=e.n(D),f=e(5574),u=e.n(f),i=e(20385),T=e(99611),c=e(48689),h=e(1912),A=e(62884),z=e(34545),I=e(30029),W=e(90905),C=e(27790),U=e(71577),P=e(86738),j=e(71230),m=e(15746),K=e(98293),M=e(26713),s=e(62435),l=e(12873),n=e(86074),r=function(){var _=(0,s.useRef)(),V=(0,s.useState)(!1),$=u()(V,2),g=$[0],G=$[1],y=function(){var B=p()(t()().mark(function L(v){var x,Z;return t()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,(0,i.Ah)(v);case 2:x=a.sent,x.succeeded?(C.ZP.success("Deleted!"),(Z=_.current)===null||Z===void 0||Z.reload()):C.ZP.error(x.errors[0].description);case 4:case"end":return a.stop()}},L)}));return function(v){return B.apply(this,arguments)}}(),N=[{title:"#",valueType:"indexBorder"},{title:"Name",dataIndex:"name"},{title:"Type",dataIndex:"type"},{title:"Url",dataIndex:"url",search:!1},{title:"Size",dataIndex:"size",search:!1,render:function(L,v){return"".concat((v.size/1024).toFixed(2)," KB")}},{title:"",valueType:"option",render:function(L,v){return[(0,n.jsx)(U.Z,{type:"primary",icon:(0,n.jsx)(T.Z,{}),onClick:function(){W.history.push("/files/center/".concat(v.id))}},1),(0,n.jsx)(P.Z,{title:"Are you sure?",onConfirm:function(){return y(v.id)},children:(0,n.jsx)(U.Z,{type:"primary",icon:(0,n.jsx)(c.Z,{}),danger:!0})},2)]}}];return(0,n.jsxs)(A._z,{extra:(0,n.jsx)(U.Z,{icon:(0,n.jsx)(h.Z,{}),type:"primary",onClick:function(){return G(!0)},children:"Upload"}),children:[(0,n.jsxs)(j.Z,{gutter:16,children:[(0,n.jsx)(m.Z,{span:18,children:(0,n.jsx)(z.Z,{headerTitle:"Recent",request:i.V6,columns:N,rowKey:"id",actionRef:_})}),(0,n.jsx)(m.Z,{span:6,children:(0,n.jsx)(I.Z,{children:(0,n.jsxs)(j.Z,{children:[(0,n.jsx)(m.Z,{span:4,children:(0,n.jsx)(K.C,{icon:"T"})}),(0,n.jsx)(m.Z,{children:(0,n.jsxs)(M.Z,{children:["Clean up your space",(0,n.jsx)(U.Z,{children:"Clean"})]})})]})})})]}),(0,n.jsx)(l.Z,{open:g,onOpenChange:G})]})};O.default=r},20385:function(F,O,e){e.d(O,{Ah:function(){return h},Cq:function(){return W},V6:function(){return T},kE:function(){return j},tg:function(){return K},z3:function(){return U}});var E=e(15009),t=e.n(E),D=e(97857),p=e.n(D),f=e(99289),u=e.n(f),i=e(90905);function T(s,l){return c.apply(this,arguments)}function c(){return c=u()(t()().mark(function s(l,n){return t()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",(0,i.request)("fileExplorer/list",p()({method:"GET",params:p()({},l)},n||{})));case 1:case"end":return o.stop()}},s)})),c.apply(this,arguments)}function h(s){return A.apply(this,arguments)}function A(){return A=u()(t()().mark(function s(l){return t()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,i.request)("fileExplorer/delete-file-content/".concat(l),{method:"POST"}));case 1:case"end":return r.stop()}},s)})),A.apply(this,arguments)}function z(s){return I.apply(this,arguments)}function I(){return I=_asyncToGenerator(_regeneratorRuntime().mark(function s(l){return _regeneratorRuntime().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",request("fileExplorer/delete-file-item",{method:"POST",data:l}));case 1:case"end":return r.stop()}},s)})),I.apply(this,arguments)}function W(s){return C.apply(this,arguments)}function C(){return C=u()(t()().mark(function s(l){return t()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,i.request)("fileExplorer/".concat(l)));case 1:case"end":return r.stop()}},s)})),C.apply(this,arguments)}function U(s,l){return P.apply(this,arguments)}function P(){return P=u()(t()().mark(function s(l,n){return t()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",(0,i.request)("fileExplorer/file-items/".concat(n.id)));case 1:case"end":return o.stop()}},s)})),P.apply(this,arguments)}function j(s){return m.apply(this,arguments)}function m(){return m=u()(t()().mark(function s(l){var n;return t()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return n=new FormData,n.append("file",l),o.abrupt("return",(0,i.request)("fileExplorer/upload",{method:"POST",data:n}));case 3:case"end":return o.stop()}},s)})),m.apply(this,arguments)}function K(s){return M.apply(this,arguments)}function M(){return M=u()(t()().mark(function s(l){return t()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,i.request)("fileexplorer/upload-from-url",{method:"POST",data:{url:l}}));case 1:case"end":return r.stop()}},s)})),M.apply(this,arguments)}}}]);
