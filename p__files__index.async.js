"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[615],{1912:function(g,m,e){e.d(m,{Z:function(){return i}});var c=e(1413),r=e(62435),E={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M868 545.5L536.1 163a31.96 31.96 0 00-48.3 0L156 545.5a7.97 7.97 0 006 13.2h81c4.6 0 9-2 12.1-5.5L474 300.9V864c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V300.9l218.9 252.3c3 3.5 7.4 5.5 12.1 5.5h81c6.8 0 10.5-8 6-13.2z"}}]},name:"arrow-up",theme:"outlined"},p=E,O=e(84089),l=function(d,f){return r.createElement(O.Z,(0,c.Z)((0,c.Z)({},d),{},{ref:f,icon:p}))};l.displayName="ArrowUpOutlined";var i=r.forwardRef(l)},88484:function(g,m,e){e.d(m,{Z:function(){return i}});var c=e(1413),r=e(62435),E={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M400 317.7h73.9V656c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V317.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 163a8 8 0 00-12.6 0l-112 141.7c-4.1 5.3-.4 13 6.3 13zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z"}}]},name:"upload",theme:"outlined"},p=E,O=e(84089),l=function(d,f){return r.createElement(O.Z,(0,c.Z)((0,c.Z)({},d),{},{ref:f,icon:p}))};l.displayName="UploadOutlined";var i=r.forwardRef(l)},12873:function(g,m,e){var c=e(97857),r=e.n(c),E=e(20385),p=e(73403),O=e(88484),l=e(13728),i=e(99351),C=e(30029),d=e(22538),f=e(69677),P=e(27790),R=e(75527),U=e(31365),v=e(71577),D=e(62435),s=e(86074),M=f.Z.Search,A=function(_){var a=(0,D.useRef)(),u={name:"file",action:E.kE,onChange:function(n){if(n.file.status!=="uploading"&&console.log(n.file,n.fileList),n.file.status==="done"){var h;P.ZP.success("".concat(n.file.name," file uploaded successfully")),(h=a.current)===null||h===void 0||h.reload()}else n.file.status==="error"&&P.ZP.error("".concat(n.file.name," file upload failed."))}};return(0,s.jsxs)(i.Y,{title:"Select content",open:_.open,onOpenChange:_.onOpenChange,onFinish:_.onFinish,children:[(0,s.jsx)("div",{className:"mb-4",children:(0,s.jsxs)(R.Z,{children:[(0,s.jsx)(R.Z.Item,{href:"",children:(0,s.jsx)(p.Z,{})}),(0,s.jsx)(R.Z.Item,{href:"",children:"Home"})]})}),(0,s.jsxs)(C.Z,{title:"List",extra:(0,s.jsx)(U.Z,r()(r()({},u),{},{children:(0,s.jsx)(v.Z,{icon:(0,s.jsx)(O.Z,{}),type:"primary",children:"Upload"})})),children:[(0,s.jsx)(M,{}),(0,s.jsx)(d.Rs,{request:E.V6,rowSelection:{},metas:{title:{dataIndex:"name",render:function(n,h){return(0,s.jsx)(v.Z,{type:"link",size:"small",onClick:function(){_.onSelect&&(h.url=new URL(h.url,localStorage.getItem("wf_URL")||"").href,_.onSelect(h))},children:n})}},actions:{render:function(){return(0,s.jsx)(v.Z,{icon:(0,s.jsx)(l.Z,{}),type:"link",size:"small"})}}},actionRef:a})]})]})};m.Z=A},57240:function(g,m,e){e.r(m);var c=e(15009),r=e.n(c),E=e(99289),p=e.n(E),O=e(5574),l=e.n(O),i=e(20385),C=e(99611),d=e(48689),f=e(1912),P=e(62884),R=e(22257),U=e(90905),v=e(27790),D=e(71577),s=e(86738),M=e(62435),A=e(12873),o=e(86074),_=function(){var u=(0,M.useRef)(),t=(0,M.useState)(!1),n=l()(t,2),h=n[0],B=n[1],K=function(){var L=p()(r()().mark(function S(j){var I,x;return r()().wrap(function(T){for(;;)switch(T.prev=T.next){case 0:return T.next=2,(0,i.Ah)(j);case 2:I=T.sent,I.succeeded?(v.ZP.success("Deleted!"),(x=u.current)===null||x===void 0||x.reload()):v.ZP.error(I.errors[0].description);case 4:case"end":return T.stop()}},S)}));return function(j){return L.apply(this,arguments)}}(),W=[{title:"#",valueType:"indexBorder"},{title:"Name",dataIndex:"name"},{title:"Type",dataIndex:"type"},{title:"Url",dataIndex:"url",search:!1},{title:"Size",dataIndex:"size",search:!1,render:function(S,j){return"".concat((j.size/1024).toFixed(2)," KB")}},{title:"",valueType:"option",render:function(S,j){return[(0,o.jsx)(D.Z,{type:"primary",icon:(0,o.jsx)(C.Z,{}),onClick:function(){U.history.push("/files/center/".concat(j.id))}},1),(0,o.jsx)(s.Z,{title:"Are you sure?",onConfirm:function(){return K(j.id)},children:(0,o.jsx)(D.Z,{type:"primary",icon:(0,o.jsx)(d.Z,{}),danger:!0})},2)]}}];return(0,o.jsxs)(P._z,{title:"Qu\u1EA3n l\xFD t\u1EC7p tin",extra:(0,o.jsx)(D.Z,{icon:(0,o.jsx)(f.Z,{}),type:"primary",onClick:function(){return B(!0)},children:"Upload"}),children:[(0,o.jsx)(R.Z,{request:i.V6,columns:W,rowKey:"id",actionRef:u}),(0,o.jsx)(A.Z,{open:h,onOpenChange:B})]})};m.default=_},20385:function(g,m,e){e.d(m,{Ah:function(){return f},Cq:function(){return v},V6:function(){return C},kE:function(){return A},z3:function(){return s}});var c=e(15009),r=e.n(c),E=e(97857),p=e.n(E),O=e(99289),l=e.n(O),i=e(90905);function C(_,a){return d.apply(this,arguments)}function d(){return d=l()(r()().mark(function _(a,u){return r()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,i.request)("fileExplorer/list",p()({method:"GET",params:p()({},a)},u||{})));case 1:case"end":return n.stop()}},_)})),d.apply(this,arguments)}function f(_){return P.apply(this,arguments)}function P(){return P=l()(r()().mark(function _(a){return r()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,i.request)("fileExplorer/delete-file-content/".concat(a),{method:"POST"}));case 1:case"end":return t.stop()}},_)})),P.apply(this,arguments)}function R(_){return U.apply(this,arguments)}function U(){return U=_asyncToGenerator(_regeneratorRuntime().mark(function _(a){return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",request("fileExplorer/delete-file-item",{method:"POST",data:a}));case 1:case"end":return t.stop()}},_)})),U.apply(this,arguments)}function v(_){return D.apply(this,arguments)}function D(){return D=l()(r()().mark(function _(a){return r()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,i.request)("fileExplorer/".concat(a)));case 1:case"end":return t.stop()}},_)})),D.apply(this,arguments)}function s(_,a){return M.apply(this,arguments)}function M(){return M=l()(r()().mark(function _(a,u){return r()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,i.request)("fileExplorer/file-items/".concat(u.id)));case 1:case"end":return n.stop()}},_)})),M.apply(this,arguments)}function A(_){return o.apply(this,arguments)}function o(){return o=l()(r()().mark(function _(a){var u;return r()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return u=new FormData,u.append("file",a),n.abrupt("return",(0,i.request)("fileExplorer/upload",{method:"POST",data:u}));case 3:case"end":return n.stop()}},_)})),o.apply(this,arguments)}}}]);
