"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[9615],{1912:function(b,D,e){e.d(D,{Z:function(){return d}});var p=e(1413),r=e(62435),P={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M868 545.5L536.1 163a31.96 31.96 0 00-48.3 0L156 545.5a7.97 7.97 0 006 13.2h81c4.6 0 9-2 12.1-5.5L474 300.9V864c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V300.9l218.9 252.3c3 3.5 7.4 5.5 12.1 5.5h81c6.8 0 10.5-8 6-13.2z"}}]},name:"arrow-up",theme:"outlined"},O=P,v=e(84089),u=function(c,M){return r.createElement(v.Z,(0,p.Z)((0,p.Z)({},c),{},{ref:M,icon:O}))};u.displayName="ArrowUpOutlined";var d=r.forwardRef(u)},88484:function(b,D,e){e.d(D,{Z:function(){return d}});var p=e(1413),r=e(62435),P={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M400 317.7h73.9V656c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V317.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 163a8 8 0 00-12.6 0l-112 141.7c-4.1 5.3-.4 13 6.3 13zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z"}}]},name:"upload",theme:"outlined"},O=P,v=e(84089),u=function(c,M){return r.createElement(v.Z,(0,p.Z)((0,p.Z)({},c),{},{ref:M,icon:O}))};u.displayName="UploadOutlined";var d=r.forwardRef(u)},12873:function(b,D,e){var p=e(97857),r=e.n(p),P=e(15009),O=e.n(P),v=e(99289),u=e.n(v),d=e(5574),T=e.n(d),c=e(20385),M=e(73403),A=e(88484),F=e(99611),I=e(48689),Z=e(13728),g=e(99351),K=e(22538),m=e(90905),B=e(27790),f=e(75527),C=e(69677),U=e(71577),s=e(31365),t=e(26713),a=e(13013),n=e(86738),i=e(62435),_=e(86074),z=function(j){var V=(0,m.useIntl)(),S=(0,i.useRef)(),$=(0,i.useState)(),G=T()($,2),L=G[0],W=G[1],h={name:"file",action:c.kE,onChange:function(o){if(o.file.status!=="uploading"&&console.log(o.file,o.fileList),o.file.status==="done"){var l;B.ZP.success("".concat(o.file.name," file uploaded successfully")),(l=S.current)===null||l===void 0||l.reload()}else o.file.status==="error"&&B.ZP.error("".concat(o.file.name," file upload failed."))}},R=function(){var E=u()(O()().mark(function o(){var l,y;return O()().wrap(function(x){for(;;)switch(x.prev=x.next){case 0:if(L){x.next=2;break}return x.abrupt("return");case 2:return x.next=4,(0,c.tg)(L);case 4:l=x.sent,l.succeeded&&(B.ZP.success("Uploaded!"),(y=S.current)===null||y===void 0||y.reload());case 6:case"end":return x.stop()}},o)}));return function(){return E.apply(this,arguments)}}();return(0,_.jsxs)(g.Y,{open:j.open,onOpenChange:j.onOpenChange,onFinish:j.onFinish,submitter:!1,children:[(0,_.jsx)("div",{className:"mb-4",children:(0,_.jsxs)(f.Z,{children:[(0,_.jsx)(f.Z.Item,{href:"",children:(0,_.jsx)(M.Z,{})}),(0,_.jsx)(f.Z.Item,{href:"",children:"Home"})]})}),(0,_.jsxs)(C.Z.Group,{compact:!0,className:"mb-4",children:[(0,_.jsx)(C.Z,{style:{width:"calc(100% - 200px)"},onChange:function(o){return W(o.currentTarget.value)}}),(0,_.jsx)(U.Z,{type:"primary",onClick:R,children:"Quick add"})]}),(0,_.jsx)(K.Rs,{toolBarRender:function(){return[(0,i.createElement)(s.Z,r()(r()({},h),{},{key:0}),(0,_.jsx)(U.Z,{icon:(0,_.jsx)(A.Z,{}),type:"primary",children:"Upload"}))]},headerTitle:V.formatMessage({id:"menu.fileManager"}),request:function(o){return(0,c.V6)(r()({},o),j.type)},rowSelection:{},search:{layout:"vertical"},pagination:{pageSize:5},metas:{title:{dataIndex:"name",title:"Name",render:function(o,l){return(0,_.jsx)("a",{onClick:function(){j.onSelect&&(l.url=new URL(l.url,localStorage.getItem("wf_URL")||"").href,j.onSelect(l))},children:o})}},description:{search:!1,render:function(o,l){return(0,_.jsxs)(t.Z,{children:[(0,_.jsx)("span",{children:l.type}),(0,_.jsx)("span",{children:"|"}),(0,_.jsxs)("span",{children:[(l.size/1024).toFixed(2)," KB"]})]})}},actions:{render:function(o,l){return(0,_.jsx)(a.Z,{menu:{items:[{key:1,label:(0,_.jsxs)(t.Z,{onClick:function(){return m.history.push("/files/center/".concat(l.id))},children:[(0,_.jsx)(F.Z,{}),(0,_.jsx)(m.FormattedMessage,{id:"general.preview"})]})},{key:2,label:(0,_.jsx)(n.Z,{title:"Are you sure?",children:(0,_.jsxs)(t.Z,{children:[(0,_.jsx)(I.Z,{}),"Delete"]})}),danger:!0}]},children:(0,_.jsx)(U.Z,{icon:(0,_.jsx)(Z.Z,{}),type:"link",size:"small"})})}}},actionRef:S})]})};D.Z=z},57240:function(b,D,e){e.r(D);var p=e(15009),r=e.n(p),P=e(99289),O=e.n(P),v=e(5574),u=e.n(v),d=e(20385),T=e(99611),c=e(23430),M=e(48689),A=e(1912),F=e(62884),I=e(34545),Z=e(30029),g=e(90905),K=e(27790),m=e(71577),B=e(86738),f=e(71230),C=e(15746),U=e(98293),s=e(26713),t=e(62435),a=e(12873),n=e(86074),i=function(){var z=(0,t.useRef)(),N=(0,t.useState)(!1),j=u()(N,2),V=j[0],S=j[1],$=function(){var L=O()(r()().mark(function W(h){var R,E;return r()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,(0,d.Ah)(h);case 2:R=l.sent,R.succeeded?(K.ZP.success("Deleted!"),(E=z.current)===null||E===void 0||E.reload()):K.ZP.error(R.errors[0].description);case 4:case"end":return l.stop()}},W)}));return function(h){return L.apply(this,arguments)}}(),G=[{title:"#",valueType:"indexBorder"},{title:"Name",dataIndex:"name"},{title:"Type",dataIndex:"type"},{title:"Size",dataIndex:"size",search:!1,render:function(W,h){return"".concat((h.size/1024).toFixed(2)," KB")}},{title:"",valueType:"option",render:function(W,h){return[(0,n.jsx)(m.Z,{type:"primary",icon:(0,n.jsx)(T.Z,{}),onClick:function(){g.history.push("/files/center/".concat(h.id))}},1),(0,n.jsx)(m.Z,{icon:(0,n.jsx)(c.Z,{}),onClick:function(){return window.location.href=h.url}},2),(0,n.jsx)(B.Z,{title:"Are you sure?",onConfirm:function(){return $(h.id)},children:(0,n.jsx)(m.Z,{type:"primary",icon:(0,n.jsx)(M.Z,{}),danger:!0})},3)]}}];return(0,n.jsxs)(F._z,{extra:(0,n.jsx)(m.Z,{icon:(0,n.jsx)(A.Z,{}),type:"primary",onClick:function(){return S(!0)},children:"Upload"}),children:[(0,n.jsxs)(f.Z,{gutter:16,children:[(0,n.jsx)(C.Z,{span:18,children:(0,n.jsx)(I.Z,{headerTitle:"Recent",request:d.V6,columns:G,rowKey:"id",actionRef:z})}),(0,n.jsx)(C.Z,{span:6,children:(0,n.jsx)(Z.Z,{children:(0,n.jsxs)(f.Z,{children:[(0,n.jsx)(C.Z,{span:4,children:(0,n.jsx)(U.C,{icon:"T"})}),(0,n.jsx)(C.Z,{children:(0,n.jsxs)(s.Z,{children:["Clean up your space",(0,n.jsx)(m.Z,{children:"Clean"})]})})]})})})]}),(0,n.jsx)(a.Z,{open:V,onOpenChange:S})]})};D.default=i},20385:function(b,D,e){e.d(D,{Ah:function(){return M},Cq:function(){return Z},V6:function(){return T},kE:function(){return B},tg:function(){return C},z3:function(){return K}});var p=e(15009),r=e.n(p),P=e(97857),O=e.n(P),v=e(99289),u=e.n(v),d=e(90905);function T(s,t,a){return c.apply(this,arguments)}function c(){return c=u()(r()().mark(function s(t,a,n){return r()().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.abrupt("return",(0,d.request)("fileExplorer/list",O()({method:"GET",params:O()({type:Object.keys(a!=null?a:[]).length>0?a==null?void 0:a.join(","):""},t)},n||{})));case 1:case"end":return _.stop()}},s)})),c.apply(this,arguments)}function M(s){return A.apply(this,arguments)}function A(){return A=u()(r()().mark(function s(t){return r()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,d.request)("fileExplorer/delete-file-content/".concat(t),{method:"POST"}));case 1:case"end":return n.stop()}},s)})),A.apply(this,arguments)}function F(s){return I.apply(this,arguments)}function I(){return I=_asyncToGenerator(_regeneratorRuntime().mark(function s(t){return _regeneratorRuntime().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",request("fileExplorer/delete-file-item",{method:"POST",data:t}));case 1:case"end":return n.stop()}},s)})),I.apply(this,arguments)}function Z(s){return g.apply(this,arguments)}function g(){return g=u()(r()().mark(function s(t){return r()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,d.request)("fileExplorer/".concat(t)));case 1:case"end":return n.stop()}},s)})),g.apply(this,arguments)}function K(s,t){return m.apply(this,arguments)}function m(){return m=u()(r()().mark(function s(t,a){return r()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",(0,d.request)("fileExplorer/file-items/".concat(a.id)));case 1:case"end":return i.stop()}},s)})),m.apply(this,arguments)}function B(s){return f.apply(this,arguments)}function f(){return f=u()(r()().mark(function s(t){var a;return r()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return a=new FormData,a.append("file",t),i.abrupt("return",(0,d.request)("fileExplorer/upload",{method:"POST",data:a}));case 3:case"end":return i.stop()}},s)})),f.apply(this,arguments)}function C(s){return U.apply(this,arguments)}function U(){return U=u()(r()().mark(function s(t){return r()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,d.request)("fileexplorer/upload-from-url",{method:"POST",data:{url:t}}));case 1:case"end":return n.stop()}},s)})),U.apply(this,arguments)}}}]);
