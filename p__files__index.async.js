"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[9615],{1912:function(W,O,e){e.d(O,{Z:function(){return u}});var s=e(1413),l=e(62435),g={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M868 545.5L536.1 163a31.96 31.96 0 00-48.3 0L156 545.5a7.97 7.97 0 006 13.2h81c4.6 0 9-2 12.1-5.5L474 300.9V864c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V300.9l218.9 252.3c3 3.5 7.4 5.5 12.1 5.5h81c6.8 0 10.5-8 6-13.2z"}}]},name:"arrow-up",theme:"outlined"},E=g,c=e(91146),v=function(T,S){return l.createElement(c.Z,(0,s.Z)((0,s.Z)({},T),{},{ref:S,icon:E}))};v.displayName="ArrowUpOutlined";var u=l.forwardRef(v)},14361:function(W,O,e){var s=e(1413),l=e(62435),g=e(3843),E=e(91146),c=function(u,j){return l.createElement(E.Z,(0,s.Z)((0,s.Z)({},u),{},{ref:j,icon:g.Z}))};c.displayName="BarsOutlined",O.Z=l.forwardRef(c)},82061:function(W,O,e){var s=e(1413),l=e(62435),g=e(47046),E=e(91146),c=function(u,j){return l.createElement(E.Z,(0,s.Z)((0,s.Z)({},u),{},{ref:j,icon:g.Z}))};c.displayName="DeleteOutlined",O.Z=l.forwardRef(c)},69753:function(W,O,e){var s=e(1413),l=e(62435),g=e(49495),E=e(91146),c=function(u,j){return l.createElement(E.Z,(0,s.Z)((0,s.Z)({},u),{},{ref:j,icon:g.Z}))};c.displayName="DownloadOutlined",O.Z=l.forwardRef(c)},55287:function(W,O,e){var s=e(1413),l=e(62435),g=e(5717),E=e(91146),c=function(u,j){return l.createElement(E.Z,(0,s.Z)((0,s.Z)({},u),{},{ref:j,icon:g.Z}))};c.displayName="EyeOutlined",O.Z=l.forwardRef(c)},88484:function(W,O,e){e.d(O,{Z:function(){return u}});var s=e(1413),l=e(62435),g={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M400 317.7h73.9V656c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V317.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 163a8 8 0 00-12.6 0l-112 141.7c-4.1 5.3-.4 13 6.3 13zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z"}}]},name:"upload",theme:"outlined"},E=g,c=e(91146),v=function(T,S){return l.createElement(c.Z,(0,s.Z)((0,s.Z)({},T),{},{ref:S,icon:E}))};v.displayName="UploadOutlined";var u=l.forwardRef(v)},12873:function(W,O,e){var s=e(97857),l=e.n(s),g=e(15009),E=e.n(g),c=e(99289),v=e.n(c),u=e(5574),j=e.n(u),T=e(20385),S=e(73403),N=e(88484),X=e(55287),A=e(82061),Y=e(14361),H=e(93933),b=e(16309),B=e(35312),F=e(27790),L=e(85673),V=e(96365),I=e(71577),i=e(65419),d=e(42075),o=e(85418),r=e(86738),a=e(62435),n=e(86074),m=function(D){var h=(0,B.useIntl)(),t=(0,a.useRef)(),p=(0,a.useState)(),x=j()(p,2),Z=x[0],_=x[1],P={name:"file",action:T.kE,onChange:function(f){if(f.file.status!=="uploading"&&console.log(f.file,f.fileList),f.file.status==="done"){var M;F.ZP.success("".concat(f.file.name," file uploaded successfully")),(M=t.current)===null||M===void 0||M.reload()}else f.file.status==="error"&&F.ZP.error("".concat(f.file.name," file upload failed."))}},G=function(){var y=v()(E()().mark(function f(){var M,$;return E()().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:if(Z){U.next=2;break}return U.abrupt("return");case 2:return U.next=4,(0,T.tg)(Z);case 4:M=U.sent,M.succeeded&&(F.ZP.success("Uploaded!"),($=t.current)===null||$===void 0||$.reload());case 6:case"end":return U.stop()}},f)}));return function(){return y.apply(this,arguments)}}();return(0,n.jsxs)(H.Y,{open:D.open,onOpenChange:D.onOpenChange,onFinish:D.onFinish,submitter:!1,children:[(0,n.jsx)("div",{className:"mb-4",children:(0,n.jsxs)(L.Z,{children:[(0,n.jsx)(L.Z.Item,{href:"",children:(0,n.jsx)(S.Z,{})}),(0,n.jsx)(L.Z.Item,{href:"",children:"Home"})]})}),(0,n.jsxs)(V.Z.Group,{compact:!0,className:"mb-4",children:[(0,n.jsx)(V.Z,{style:{width:"calc(100% - 200px)"},onChange:function(f){return _(f.currentTarget.value)}}),(0,n.jsx)(I.ZP,{type:"primary",onClick:G,children:"Quick add"})]}),(0,n.jsx)(b.Rs,{toolBarRender:function(){return[(0,a.createElement)(i.Z,l()(l()({},P),{},{key:0}),(0,n.jsx)(I.ZP,{icon:(0,n.jsx)(N.Z,{}),type:"primary",children:"Upload"}))]},headerTitle:h.formatMessage({id:"menu.fileManager"}),request:function(f){return(0,T.V6)(l()({},f),D.type)},rowSelection:{},search:{layout:"vertical"},pagination:{pageSize:5},metas:{title:{dataIndex:"name",title:"Name",render:function(f,M){return(0,n.jsx)("a",{onClick:function(){D.onSelect&&(M.url=new URL(M.url,localStorage.getItem("wf_URL")||"").href,D.onSelect(M))},children:f})}},description:{search:!1,render:function(f,M){return(0,n.jsxs)(d.Z,{children:[(0,n.jsx)("span",{children:M.type}),(0,n.jsx)("span",{children:"|"}),(0,n.jsxs)("span",{children:[(M.size/1024).toFixed(2)," KB"]})]})}},actions:{render:function(f,M){return(0,n.jsx)(o.Z,{menu:{items:[{key:1,label:(0,n.jsxs)(d.Z,{onClick:function(){return B.history.push("/files/center/".concat(M.id))},children:[(0,n.jsx)(X.Z,{}),(0,n.jsx)(B.FormattedMessage,{id:"general.preview"})]})},{key:2,label:(0,n.jsx)(r.Z,{title:"Are you sure?",children:(0,n.jsxs)(d.Z,{children:[(0,n.jsx)(A.Z,{}),"Delete"]})}),danger:!0}]},children:(0,n.jsx)(I.ZP,{icon:(0,n.jsx)(Y.Z,{}),type:"link",size:"small"})})}}},actionRef:t})]})};O.Z=m},24918:function(W,O,e){e.r(O),e.d(O,{default:function(){return x}});var s=e(15009),l=e.n(s),g=e(99289),E=e.n(g),c=e(5574),v=e.n(c),u=e(20385),j=e(55287),T=e(69753),S=e(82061),N=e(1912),X=e(1413),A=e(62435),Y={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M899.1 869.6l-53-305.6H864c14.4 0 26-11.6 26-26V346c0-14.4-11.6-26-26-26H618V138c0-14.4-11.6-26-26-26H432c-14.4 0-26 11.6-26 26v182H160c-14.4 0-26 11.6-26 26v192c0 14.4 11.6 26 26 26h17.9l-53 305.6a25.95 25.95 0 0025.6 30.4h723c1.5 0 3-.1 4.4-.4a25.88 25.88 0 0021.2-30zM204 390h272V182h72v208h272v104H204V390zm468 440V674c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v156H416V674c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v156H202.8l45.1-260H776l45.1 260H672z"}}]},name:"clear",theme:"outlined"},H=Y,b=e(91146),B=function(_,P){return A.createElement(b.Z,(0,X.Z)((0,X.Z)({},_),{},{ref:P,icon:H}))};B.displayName="ClearOutlined";var F=A.forwardRef(B),L=e(63386),V=e(88518),I=e(28199),i=e(35312),d=e(27790),o=e(71577),r=e(86738),a=e(71230),n=e(15746),m=e(55054),C=e(98293),D=e(42075),h=e(12873),t=e(86074),p=function(){var _=(0,A.useRef)(),P=(0,A.useState)(!1),G=v()(P,2),y=G[0],f=G[1],M=function(){var R=E()(l()().mark(function U(K){var z,Q;return l()().wrap(function(J){for(;;)switch(J.prev=J.next){case 0:return J.next=2,(0,u.Ah)(K);case 2:z=J.sent,z.succeeded?(d.ZP.success("Deleted!"),(Q=_.current)===null||Q===void 0||Q.reload()):d.ZP.error(z.errors[0].description);case 4:case"end":return J.stop()}},U)}));return function(K){return R.apply(this,arguments)}}(),$=[{title:"#",valueType:"indexBorder"},{title:"Name",dataIndex:"name"},{title:"Type",dataIndex:"type"},{title:"Size",dataIndex:"size",search:!1,render:function(U,K){return"".concat((K.size/1024).toFixed(2)," KB")}},{title:"",valueType:"option",render:function(U,K){return[(0,t.jsx)(o.ZP,{type:"primary",icon:(0,t.jsx)(j.Z,{}),onClick:function(){i.history.push("/files/center/".concat(K.id))}},1),(0,t.jsx)(o.ZP,{icon:(0,t.jsx)(T.Z,{}),onClick:function(){return window.location.href=K.url}},2),(0,t.jsx)(r.Z,{title:"Are you sure?",onConfirm:function(){return M(K.id)},children:(0,t.jsx)(o.ZP,{type:"primary",icon:(0,t.jsx)(S.Z,{}),danger:!0})},3)]}}];return(0,t.jsxs)(L._z,{extra:(0,t.jsx)(o.ZP,{icon:(0,t.jsx)(N.Z,{}),type:"primary",onClick:function(){return f(!0)},children:"Upload"}),children:[(0,t.jsxs)(a.Z,{gutter:16,children:[(0,t.jsx)(n.Z,{span:18,children:(0,t.jsx)(V.Z,{pagination:{defaultPageSize:8},headerTitle:"Recent",request:u.V6,columns:$,rowKey:"id",actionRef:_})}),(0,t.jsxs)(n.Z,{span:6,children:[(0,t.jsxs)(a.Z,{gutter:16,children:[(0,t.jsx)(n.Z,{span:12,children:(0,t.jsx)(I.Z,{className:"mb-4",children:(0,t.jsx)(m.Z,{title:"Total Files"})})}),(0,t.jsx)(n.Z,{span:12,children:(0,t.jsx)(I.Z,{className:"mb-4",children:(0,t.jsx)(m.Z,{title:"Total Size"})})})]}),(0,t.jsx)(I.Z,{children:(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)(n.Z,{span:4,children:(0,t.jsx)(C.C,{icon:"T"})}),(0,t.jsx)(n.Z,{children:(0,t.jsx)(D.Z,{children:"Clean up your space"})}),(0,t.jsx)(n.Z,{children:(0,t.jsx)(o.ZP,{icon:(0,t.jsx)(F,{}),children:"Clean"})})]})})]})]}),(0,t.jsx)(h.Z,{open:y,onOpenChange:f})]})},x=p},20385:function(W,O,e){e.d(O,{Ah:function(){return S},Cq:function(){return Y},V6:function(){return j},kE:function(){return F},tg:function(){return V},z3:function(){return b}});var s=e(15009),l=e.n(s),g=e(97857),E=e.n(g),c=e(99289),v=e.n(c),u=e(35312);function j(i,d,o){return T.apply(this,arguments)}function T(){return T=v()(l()().mark(function i(d,o,r){return l()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,u.request)("fileExplorer/list",E()({method:"GET",params:E()({type:Object.keys(o!=null?o:[]).length>0?o==null?void 0:o.join(","):""},d)},r||{})));case 1:case"end":return n.stop()}},i)})),T.apply(this,arguments)}function S(i){return N.apply(this,arguments)}function N(){return N=v()(l()().mark(function i(d){return l()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,u.request)("fileExplorer/delete-file-content/".concat(d),{method:"POST"}));case 1:case"end":return r.stop()}},i)})),N.apply(this,arguments)}function X(i){return A.apply(this,arguments)}function A(){return A=_asyncToGenerator(_regeneratorRuntime().mark(function i(d){return _regeneratorRuntime().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",request("fileExplorer/delete-file-item",{method:"POST",data:d}));case 1:case"end":return r.stop()}},i)})),A.apply(this,arguments)}function Y(i){return H.apply(this,arguments)}function H(){return H=v()(l()().mark(function i(d){return l()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,u.request)("fileExplorer/".concat(d)));case 1:case"end":return r.stop()}},i)})),H.apply(this,arguments)}function b(i,d){return B.apply(this,arguments)}function B(){return B=v()(l()().mark(function i(d,o){return l()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,u.request)("fileExplorer/file-items/".concat(o.id)));case 1:case"end":return a.stop()}},i)})),B.apply(this,arguments)}function F(i){return L.apply(this,arguments)}function L(){return L=v()(l()().mark(function i(d){var o;return l()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return o=new FormData,o.append("file",d),a.abrupt("return",(0,u.request)("fileExplorer/upload",{method:"POST",data:o}));case 3:case"end":return a.stop()}},i)})),L.apply(this,arguments)}function V(i){return I.apply(this,arguments)}function I(){return I=v()(l()().mark(function i(d){return l()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,u.request)("fileexplorer/upload-from-url",{method:"POST",data:{url:d}}));case 1:case"end":return r.stop()}},i)})),I.apply(this,arguments)}},55054:function(W,O,e){e.d(O,{Z:function(){return o}});var s=e(62435),l=e(57838),g=e(96159),E=e(94184),c=e.n(E),v=e(53124),u=e(99559),T=r=>{const{value:a,formatter:n,precision:m,decimalSeparator:C,groupSeparator:D="",prefixCls:h}=r;let t;if(typeof n=="function")t=n(a);else{const p=String(a),x=p.match(/^(-?)(\d*)(\.(\d+))?$/);if(!x||p==="-")t=p;else{const Z=x[1];let _=x[2]||"0",P=x[4]||"";_=_.replace(/\B(?=(\d{3})+(?!\d))/g,D),typeof m=="number"&&(P=P.padEnd(m,"0").slice(0,m>0?m:0)),P&&(P=`${C}${P}`),t=[s.createElement("span",{key:"int",className:`${h}-content-value-int`},Z,_),P&&s.createElement("span",{key:"decimal",className:`${h}-content-value-decimal`},P)]}}return s.createElement("span",{className:`${h}-content-value`},t)},S=e(14747),N=e(67968),X=e(45503);const A=r=>{const{componentCls:a,marginXXS:n,padding:m,colorTextDescription:C,titleFontSize:D,colorTextHeading:h,contentFontSize:t,fontFamily:p}=r;return{[`${a}`]:Object.assign(Object.assign({},(0,S.Wf)(r)),{[`${a}-title`]:{marginBottom:n,color:C,fontSize:D},[`${a}-skeleton`]:{paddingTop:m},[`${a}-content`]:{color:h,fontSize:t,fontFamily:p,[`${a}-content-value`]:{display:"inline-block",direction:"ltr"},[`${a}-content-prefix, ${a}-content-suffix`]:{display:"inline-block"},[`${a}-content-prefix`]:{marginInlineEnd:n},[`${a}-content-suffix`]:{marginInlineStart:n}}})}};var Y=(0,N.Z)("Statistic",r=>{const a=(0,X.TS)(r,{});return[A(a)]},r=>{const{fontSizeHeading3:a,fontSize:n}=r;return{titleFontSize:n,contentFontSize:a}}),b=r=>{const{prefixCls:a,className:n,rootClassName:m,style:C,valueStyle:D,value:h=0,title:t,valueRender:p,prefix:x,suffix:Z,loading:_=!1,onMouseEnter:P,onMouseLeave:G,decimalSeparator:y=".",groupSeparator:f=","}=r,{getPrefixCls:M,direction:$}=s.useContext(v.E_),R=M("statistic",a),[U,K]=Y(R),z=s.createElement(T,Object.assign({decimalSeparator:y,groupSeparator:f,prefixCls:R},r,{value:h})),Q=c()(R,{[`${R}-rtl`]:$==="rtl"},n,m,K);return U(s.createElement("div",{className:Q,style:C,onMouseEnter:P,onMouseLeave:G},t&&s.createElement("div",{className:`${R}-title`},t),s.createElement(u.Z,{paragraph:!1,loading:_,className:`${R}-skeleton`},s.createElement("div",{style:D,className:`${R}-content`},x&&s.createElement("span",{className:`${R}-content-prefix`},x),p?p(z):z,Z&&s.createElement("span",{className:`${R}-content-suffix`},Z)))))};const B=[["Y",1e3*60*60*24*365],["M",1e3*60*60*24*30],["D",1e3*60*60*24],["H",1e3*60*60],["m",1e3*60],["s",1e3],["S",1]];function F(r,a){let n=r;const m=/\[[^\]]*]/g,C=(a.match(m)||[]).map(p=>p.slice(1,-1)),D=a.replace(m,"[]"),h=B.reduce((p,x)=>{let[Z,_]=x;if(p.includes(Z)){const P=Math.floor(n/_);return n-=P*_,p.replace(new RegExp(`${Z}+`,"g"),G=>{const y=G.length;return P.toString().padStart(y,"0")})}return p},D);let t=0;return h.replace(m,()=>{const p=C[t];return t+=1,p})}function L(r,a){const{format:n=""}=a,m=new Date(r).getTime(),C=Date.now(),D=Math.max(m-C,0);return F(D,n)}const V=1e3/30;function I(r){return new Date(r).getTime()}const i=r=>{const{value:a,format:n="HH:mm:ss",onChange:m,onFinish:C}=r,D=(0,l.Z)(),h=s.useRef(null),t=()=>{C==null||C(),h.current&&(clearInterval(h.current),h.current=null)},p=()=>{const _=I(a);_>=Date.now()&&(h.current=setInterval(()=>{D(),m==null||m(_-Date.now()),_<Date.now()&&t()},V))};s.useEffect(()=>(p(),()=>{h.current&&(clearInterval(h.current),h.current=null)}),[a]);const x=(_,P)=>L(_,Object.assign(Object.assign({},P),{format:n})),Z=_=>(0,g.Tm)(_,{title:void 0});return s.createElement(b,Object.assign({},r,{valueRender:Z,formatter:x}))};var d=s.memo(i);b.Countdown=d;var o=b}}]);
