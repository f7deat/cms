"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[9615],{1912:function(Z,O,e){e.d(O,{Z:function(){return d}});var E=e(1413),t=e(62435),h={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M868 545.5L536.1 163a31.96 31.96 0 00-48.3 0L156 545.5a7.97 7.97 0 006 13.2h81c4.6 0 9-2 12.1-5.5L474 300.9V864c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V300.9l218.9 252.3c3 3.5 7.4 5.5 12.1 5.5h81c6.8 0 10.5-8 6-13.2z"}}]},name:"arrow-up",theme:"outlined"},p=h,P=e(84089),l=function(m,v){return t.createElement(P.Z,(0,E.Z)((0,E.Z)({},m),{},{ref:v,icon:p}))};l.displayName="ArrowUpOutlined";var d=t.forwardRef(l)},88484:function(Z,O,e){e.d(O,{Z:function(){return d}});var E=e(1413),t=e(62435),h={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M400 317.7h73.9V656c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V317.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 163a8 8 0 00-12.6 0l-112 141.7c-4.1 5.3-.4 13 6.3 13zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z"}}]},name:"upload",theme:"outlined"},p=h,P=e(84089),l=function(m,v){return t.createElement(P.Z,(0,E.Z)((0,E.Z)({},m),{},{ref:v,icon:p}))};l.displayName="UploadOutlined";var d=t.forwardRef(l)},12873:function(Z,O,e){var E=e(97857),t=e.n(E),h=e(15009),p=e.n(h),P=e(99289),l=e.n(P),d=e(5574),T=e.n(d),m=e(20385),v=e(73403),A=e(88484),F=e(99611),g=e(48689),L=e(13728),M=e(99351),W=e(22538),f=e(90905),I=e(27790),u=e(75527),K=e(69677),j=e(71577),r=e(31365),a=e(26713),o=e(13013),_=e(86738),s=e(62435),n=e(86074),z=function(D){var U=(0,f.useIntl)(),C=(0,s.useRef)(),y=(0,s.useState)(),G=T()(y,2),R=G[0],V=G[1],$={name:"file",action:m.kE,onChange:function(i){if(i.file.status!=="uploading"&&console.log(i.file,i.fileList),i.file.status==="done"){var c;I.ZP.success("".concat(i.file.name," file uploaded successfully")),(c=C.current)===null||c===void 0||c.reload()}else i.file.status==="error"&&I.ZP.error("".concat(i.file.name," file upload failed."))}},N=function(){var S=l()(p()().mark(function i(){var c,b;return p()().wrap(function(B){for(;;)switch(B.prev=B.next){case 0:if(R){B.next=2;break}return B.abrupt("return");case 2:return B.next=4,(0,m.tg)(R);case 4:c=B.sent,c.succeeded&&(I.ZP.success("Uploaded!"),(b=C.current)===null||b===void 0||b.reload());case 6:case"end":return B.stop()}},i)}));return function(){return S.apply(this,arguments)}}();return(0,n.jsxs)(M.Y,{open:D.open,onOpenChange:D.onOpenChange,onFinish:D.onFinish,submitter:!1,children:[(0,n.jsx)("div",{className:"mb-4",children:(0,n.jsxs)(u.Z,{children:[(0,n.jsx)(u.Z.Item,{href:"",children:(0,n.jsx)(v.Z,{})}),(0,n.jsx)(u.Z.Item,{href:"",children:"Home"})]})}),(0,n.jsxs)(K.Z.Group,{compact:!0,className:"mb-4",children:[(0,n.jsx)(K.Z,{style:{width:"calc(100% - 200px)"},onChange:function(i){return V(i.currentTarget.value)}}),(0,n.jsx)(j.Z,{type:"primary",onClick:N,children:"Quick add"})]}),(0,n.jsx)(W.Rs,{toolBarRender:function(){return[(0,s.createElement)(r.Z,t()(t()({},$),{},{key:0}),(0,n.jsx)(j.Z,{icon:(0,n.jsx)(A.Z,{}),type:"primary",children:"Upload"}))]},headerTitle:U.formatMessage({id:"menu.fileManager"}),request:m.V6,rowSelection:{},search:{layout:"vertical"},pagination:{pageSize:5},metas:{title:{dataIndex:"name",title:"Name",render:function(i,c){return(0,n.jsx)("a",{onClick:function(){D.onSelect&&(c.url=new URL(c.url,localStorage.getItem("wf_URL")||"").href,D.onSelect(c))},children:i})}},description:{search:!1,render:function(i,c){return(0,n.jsxs)(a.Z,{children:[(0,n.jsx)("span",{children:c.type}),(0,n.jsx)("span",{children:"|"}),(0,n.jsxs)("span",{children:[(c.size/1024).toFixed(2)," KB"]})]})}},actions:{render:function(i,c){return(0,n.jsx)(o.Z,{menu:{items:[{key:1,label:(0,n.jsxs)(a.Z,{onClick:function(){return f.history.push("/files/center/".concat(c.id))},children:[(0,n.jsx)(F.Z,{}),(0,n.jsx)(f.FormattedMessage,{id:"general.preview"})]})},{key:2,label:(0,n.jsx)(_.Z,{title:"Are you sure?",children:(0,n.jsxs)(a.Z,{children:[(0,n.jsx)(g.Z,{}),"Delete"]})}),danger:!0}]},children:(0,n.jsx)(j.Z,{icon:(0,n.jsx)(L.Z,{}),type:"link",size:"small"})})}}},actionRef:C})]})};O.Z=z},57240:function(Z,O,e){e.r(O);var E=e(15009),t=e.n(E),h=e(99289),p=e.n(h),P=e(5574),l=e.n(P),d=e(20385),T=e(99611),m=e(48689),v=e(1912),A=e(62884),F=e(34545),g=e(90905),L=e(27790),M=e(71577),W=e(86738),f=e(62435),I=e(12873),u=e(86074),K=function(){var r=(0,f.useRef)(),a=(0,f.useState)(!1),o=l()(a,2),_=o[0],s=o[1],n=function(){var x=p()(t()().mark(function D(U){var C,y;return t()().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:return R.next=2,(0,d.Ah)(U);case 2:C=R.sent,C.succeeded?(L.ZP.success("Deleted!"),(y=r.current)===null||y===void 0||y.reload()):L.ZP.error(C.errors[0].description);case 4:case"end":return R.stop()}},D)}));return function(U){return x.apply(this,arguments)}}(),z=[{title:"#",valueType:"indexBorder"},{title:"Name",dataIndex:"name"},{title:"Type",dataIndex:"type"},{title:"Url",dataIndex:"url",search:!1},{title:"Size",dataIndex:"size",search:!1,render:function(D,U){return"".concat((U.size/1024).toFixed(2)," KB")}},{title:"",valueType:"option",render:function(D,U){return[(0,u.jsx)(M.Z,{type:"primary",icon:(0,u.jsx)(T.Z,{}),onClick:function(){g.history.push("/files/center/".concat(U.id))}},1),(0,u.jsx)(W.Z,{title:"Are you sure?",onConfirm:function(){return n(U.id)},children:(0,u.jsx)(M.Z,{type:"primary",icon:(0,u.jsx)(m.Z,{}),danger:!0})},2)]}}];return(0,u.jsxs)(A._z,{title:"Qu\u1EA3n l\xFD t\u1EC7p tin",extra:(0,u.jsx)(M.Z,{icon:(0,u.jsx)(v.Z,{}),type:"primary",onClick:function(){return s(!0)},children:"Upload"}),children:[(0,u.jsx)(F.Z,{request:d.V6,columns:z,rowKey:"id",actionRef:r}),(0,u.jsx)(I.Z,{open:_,onOpenChange:s})]})};O.default=K},20385:function(Z,O,e){e.d(O,{Ah:function(){return v},Cq:function(){return L},V6:function(){return T},kE:function(){return I},tg:function(){return K},z3:function(){return W}});var E=e(15009),t=e.n(E),h=e(97857),p=e.n(h),P=e(99289),l=e.n(P),d=e(90905);function T(r,a){return m.apply(this,arguments)}function m(){return m=l()(t()().mark(function r(a,o){return t()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",(0,d.request)("fileExplorer/list",p()({method:"GET",params:p()({},a)},o||{})));case 1:case"end":return s.stop()}},r)})),m.apply(this,arguments)}function v(r){return A.apply(this,arguments)}function A(){return A=l()(t()().mark(function r(a){return t()().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.abrupt("return",(0,d.request)("fileExplorer/delete-file-content/".concat(a),{method:"POST"}));case 1:case"end":return _.stop()}},r)})),A.apply(this,arguments)}function F(r){return g.apply(this,arguments)}function g(){return g=_asyncToGenerator(_regeneratorRuntime().mark(function r(a){return _regeneratorRuntime().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.abrupt("return",request("fileExplorer/delete-file-item",{method:"POST",data:a}));case 1:case"end":return _.stop()}},r)})),g.apply(this,arguments)}function L(r){return M.apply(this,arguments)}function M(){return M=l()(t()().mark(function r(a){return t()().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.abrupt("return",(0,d.request)("fileExplorer/".concat(a)));case 1:case"end":return _.stop()}},r)})),M.apply(this,arguments)}function W(r,a){return f.apply(this,arguments)}function f(){return f=l()(t()().mark(function r(a,o){return t()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",(0,d.request)("fileExplorer/file-items/".concat(o.id)));case 1:case"end":return s.stop()}},r)})),f.apply(this,arguments)}function I(r){return u.apply(this,arguments)}function u(){return u=l()(t()().mark(function r(a){var o;return t()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return o=new FormData,o.append("file",a),s.abrupt("return",(0,d.request)("fileExplorer/upload",{method:"POST",data:o}));case 3:case"end":return s.stop()}},r)})),u.apply(this,arguments)}function K(r){return j.apply(this,arguments)}function j(){return j=l()(t()().mark(function r(a){return t()().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.abrupt("return",(0,d.request)("fileexplorer/upload-from-url",{method:"POST",data:{url:a}}));case 1:case"end":return _.stop()}},r)})),j.apply(this,arguments)}}}]);
