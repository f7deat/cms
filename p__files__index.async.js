"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[9615],{1912:function(T,E,e){e.d(E,{Z:function(){return a}});var s=e(1413),_=e(62435),O={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M868 545.5L536.1 163a31.96 31.96 0 00-48.3 0L156 545.5a7.97 7.97 0 006 13.2h81c4.6 0 9-2 12.1-5.5L474 300.9V864c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V300.9l218.9 252.3c3 3.5 7.4 5.5 12.1 5.5h81c6.8 0 10.5-8 6-13.2z"}}]},name:"arrow-up",theme:"outlined"},c=O,l=e(91146),d=function(P,j){return _.createElement(l.Z,(0,s.Z)((0,s.Z)({},P),{},{ref:j,icon:c}))};d.displayName="ArrowUpOutlined";var a=_.forwardRef(d)},14361:function(T,E,e){var s=e(1413),_=e(62435),O=e(3843),c=e(91146),l=function(a,p){return _.createElement(c.Z,(0,s.Z)((0,s.Z)({},a),{},{ref:p,icon:O.Z}))};l.displayName="BarsOutlined",E.Z=_.forwardRef(l)},82061:function(T,E,e){var s=e(1413),_=e(62435),O=e(47046),c=e(91146),l=function(a,p){return _.createElement(c.Z,(0,s.Z)((0,s.Z)({},a),{},{ref:p,icon:O.Z}))};l.displayName="DeleteOutlined",E.Z=_.forwardRef(l)},69753:function(T,E,e){var s=e(1413),_=e(62435),O=e(49495),c=e(91146),l=function(a,p){return _.createElement(c.Z,(0,s.Z)((0,s.Z)({},a),{},{ref:p,icon:O.Z}))};l.displayName="DownloadOutlined",E.Z=_.forwardRef(l)},55287:function(T,E,e){var s=e(1413),_=e(62435),O=e(5717),c=e(91146),l=function(a,p){return _.createElement(c.Z,(0,s.Z)((0,s.Z)({},a),{},{ref:p,icon:O.Z}))};l.displayName="EyeOutlined",E.Z=_.forwardRef(l)},88484:function(T,E,e){e.d(E,{Z:function(){return a}});var s=e(1413),_=e(62435),O={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M400 317.7h73.9V656c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V317.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 163a8 8 0 00-12.6 0l-112 141.7c-4.1 5.3-.4 13 6.3 13zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z"}}]},name:"upload",theme:"outlined"},c=O,l=e(91146),d=function(P,j){return _.createElement(l.Z,(0,s.Z)((0,s.Z)({},P),{},{ref:j,icon:c}))};d.displayName="UploadOutlined";var a=_.forwardRef(d)},12873:function(T,E,e){var s=e(97857),_=e.n(s),O=e(15009),c=e.n(O),l=e(99289),d=e.n(l),a=e(5574),p=e.n(a),P=e(20385),j=e(73403),I=e(88484),F=e(55287),B=e(82061),b=e(14361),L=e(93933),Z=e(16309),f=e(35312),g=e(27790),v=e(85673),C=e(96365),R=e(71577),t=e(65419),o=e(42075),i=e(85418),n=e(86738),D=e(62435),r=e(86074),z=function(U){var G=(0,f.useIntl)(),x=(0,D.useRef)(),V=(0,D.useState)(),N=p()(V,2),K=N[0],y=N[1],h={name:"file",action:P.kE,onChange:function(m){if(m.file.status!=="uploading"&&console.log(m.file,m.fileList),m.file.status==="done"){var u;g.ZP.success("".concat(m.file.name," file uploaded successfully")),(u=x.current)===null||u===void 0||u.reload()}else m.file.status==="error"&&g.ZP.error("".concat(m.file.name," file upload failed."))}},A=function(){var M=d()(c()().mark(function m(){var u,S;return c()().wrap(function(W){for(;;)switch(W.prev=W.next){case 0:if(K){W.next=2;break}return W.abrupt("return");case 2:return W.next=4,(0,P.tg)(K);case 4:u=W.sent,u.succeeded&&(g.ZP.success("Uploaded!"),(S=x.current)===null||S===void 0||S.reload());case 6:case"end":return W.stop()}},m)}));return function(){return M.apply(this,arguments)}}();return(0,r.jsxs)(L.Y,{open:U.open,onOpenChange:U.onOpenChange,onFinish:U.onFinish,submitter:!1,children:[(0,r.jsx)("div",{className:"mb-4",children:(0,r.jsxs)(v.Z,{children:[(0,r.jsx)(v.Z.Item,{href:"",children:(0,r.jsx)(j.Z,{})}),(0,r.jsx)(v.Z.Item,{href:"",children:"Home"})]})}),(0,r.jsxs)(C.Z.Group,{compact:!0,className:"mb-4",children:[(0,r.jsx)(C.Z,{style:{width:"calc(100% - 200px)"},onChange:function(m){return y(m.currentTarget.value)}}),(0,r.jsx)(R.ZP,{type:"primary",onClick:A,children:"Quick add"})]}),(0,r.jsx)(Z.Rs,{toolBarRender:function(){return[(0,D.createElement)(t.Z,_()(_()({},h),{},{key:0}),(0,r.jsx)(R.ZP,{icon:(0,r.jsx)(I.Z,{}),type:"primary",children:"Upload"}))]},headerTitle:G.formatMessage({id:"menu.fileManager"}),request:function(m){return(0,P.V6)(_()({},m),U.type)},rowSelection:{},search:{layout:"vertical"},pagination:{pageSize:5},metas:{title:{dataIndex:"name",title:"Name",render:function(m,u){return(0,r.jsx)("a",{onClick:function(){U.onSelect&&(u.url=new URL(u.url,localStorage.getItem("wf_URL")||"").href,U.onSelect(u))},children:m})}},description:{search:!1,render:function(m,u){return(0,r.jsxs)(o.Z,{children:[(0,r.jsx)("span",{children:u.type}),(0,r.jsx)("span",{children:"|"}),(0,r.jsxs)("span",{children:[(u.size/1024).toFixed(2)," KB"]})]})}},actions:{render:function(m,u){return(0,r.jsx)(i.Z,{menu:{items:[{key:1,label:(0,r.jsxs)(o.Z,{onClick:function(){return f.history.push("/files/center/".concat(u.id))},children:[(0,r.jsx)(F.Z,{}),(0,r.jsx)(f.FormattedMessage,{id:"general.preview"})]})},{key:2,label:(0,r.jsx)(n.Z,{title:"Are you sure?",children:(0,r.jsxs)(o.Z,{children:[(0,r.jsx)(B.Z,{}),"Delete"]})}),danger:!0}]},children:(0,r.jsx)(R.ZP,{icon:(0,r.jsx)(b.Z,{}),type:"link",size:"small"})})}}},actionRef:x})]})};E.Z=z},57240:function(T,E,e){e.r(E);var s=e(15009),_=e.n(s),O=e(99289),c=e.n(O),l=e(5574),d=e.n(l),a=e(20385),p=e(55287),P=e(69753),j=e(82061),I=e(1912),F=e(63386),B=e(88518),b=e(28199),L=e(35312),Z=e(27790),f=e(71577),g=e(86738),v=e(71230),C=e(15746),R=e(98293),t=e(42075),o=e(62435),i=e(12873),n=e(86074),D=function(){var z=(0,o.useRef)(),$=(0,o.useState)(!1),U=d()($,2),G=U[0],x=U[1],V=function(){var K=c()(_()().mark(function y(h){var A,M;return _()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,(0,a.Ah)(h);case 2:A=u.sent,A.succeeded?(Z.ZP.success("Deleted!"),(M=z.current)===null||M===void 0||M.reload()):Z.ZP.error(A.errors[0].description);case 4:case"end":return u.stop()}},y)}));return function(h){return K.apply(this,arguments)}}(),N=[{title:"#",valueType:"indexBorder"},{title:"Name",dataIndex:"name"},{title:"Type",dataIndex:"type"},{title:"Size",dataIndex:"size",search:!1,render:function(y,h){return"".concat((h.size/1024).toFixed(2)," KB")}},{title:"",valueType:"option",render:function(y,h){return[(0,n.jsx)(f.ZP,{type:"primary",icon:(0,n.jsx)(p.Z,{}),onClick:function(){L.history.push("/files/center/".concat(h.id))}},1),(0,n.jsx)(f.ZP,{icon:(0,n.jsx)(P.Z,{}),onClick:function(){return window.location.href=h.url}},2),(0,n.jsx)(g.Z,{title:"Are you sure?",onConfirm:function(){return V(h.id)},children:(0,n.jsx)(f.ZP,{type:"primary",icon:(0,n.jsx)(j.Z,{}),danger:!0})},3)]}}];return(0,n.jsxs)(F._z,{extra:(0,n.jsx)(f.ZP,{icon:(0,n.jsx)(I.Z,{}),type:"primary",onClick:function(){return x(!0)},children:"Upload"}),children:[(0,n.jsxs)(v.Z,{gutter:16,children:[(0,n.jsx)(C.Z,{span:18,children:(0,n.jsx)(B.Z,{headerTitle:"Recent",request:a.V6,columns:N,rowKey:"id",actionRef:z})}),(0,n.jsx)(C.Z,{span:6,children:(0,n.jsx)(b.Z,{children:(0,n.jsxs)(v.Z,{children:[(0,n.jsx)(C.Z,{span:4,children:(0,n.jsx)(R.C,{icon:"T"})}),(0,n.jsx)(C.Z,{children:(0,n.jsxs)(t.Z,{children:["Clean up your space",(0,n.jsx)(f.ZP,{children:"Clean"})]})})]})})})]}),(0,n.jsx)(i.Z,{open:G,onOpenChange:x})]})};E.default=D},20385:function(T,E,e){e.d(E,{Ah:function(){return j},Cq:function(){return b},V6:function(){return p},kE:function(){return g},tg:function(){return C},z3:function(){return Z}});var s=e(15009),_=e.n(s),O=e(97857),c=e.n(O),l=e(99289),d=e.n(l),a=e(35312);function p(t,o,i){return P.apply(this,arguments)}function P(){return P=d()(_()().mark(function t(o,i,n){return _()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,a.request)("fileExplorer/list",c()({method:"GET",params:c()({type:Object.keys(i!=null?i:[]).length>0?i==null?void 0:i.join(","):""},o)},n||{})));case 1:case"end":return r.stop()}},t)})),P.apply(this,arguments)}function j(t){return I.apply(this,arguments)}function I(){return I=d()(_()().mark(function t(o){return _()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,a.request)("fileExplorer/delete-file-content/".concat(o),{method:"POST"}));case 1:case"end":return n.stop()}},t)})),I.apply(this,arguments)}function F(t){return B.apply(this,arguments)}function B(){return B=_asyncToGenerator(_regeneratorRuntime().mark(function t(o){return _regeneratorRuntime().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",request("fileExplorer/delete-file-item",{method:"POST",data:o}));case 1:case"end":return n.stop()}},t)})),B.apply(this,arguments)}function b(t){return L.apply(this,arguments)}function L(){return L=d()(_()().mark(function t(o){return _()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,a.request)("fileExplorer/".concat(o)));case 1:case"end":return n.stop()}},t)})),L.apply(this,arguments)}function Z(t,o){return f.apply(this,arguments)}function f(){return f=d()(_()().mark(function t(o,i){return _()().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:return D.abrupt("return",(0,a.request)("fileExplorer/file-items/".concat(i.id)));case 1:case"end":return D.stop()}},t)})),f.apply(this,arguments)}function g(t){return v.apply(this,arguments)}function v(){return v=d()(_()().mark(function t(o){var i;return _()().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:return i=new FormData,i.append("file",o),D.abrupt("return",(0,a.request)("fileExplorer/upload",{method:"POST",data:i}));case 3:case"end":return D.stop()}},t)})),v.apply(this,arguments)}function C(t){return R.apply(this,arguments)}function R(){return R=d()(_()().mark(function t(o){return _()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,a.request)("fileexplorer/upload-from-url",{method:"POST",data:{url:o}}));case 1:case"end":return n.stop()}},t)})),R.apply(this,arguments)}}}]);
