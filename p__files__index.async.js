"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[9615],{1912:function(L,E,e){e.d(E,{Z:function(){return u}});var c=e(1413),t=e(62435),p={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M868 545.5L536.1 163a31.96 31.96 0 00-48.3 0L156 545.5a7.97 7.97 0 006 13.2h81c4.6 0 9-2 12.1-5.5L474 300.9V864c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V300.9l218.9 252.3c3 3.5 7.4 5.5 12.1 5.5h81c6.8 0 10.5-8 6-13.2z"}}]},name:"arrow-up",theme:"outlined"},O=p,D=e(84089),l=function(m,h){return t.createElement(D.Z,(0,c.Z)((0,c.Z)({},m),{},{ref:h,icon:O}))};l.displayName="ArrowUpOutlined";var u=t.forwardRef(l)},88484:function(L,E,e){e.d(E,{Z:function(){return u}});var c=e(1413),t=e(62435),p={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M400 317.7h73.9V656c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V317.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 163a8 8 0 00-12.6 0l-112 141.7c-4.1 5.3-.4 13 6.3 13zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z"}}]},name:"upload",theme:"outlined"},O=p,D=e(84089),l=function(m,h){return t.createElement(D.Z,(0,c.Z)((0,c.Z)({},m),{},{ref:h,icon:O}))};l.displayName="UploadOutlined";var u=t.forwardRef(l)},12873:function(L,E,e){var c=e(97857),t=e.n(c),p=e(20385),O=e(73403),D=e(88484),l=e(99611),u=e(48689),C=e(13728),m=e(99351),h=e(22538),P=e(90905),T=e(27790),v=e(75527),R=e(31365),f=e(71577),U=e(26713),M=e(13013),g=e(86738),s=e(62435),n=e(86074),o=function(r){var _=(0,P.useIntl)(),K=(0,s.useRef)(),W={name:"file",action:p.kE,onChange:function(d){if(d.file.status!=="uploading"&&console.log(d.file,d.fileList),d.file.status==="done"){var a;T.ZP.success("".concat(d.file.name," file uploaded successfully")),(a=K.current)===null||a===void 0||a.reload()}else d.file.status==="error"&&T.ZP.error("".concat(d.file.name," file upload failed."))}};return(0,n.jsxs)(m.Y,{title:"Select content",open:r.open,onOpenChange:r.onOpenChange,onFinish:r.onFinish,children:[(0,n.jsx)("div",{className:"mb-4",children:(0,n.jsxs)(v.Z,{children:[(0,n.jsx)(v.Z.Item,{href:"",children:(0,n.jsx)(O.Z,{})}),(0,n.jsx)(v.Z.Item,{href:"",children:"Home"})]})}),(0,n.jsx)(h.Rs,{toolBarRender:function(){return[(0,s.createElement)(R.Z,t()(t()({},W),{},{key:0}),(0,n.jsx)(f.Z,{icon:(0,n.jsx)(D.Z,{}),type:"primary",children:"Upload"}))]},headerTitle:_.formatMessage({id:"menu.fileManager"}),request:p.V6,rowSelection:{},search:{layout:"vertical"},pagination:{pageSize:5},metas:{title:{dataIndex:"name",title:"Name",render:function(d,a){return(0,n.jsx)("a",{onClick:function(){r.onSelect&&(a.url=new URL(a.url,localStorage.getItem("wf_URL")||"").href,r.onSelect(a))},children:d})}},description:{search:!1,render:function(d,a){return(0,n.jsxs)(U.Z,{children:[(0,n.jsx)("span",{children:a.type}),(0,n.jsx)("span",{children:"|"}),(0,n.jsxs)("span",{children:[(a.size/1024).toFixed(2)," KB"]})]})}},actions:{render:function(d,a){return(0,n.jsx)(M.Z,{menu:{items:[{key:1,label:(0,n.jsxs)(U.Z,{onClick:function(){return P.history.push("/files/center/".concat(a.id))},children:[(0,n.jsx)(l.Z,{}),(0,n.jsx)(P.FormattedMessage,{id:"general.preview"})]})},{key:2,label:(0,n.jsx)(g.Z,{title:"Are you sure?",children:(0,n.jsxs)(U.Z,{children:[(0,n.jsx)(u.Z,{}),"Delete"]})}),danger:!0}]},children:(0,n.jsx)(f.Z,{icon:(0,n.jsx)(C.Z,{}),type:"link",size:"small"})})}}},actionRef:K})]})};E.Z=o},57240:function(L,E,e){e.r(E);var c=e(15009),t=e.n(c),p=e(99289),O=e.n(p),D=e(5574),l=e.n(D),u=e(20385),C=e(99611),m=e(48689),h=e(1912),P=e(62884),T=e(22257),v=e(90905),R=e(27790),f=e(71577),U=e(86738),M=e(62435),g=e(12873),s=e(86074),n=function(){var i=(0,M.useRef)(),r=(0,M.useState)(!1),_=l()(r,2),K=_[0],W=_[1],A=function(){var a=O()(t()().mark(function I(j){var x,S;return t()().wrap(function(B){for(;;)switch(B.prev=B.next){case 0:return B.next=2,(0,u.Ah)(j);case 2:x=B.sent,x.succeeded?(R.ZP.success("Deleted!"),(S=i.current)===null||S===void 0||S.reload()):R.ZP.error(x.errors[0].description);case 4:case"end":return B.stop()}},I)}));return function(j){return a.apply(this,arguments)}}(),d=[{title:"#",valueType:"indexBorder"},{title:"Name",dataIndex:"name"},{title:"Type",dataIndex:"type"},{title:"Url",dataIndex:"url",search:!1},{title:"Size",dataIndex:"size",search:!1,render:function(I,j){return"".concat((j.size/1024).toFixed(2)," KB")}},{title:"",valueType:"option",render:function(I,j){return[(0,s.jsx)(f.Z,{type:"primary",icon:(0,s.jsx)(C.Z,{}),onClick:function(){v.history.push("/files/center/".concat(j.id))}},1),(0,s.jsx)(U.Z,{title:"Are you sure?",onConfirm:function(){return A(j.id)},children:(0,s.jsx)(f.Z,{type:"primary",icon:(0,s.jsx)(m.Z,{}),danger:!0})},2)]}}];return(0,s.jsxs)(P._z,{title:"Qu\u1EA3n l\xFD t\u1EC7p tin",extra:(0,s.jsx)(f.Z,{icon:(0,s.jsx)(h.Z,{}),type:"primary",onClick:function(){return W(!0)},children:"Upload"}),children:[(0,s.jsx)(T.Z,{request:u.V6,columns:d,rowKey:"id",actionRef:i}),(0,s.jsx)(g.Z,{open:K,onOpenChange:W})]})};E.default=n},20385:function(L,E,e){e.d(E,{Ah:function(){return h},Cq:function(){return R},V6:function(){return C},kE:function(){return g},z3:function(){return U}});var c=e(15009),t=e.n(c),p=e(97857),O=e.n(p),D=e(99289),l=e.n(D),u=e(90905);function C(n,o){return m.apply(this,arguments)}function m(){return m=l()(t()().mark(function n(o,i){return t()().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.abrupt("return",(0,u.request)("fileExplorer/list",O()({method:"GET",params:O()({},o)},i||{})));case 1:case"end":return _.stop()}},n)})),m.apply(this,arguments)}function h(n){return P.apply(this,arguments)}function P(){return P=l()(t()().mark(function n(o){return t()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,u.request)("fileExplorer/delete-file-content/".concat(o),{method:"POST"}));case 1:case"end":return r.stop()}},n)})),P.apply(this,arguments)}function T(n){return v.apply(this,arguments)}function v(){return v=_asyncToGenerator(_regeneratorRuntime().mark(function n(o){return _regeneratorRuntime().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",request("fileExplorer/delete-file-item",{method:"POST",data:o}));case 1:case"end":return r.stop()}},n)})),v.apply(this,arguments)}function R(n){return f.apply(this,arguments)}function f(){return f=l()(t()().mark(function n(o){return t()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,u.request)("fileExplorer/".concat(o)));case 1:case"end":return r.stop()}},n)})),f.apply(this,arguments)}function U(n,o){return M.apply(this,arguments)}function M(){return M=l()(t()().mark(function n(o,i){return t()().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.abrupt("return",(0,u.request)("fileExplorer/file-items/".concat(i.id)));case 1:case"end":return _.stop()}},n)})),M.apply(this,arguments)}function g(n){return s.apply(this,arguments)}function s(){return s=l()(t()().mark(function n(o){var i;return t()().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return i=new FormData,i.append("file",o),_.abrupt("return",(0,u.request)("fileExplorer/upload",{method:"POST",data:i}));case 3:case"end":return _.stop()}},n)})),s.apply(this,arguments)}}}]);
