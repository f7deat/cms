"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[6497],{47389:function(G,h,e){var l=e(1413),n=e(62435),D=e(27363),_=e(91146),f=function(u,a){return n.createElement(_.Z,(0,l.Z)((0,l.Z)({},u),{},{ref:a,icon:D.Z}))};f.displayName="EditOutlined",h.Z=n.forwardRef(f)},88484:function(G,h,e){e.d(h,{Z:function(){return u}});var l=e(1413),n=e(62435),D={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M400 317.7h73.9V656c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V317.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 163a8 8 0 00-12.6 0l-112 141.7c-4.1 5.3-.4 13 6.3 13zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z"}}]},name:"upload",theme:"outlined"},_=D,f=e(91146),i=function(m,j){return n.createElement(f.Z,(0,l.Z)((0,l.Z)({},m),{},{ref:j,icon:_}))};i.displayName="UploadOutlined";var u=n.forwardRef(i)},63434:function(G,h,e){var l=e(1413),n=e(91),D=e(22270),_=e(84567),f=e(62435),i=e(90789),u=e(96987),a=e(86074),m=["options","fieldProps","proFieldProps","valueEnum"],j=f.forwardRef(function(p,g){var O=p.options,P=p.fieldProps,B=p.proFieldProps,C=p.valueEnum,F=(0,n.Z)(p,m);return(0,a.jsx)(u.Z,(0,l.Z)({ref:g,valueType:"checkbox",valueEnum:(0,D.h)(C,void 0),fieldProps:(0,l.Z)({options:O},P),lightProps:(0,l.Z)({labelFormatter:function(){return(0,a.jsx)(u.Z,(0,l.Z)({ref:g,valueType:"checkbox",mode:"read",valueEnum:(0,D.h)(C,void 0),filedConfig:{customLightMode:!0},fieldProps:(0,l.Z)({options:O},P),proFieldProps:B},F))}},F.lightProps),proFieldProps:B},F))}),E=f.forwardRef(function(p,g){var O=p.fieldProps,P=p.children;return(0,a.jsx)(_.Z,(0,l.Z)((0,l.Z)({ref:g},O),{},{children:P}))}),T=(0,i.G)(E,{valuePropName:"checked"}),d=T;d.Group=j,h.Z=d},5966:function(G,h,e){var l=e(1413),n=e(91),D=e(62435),_=e(96987),f=e(86074),i=["fieldProps","proFieldProps"],u=["fieldProps","proFieldProps"],a="text",m=function(d){var p=d.fieldProps,g=d.proFieldProps,O=(0,n.Z)(d,i);return(0,f.jsx)(_.Z,(0,l.Z)({valueType:a,fieldProps:p,filedConfig:{valueType:a},proFieldProps:g},O))},j=function(d){var p=d.fieldProps,g=d.proFieldProps,O=(0,n.Z)(d,u);return(0,f.jsx)(_.Z,(0,l.Z)({valueType:"password",fieldProps:p,proFieldProps:g,filedConfig:{valueType:a}},O))},E=m;E.Password=j,E.displayName="ProFormComponent",h.Z=E},85335:function(G,h,e){var l=e(15009),n=e.n(l),D=e(99289),_=e.n(D),f=e(66352),i=e(28199),u=e(34994),a=e(5966),m=e(63434),j=e(35312),E=e(58301),T=e(62435),d=e(86074),p=function(){var O=(0,j.useParams)(),P=O.id,B=(0,T.useRef)();(0,T.useEffect)(function(){(0,f.Mk)(P).then(function(F){var M;(M=B.current)===null||M===void 0||M.setFields([{name:"name",value:F.name},{name:"active",value:F.active}])})},[P]);var C=function(){var F=_()(n()().mark(function M(I){var r;return n()().wrap(function(A){for(;;)switch(A.prev=A.next){case 0:return A.next=2,(0,f.Qb)(I);case 2:r=A.sent,r.succeeded?E.ZP.success("Saved!"):E.ZP.error(r.errors[0].description);case 4:case"end":return A.stop()}},M)}));return function(I){return F.apply(this,arguments)}}();return(0,d.jsx)(i.Z,{title:"Info",children:(0,d.jsxs)(u.A,{formRef:B,onFinish:C,children:[(0,d.jsx)(a.Z,{hidden:!0,name:"id",initialValue:P}),(0,d.jsx)(a.Z,{name:"name",label:"Name"}),(0,d.jsx)(m.Z,{name:"active",label:"Active"})]})})};h.Z=p},88638:function(G,h,e){e.r(h),e.d(h,{default:function(){return k}});var l=e(15009),n=e.n(l),D=e(99289),_=e.n(D),f=e(5574),i=e.n(f),u=e(97857),a=e.n(u),m=e(20385),j=e(5251),E=e(88484),T=e(34994),d=e(5966),p=e(37476),g=e(16309),O=e(35312),P=e(58301),B=e(65419),C=e(71577),F=e(55241),M=e(32545),I=e(62435),r=e(86074),N=function(x){var U=(0,O.useIntl)(),K=(0,I.useRef)(),V={name:"file",action:m.kE,accept:"image/png, image/jpeg",onChange:function(c){if(c.file.status!=="uploading"&&console.log(c.file,c.fileList),c.file.status==="done"){var y;P.ZP.success("".concat(c.file.name," file uploaded successfully")),(y=K.current)===null||y===void 0||y.reload()}else c.file.status==="error"&&P.ZP.error("".concat(c.file.name," file upload failed."))}},b=function(){var L=_()(n()().mark(function c(y){var W,z;return n()().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:return S.next=2,(0,m.tg)(y.url);case 2:W=S.sent,W.succeeded&&(P.ZP.success("Uploaded!"),(z=K.current)===null||z===void 0||z.reload());case 4:case"end":return S.stop()}},c)}));return function(y){return L.apply(this,arguments)}}(),Z=(0,r.jsx)(T.A,{onFinish:b,children:(0,r.jsx)(d.Z,{name:"url",rules:[{required:!0}],placeholder:"URL"})});return(0,r.jsx)(p.Y,{open:x.open,onOpenChange:x.onOpenChange,children:(0,r.jsx)(g.Rs,{ghost:!0,toolBarRender:function(){return[(0,I.createElement)(B.Z,a()(a()({},V),{},{key:0}),(0,r.jsx)(C.ZP,{icon:(0,r.jsx)(E.Z,{}),type:"primary",children:"Upload"})),(0,r.jsx)(F.Z,{trigger:"click",content:Z,title:"Upload Via URL",children:(0,r.jsx)(C.ZP,{icon:(0,r.jsx)(E.Z,{}),onClick:b,children:"Via URL"})},2)]},headerTitle:U.formatMessage({id:"menu.fileManager"}),request:function(c){return(0,m.V6)(a()({},c),[".png",".jpg",".jpeg","image/jpeg"])},search:{layout:"vertical"},pagination:{pageSize:6},grid:{column:3},onItem:function(c){return{onClick:function(){x.onSelect&&x.onSelect(c)}}},metas:{content:{dataIndex:"name",title:"Name",render:function(c,y){return(0,r.jsx)(M.Z,{src:(0,j.Er)(y.url),height:100,preview:!1})}}},actionRef:K})})},A=N,s=e(47389),v=function(x){var U=T.A.useFormInstance(),K=(0,I.useState)(!1),V=i()(K,2),b=V[0],Z=V[1],L=(0,I.useState)(),c=i()(L,2),y=c[0],W=c[1],z=function(S){U==null||U.setFieldValue("backgroundImage",S.url),W(S.url),Z(!1)};return(0,I.useEffect)(function(){new Promise(function(Y){setTimeout(function(){W(U==null?void 0:U.getFieldValue(x.name||"")),Y(!0)},500)})},[]),(0,r.jsxs)(T.A.Item,{name:x.name,label:x.label,children:[(0,r.jsx)(M.Z,{src:y,height:150,width:150}),(0,r.jsx)(C.ZP,{icon:(0,r.jsx)(s.Z,{}),onClick:function(){return Z(!0)}}),(0,r.jsx)(A,{open:b,onOpenChange:Z,onSelect:z})]})},t=v,o=e(85335),R=e(66352),$=e(63386),Q=e(28199),X=e(71230),H=e(15746),w=function(){var x=(0,O.useParams)(),U=x.id,K=(0,I.useRef)();(0,I.useEffect)(function(){(0,R.Tu)(U).then(function(b){var Z;(Z=K.current)===null||Z===void 0||Z.setFields([{name:"backgroundImage",value:b.backgroundImage}])})},[U]);var V=function(){var b=_()(n()().mark(function Z(L){var c;return n()().wrap(function(W){for(;;)switch(W.prev=W.next){case 0:return W.next=2,(0,R.iH)(U,L);case 2:c=W.sent,c.succeeded&&P.ZP.success("Saved!");case 4:case"end":return W.stop()}},Z)}));return function(L){return b.apply(this,arguments)}}();return(0,r.jsx)($._z,{children:(0,r.jsxs)(X.Z,{gutter:16,children:[(0,r.jsx)(H.Z,{span:16,children:(0,r.jsx)(Q.Z,{children:(0,r.jsx)(T.A,{onFinish:V,formRef:K,children:(0,r.jsx)(t,{name:"backgroundImage",label:"Background image"})})})}),(0,r.jsx)(H.Z,{span:8,children:(0,r.jsx)(o.Z,{})})]})})},k=w},20385:function(G,h,e){e.d(h,{Ah:function(){return j},Cq:function(){return p},V6:function(){return a},kE:function(){return B},p6:function(){return N},tg:function(){return F},yk:function(){return I},z3:function(){return O}});var l=e(15009),n=e.n(l),D=e(97857),_=e.n(D),f=e(99289),i=e.n(f),u=e(35312);function a(s,v,t){return m.apply(this,arguments)}function m(){return m=i()(n()().mark(function s(v,t,o){return n()().wrap(function($){for(;;)switch($.prev=$.next){case 0:return $.abrupt("return",(0,u.request)("file/list",_()({method:"GET",params:_()({type:Object.keys(t!=null?t:[]).length>0?t==null?void 0:t.join(","):""},v)},o||{})));case 1:case"end":return $.stop()}},s)})),m.apply(this,arguments)}function j(s){return E.apply(this,arguments)}function E(){return E=i()(n()().mark(function s(v){return n()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",(0,u.request)("file/delete-file-content/".concat(v),{method:"POST"}));case 1:case"end":return o.stop()}},s)})),E.apply(this,arguments)}function T(s){return d.apply(this,arguments)}function d(){return d=_asyncToGenerator(_regeneratorRuntime().mark(function s(v){return _regeneratorRuntime().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",request("file/delete-file-item",{method:"POST",data:v}));case 1:case"end":return o.stop()}},s)})),d.apply(this,arguments)}function p(s){return g.apply(this,arguments)}function g(){return g=i()(n()().mark(function s(v){return n()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",(0,u.request)("file/".concat(v)));case 1:case"end":return o.stop()}},s)})),g.apply(this,arguments)}function O(s,v){return P.apply(this,arguments)}function P(){return P=i()(n()().mark(function s(v,t){return n()().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:return R.abrupt("return",(0,u.request)("file/file-items/".concat(t.id)));case 1:case"end":return R.stop()}},s)})),P.apply(this,arguments)}function B(s){return C.apply(this,arguments)}function C(){return C=i()(n()().mark(function s(v){var t;return n()().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:return t=new FormData,t.append("file",v),R.abrupt("return",(0,u.request)("file/upload",{method:"POST",data:t}));case 3:case"end":return R.stop()}},s)})),C.apply(this,arguments)}function F(s){return M.apply(this,arguments)}function M(){return M=i()(n()().mark(function s(v){return n()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",(0,u.request)("file/upload-from-url",{method:"POST",data:{url:v}}));case 1:case"end":return o.stop()}},s)})),M.apply(this,arguments)}function I(){return r.apply(this,arguments)}function r(){return r=i()(n()().mark(function s(){return n()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,u.request)("file/count"));case 1:case"end":return t.stop()}},s)})),r.apply(this,arguments)}function N(){return A.apply(this,arguments)}function A(){return A=i()(n()().mark(function s(){return n()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,u.request)("file/total-size"));case 1:case"end":return t.stop()}},s)})),A.apply(this,arguments)}},5251:function(G,h,e){e.d(h,{Er:function(){return _},es:function(){return u},p6:function(){return f}});var l=e(27484),n=e.n(l);function D(a){return a.trim()}function _(a){return new URL(a||"",localStorage.getItem("wf_URL")||"").href}function f(a){return a?n()(a).format("DD/MM/YYYY hh:mm:ss"):"-"}var i=function(){var m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:100;return new Promise(function(j){setTimeout(function(){j(!0)},m)})},u=function(m){return m?m.split("-")[0]:"en"}}}]);
