"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[6497],{47389:function(G,h,e){var l=e(1413),n=e(62435),D=e(27363),_=e(91146),c=function(t,d){return n.createElement(_.Z,(0,l.Z)((0,l.Z)({},t),{},{ref:d,icon:D.Z}))};c.displayName="EditOutlined",h.Z=n.forwardRef(c)},88484:function(G,h,e){e.d(h,{Z:function(){return t}});var l=e(1413),n=e(62435),D={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M400 317.7h73.9V656c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V317.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 163a8 8 0 00-12.6 0l-112 141.7c-4.1 5.3-.4 13 6.3 13zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z"}}]},name:"upload",theme:"outlined"},_=D,c=e(91146),u=function(v,y){return n.createElement(c.Z,(0,l.Z)((0,l.Z)({},v),{},{ref:y,icon:_}))};u.displayName="UploadOutlined";var t=n.forwardRef(u)},63434:function(G,h,e){var l=e(1413),n=e(91),D=e(22270),_=e(84567),c=e(62435),u=e(90789),t=e(96987),d=e(86074),v=["options","fieldProps","proFieldProps","valueEnum"],y=c.forwardRef(function(f,g){var O=f.options,P=f.fieldProps,B=f.proFieldProps,T=f.valueEnum,C=(0,n.Z)(f,v);return(0,d.jsx)(t.Z,(0,l.Z)({ref:g,valueType:"checkbox",valueEnum:(0,D.h)(T,void 0),fieldProps:(0,l.Z)({options:O},P),lightProps:(0,l.Z)({labelFormatter:function(){return(0,d.jsx)(t.Z,(0,l.Z)({ref:g,valueType:"checkbox",mode:"read",valueEnum:(0,D.h)(T,void 0),filedConfig:{customLightMode:!0},fieldProps:(0,l.Z)({options:O},P),proFieldProps:B},C))}},C.lightProps),proFieldProps:B},C))}),E=c.forwardRef(function(f,g){var O=f.fieldProps,P=f.children;return(0,d.jsx)(_.Z,(0,l.Z)((0,l.Z)({ref:g},O),{},{children:P}))}),R=(0,u.G)(E,{valuePropName:"checked"}),i=R;i.Group=y,h.Z=i},5966:function(G,h,e){var l=e(1413),n=e(91),D=e(62435),_=e(96987),c=e(86074),u=["fieldProps","proFieldProps"],t=["fieldProps","proFieldProps"],d="text",v=function(i){var f=i.fieldProps,g=i.proFieldProps,O=(0,n.Z)(i,u);return(0,c.jsx)(_.Z,(0,l.Z)({valueType:d,fieldProps:f,filedConfig:{valueType:d},proFieldProps:g},O))},y=function(i){var f=i.fieldProps,g=i.proFieldProps,O=(0,n.Z)(i,t);return(0,c.jsx)(_.Z,(0,l.Z)({valueType:"password",fieldProps:f,proFieldProps:g,filedConfig:{valueType:d}},O))},E=v;E.Password=y,E.displayName="ProFormComponent",h.Z=E},85335:function(G,h,e){var l=e(15009),n=e.n(l),D=e(99289),_=e.n(D),c=e(66352),u=e(28199),t=e(34994),d=e(5966),v=e(63434),y=e(35312),E=e(58301),R=e(62435),i=e(86074),f=function(){var O=(0,y.useParams)(),P=O.id,B=(0,R.useRef)();(0,R.useEffect)(function(){(0,c.Mk)(P).then(function(C){var M;(M=B.current)===null||M===void 0||M.setFields([{name:"name",value:C.name},{name:"active",value:C.active}])})},[P]);var T=function(){var C=_()(n()().mark(function M(F){var r;return n()().wrap(function(A){for(;;)switch(A.prev=A.next){case 0:return A.next=2,(0,c.Qb)(F);case 2:r=A.sent,r.succeeded?E.ZP.success("Saved!"):E.ZP.error(r.errors[0].description);case 4:case"end":return A.stop()}},M)}));return function(F){return C.apply(this,arguments)}}();return(0,i.jsx)(u.Z,{title:"Info",children:(0,i.jsxs)(t.A,{formRef:B,onFinish:T,children:[(0,i.jsx)(d.Z,{hidden:!0,name:"id",initialValue:P}),(0,i.jsx)(d.Z,{name:"name",label:"Name"}),(0,i.jsx)(v.Z,{name:"active",label:"Active"})]})})};h.Z=f},88638:function(G,h,e){e.r(h),e.d(h,{default:function(){return k}});var l=e(15009),n=e.n(l),D=e(99289),_=e.n(D),c=e(5574),u=e.n(c),t=e(97857),d=e.n(t),v=e(20385),y=e(5251),E=e(88484),R=e(34994),i=e(5966),f=e(37476),g=e(64176),O=e(35312),P=e(58301),B=e(65419),T=e(71577),C=e(55241),M=e(32545),F=e(62435),r=e(86074),N=function(x){var I=(0,O.useIntl)(),K=(0,F.useRef)(),V={name:"file",action:v.kE,accept:"image/png, image/jpeg",onChange:function(m){if(m.file.status!=="uploading"&&console.log(m.file,m.fileList),m.file.status==="done"){var Z;P.ZP.success("".concat(m.file.name," file uploaded successfully")),(Z=K.current)===null||Z===void 0||Z.reload()}else m.file.status==="error"&&P.ZP.error("".concat(m.file.name," file upload failed."))}},b=function(){var L=_()(n()().mark(function m(Z){var W,z;return n()().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:return S.next=2,(0,v.tg)(Z.url);case 2:W=S.sent,W.succeeded&&(P.ZP.success("Uploaded!"),(z=K.current)===null||z===void 0||z.reload());case 4:case"end":return S.stop()}},m)}));return function(Z){return L.apply(this,arguments)}}(),U=(0,r.jsx)(R.A,{onFinish:b,children:(0,r.jsx)(i.Z,{name:"url",rules:[{required:!0}],placeholder:"URL"})});return(0,r.jsx)(f.Y,{open:x.open,onOpenChange:x.onOpenChange,children:(0,r.jsx)(g.Rs,{ghost:!0,toolBarRender:function(){return[(0,F.createElement)(B.Z,d()(d()({},V),{},{key:0}),(0,r.jsx)(T.ZP,{icon:(0,r.jsx)(E.Z,{}),type:"primary",children:"Upload"})),(0,r.jsx)(C.Z,{trigger:"click",content:U,title:"Upload Via URL",children:(0,r.jsx)(T.ZP,{icon:(0,r.jsx)(E.Z,{}),onClick:b,children:"Via URL"})},2)]},headerTitle:I.formatMessage({id:"menu.fileManager"}),request:function(m){return(0,v.V6)(d()({},m),[".png",".jpg",".jpeg","image/jpeg"])},search:{layout:"vertical"},pagination:{pageSize:6},grid:{column:3},onItem:function(m){return{onClick:function(){x.onSelect&&x.onSelect(m)}}},metas:{content:{dataIndex:"name",title:"Name",render:function(m,Z){return(0,r.jsx)(M.Z,{src:(0,y.Er)(Z.url),height:100,preview:!1})}}},actionRef:K})})},A=N,s=e(47389),p=function(x){var I=R.A.useFormInstance(),K=(0,F.useState)(!1),V=u()(K,2),b=V[0],U=V[1],L=(0,F.useState)(),m=u()(L,2),Z=m[0],W=m[1],z=function(S){I==null||I.setFieldValue("backgroundImage",S.url),W(S.url),U(!1)};return(0,F.useEffect)(function(){new Promise(function(Y){setTimeout(function(){W(I==null?void 0:I.getFieldValue(x.name||"")),Y(!0)},500)})},[]),(0,r.jsxs)(R.A.Item,{name:x.name,label:x.label,children:[(0,r.jsx)(M.Z,{src:Z,height:150,width:150}),(0,r.jsx)(T.ZP,{icon:(0,r.jsx)(s.Z,{}),onClick:function(){return U(!0)}}),(0,r.jsx)(A,{open:b,onOpenChange:U,onSelect:z})]})},a=p,o=e(85335),j=e(66352),$=e(63386),Q=e(28199),X=e(71230),H=e(15746),w=function(){var x=(0,O.useParams)(),I=x.id,K=(0,F.useRef)();(0,F.useEffect)(function(){(0,j.Tu)(I).then(function(b){var U;(U=K.current)===null||U===void 0||U.setFields([{name:"backgroundImage",value:b.backgroundImage}])})},[I]);var V=function(){var b=_()(n()().mark(function U(L){var m;return n()().wrap(function(W){for(;;)switch(W.prev=W.next){case 0:return W.next=2,(0,j.iH)(I,L);case 2:m=W.sent,m.succeeded&&P.ZP.success("Saved!");case 4:case"end":return W.stop()}},U)}));return function(L){return b.apply(this,arguments)}}();return(0,r.jsx)($._z,{children:(0,r.jsxs)(X.Z,{gutter:16,children:[(0,r.jsx)(H.Z,{span:16,children:(0,r.jsx)(Q.Z,{children:(0,r.jsx)(R.A,{onFinish:V,formRef:K,children:(0,r.jsx)(a,{name:"backgroundImage",label:"Background image"})})})}),(0,r.jsx)(H.Z,{span:8,children:(0,r.jsx)(o.Z,{})})]})})},k=w},20385:function(G,h,e){e.d(h,{Ah:function(){return y},Cq:function(){return f},V6:function(){return d},kE:function(){return B},p6:function(){return N},tg:function(){return C},yk:function(){return F},z3:function(){return O}});var l=e(15009),n=e.n(l),D=e(97857),_=e.n(D),c=e(99289),u=e.n(c),t=e(35312);function d(s,p,a){return v.apply(this,arguments)}function v(){return v=u()(n()().mark(function s(p,a,o){return n()().wrap(function($){for(;;)switch($.prev=$.next){case 0:return $.abrupt("return",(0,t.request)("file/list",_()({method:"GET",params:_()({type:Object.keys(a!=null?a:[]).length>0?a==null?void 0:a.join(","):""},p)},o||{})));case 1:case"end":return $.stop()}},s)})),v.apply(this,arguments)}function y(s){return E.apply(this,arguments)}function E(){return E=u()(n()().mark(function s(p){return n()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",(0,t.request)("file/delete-file-content/".concat(p),{method:"POST"}));case 1:case"end":return o.stop()}},s)})),E.apply(this,arguments)}function R(s){return i.apply(this,arguments)}function i(){return i=_asyncToGenerator(_regeneratorRuntime().mark(function s(p){return _regeneratorRuntime().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",request("file/delete-file-item",{method:"POST",data:p}));case 1:case"end":return o.stop()}},s)})),i.apply(this,arguments)}function f(s){return g.apply(this,arguments)}function g(){return g=u()(n()().mark(function s(p){return n()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",(0,t.request)("file/".concat(p)));case 1:case"end":return o.stop()}},s)})),g.apply(this,arguments)}function O(s,p){return P.apply(this,arguments)}function P(){return P=u()(n()().mark(function s(p,a){return n()().wrap(function(j){for(;;)switch(j.prev=j.next){case 0:return j.abrupt("return",(0,t.request)("file/file-items/".concat(a.id)));case 1:case"end":return j.stop()}},s)})),P.apply(this,arguments)}function B(s){return T.apply(this,arguments)}function T(){return T=u()(n()().mark(function s(p){var a;return n()().wrap(function(j){for(;;)switch(j.prev=j.next){case 0:return a=new FormData,a.append("file",p),j.abrupt("return",(0,t.request)("file/upload",{method:"POST",data:a}));case 3:case"end":return j.stop()}},s)})),T.apply(this,arguments)}function C(s){return M.apply(this,arguments)}function M(){return M=u()(n()().mark(function s(p){return n()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",(0,t.request)("file/upload-from-url",{method:"POST",data:{url:p}}));case 1:case"end":return o.stop()}},s)})),M.apply(this,arguments)}function F(){return r.apply(this,arguments)}function r(){return r=u()(n()().mark(function s(){return n()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,t.request)("file/count"));case 1:case"end":return a.stop()}},s)})),r.apply(this,arguments)}function N(){return A.apply(this,arguments)}function A(){return A=u()(n()().mark(function s(){return n()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,t.request)("file/total-size"));case 1:case"end":return a.stop()}},s)})),A.apply(this,arguments)}},5251:function(G,h,e){e.d(h,{Er:function(){return _},p6:function(){return c}});var l=e(27484),n=e.n(l);function D(t){return t.trim()}function _(t){return new URL(t||"",localStorage.getItem("wf_URL")||"").href}function c(t){return t?n()(t).format("DD/MM/YYYY hh:mm:ss"):"-"}var u=function(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:100;return new Promise(function(v){setTimeout(function(){v(!0)},d)})}}}]);
