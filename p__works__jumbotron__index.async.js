"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[6497],{88484:function(F,h,e){e.d(h,{Z:function(){return a}});var _=e(1413),r=e(62435),O={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M400 317.7h73.9V656c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V317.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 163a8 8 0 00-12.6 0l-112 141.7c-4.1 5.3-.4 13 6.3 13zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z"}}]},name:"upload",theme:"outlined"},E=O,D=e(84089),l=function(c,C){return r.createElement(D.Z,(0,_.Z)((0,_.Z)({},c),{},{ref:C,icon:E}))};l.displayName="UploadOutlined";var a=r.forwardRef(l)},63434:function(F,h,e){var _=e(1413),r=e(91),O=e(86074),E=e(22270),D=e(32808),l=e(62435),a=e(90789),M=e(15790),c=["options","fieldProps","proFieldProps","valueEnum"],C=l.forwardRef(function(p,v){var I=p.options,P=p.fieldProps,W=p.proFieldProps,A=p.valueEnum,j=(0,r.Z)(p,c);return(0,O.jsx)(M.Z,(0,_.Z)({ref:v,valueType:"checkbox",valueEnum:(0,E.h)(A,void 0),fieldProps:(0,_.Z)({options:I},P),lightProps:(0,_.Z)({labelFormatter:function(){return(0,O.jsx)(M.Z,(0,_.Z)({ref:v,valueType:"checkbox",mode:"read",valueEnum:(0,E.h)(A,void 0),filedConfig:{customLightMode:!0},fieldProps:(0,_.Z)({options:I},P),proFieldProps:W},j))}},j.lightProps),proFieldProps:W},j))}),U=l.forwardRef(function(p,v){var I=p.fieldProps,P=p.children;return(0,O.jsx)(D.Z,(0,_.Z)((0,_.Z)({ref:v},I),{},{children:P}))}),d=(0,a.G)(U,{valuePropName:"checked"}),t=d;t.Group=C,h.Z=t},5966:function(F,h,e){var _=e(1413),r=e(91),O=e(86074),E=e(15790),D=["fieldProps","proFieldProps"],l=["fieldProps","proFieldProps"],a="text",M=function(d){var t=d.fieldProps,p=d.proFieldProps,v=(0,r.Z)(d,D);return(0,O.jsx)(E.Z,(0,_.Z)({valueType:a,fieldProps:t,filedConfig:{valueType:a},proFieldProps:p},v))},c=function(d){var t=d.fieldProps,p=d.proFieldProps,v=(0,r.Z)(d,l);return(0,O.jsx)(E.Z,(0,_.Z)({valueType:"password",fieldProps:t,proFieldProps:p,filedConfig:{valueType:a}},v))},C=M;C.Password=c,C.displayName="ProFormComponent",h.Z=C},85335:function(F,h,e){var _=e(15009),r=e.n(_),O=e(99289),E=e.n(O),D=e(66352),l=e(30029),a=e(97269),M=e(5966),c=e(63434),C=e(90905),U=e(27790),d=e(62435),t=e(86074),p=function(){var I=(0,C.useParams)(),P=I.id,W=(0,d.useRef)();(0,d.useEffect)(function(){(0,D.Mk)(P).then(function(j){var u;(u=W.current)===null||u===void 0||u.setFields([{name:"name",value:j.name},{name:"active",value:j.active}])})},[P]);var A=function(){var j=E()(r()().mark(function u(s){var i;return r()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,D.Qb)(s);case 2:i=n.sent,i.succeeded?U.ZP.success("Saved!"):U.ZP.error(i.errors[0].description);case 4:case"end":return n.stop()}},u)}));return function(s){return j.apply(this,arguments)}}();return(0,t.jsx)(l.Z,{title:"Info",children:(0,t.jsxs)(a.A,{formRef:W,onFinish:A,children:[(0,t.jsx)(M.Z,{hidden:!0,name:"id",initialValue:P}),(0,t.jsx)(M.Z,{name:"name",label:"Name"}),(0,t.jsx)(c.Z,{name:"active",label:"Active"})]})})};h.Z=p},99270:function(F,h,e){var _=e(97857),r=e.n(_),O=e(15009),E=e.n(O),D=e(99289),l=e.n(D),a=e(20385),M=e(5251),c=e(88484),C=e(97269),U=e(5966),d=e(99351),t=e(22538),p=e(90905),v=e(27790),I=e(31365),P=e(71577),W=e(55241),A=e(78613),j=e(62435),u=e(86074),s=function(o){var n=(0,p.useIntl)(),g=(0,j.useRef)(),L={name:"file",action:a.kE,accept:"image/png, image/jpeg",onChange:function(m){if(m.file.status!=="uploading"&&console.log(m.file,m.fileList),m.file.status==="done"){var f;v.ZP.success("".concat(m.file.name," file uploaded successfully")),(f=g.current)===null||f===void 0||f.reload()}else m.file.status==="error"&&v.ZP.error("".concat(m.file.name," file upload failed."))}},T=function(){var B=l()(E()().mark(function m(f){var x,S;return E()().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:return R.next=2,(0,a.tg)(f.url);case 2:x=R.sent,x.succeeded&&(v.ZP.success("Uploaded!"),(S=g.current)===null||S===void 0||S.reload());case 4:case"end":return R.stop()}},m)}));return function(f){return B.apply(this,arguments)}}(),K=(0,u.jsx)(C.A,{onFinish:T,children:(0,u.jsx)(U.Z,{name:"url",rules:[{required:!0}],placeholder:"URL"})});return(0,u.jsx)(d.Y,{open:o.open,onOpenChange:o.onOpenChange,children:(0,u.jsx)(t.Rs,{ghost:!0,toolBarRender:function(){return[(0,j.createElement)(I.Z,r()(r()({},L),{},{key:0}),(0,u.jsx)(P.Z,{icon:(0,u.jsx)(c.Z,{}),type:"primary",children:"Upload"})),(0,u.jsx)(W.Z,{trigger:"click",content:K,title:"Upload Via URL",children:(0,u.jsx)(P.Z,{icon:(0,u.jsx)(c.Z,{}),onClick:T,children:"Via URL"})},2)]},headerTitle:n.formatMessage({id:"menu.fileManager"}),request:function(m){return(0,a.V6)(r()({},m),[".png",".jpg",".jpeg","image/jpeg"])},search:{layout:"vertical"},pagination:{pageSize:6},grid:{column:3},onItem:function(m){return{onClick:function(){!o.onSelect||o.onSelect(m)}}},metas:{content:{dataIndex:"name",title:"Name",render:function(m,f){return(0,u.jsx)(A.Z,{src:(0,M.Er)(f.url),height:100,preview:!1})}}},actionRef:g})})};h.Z=s},57892:function(F,h,e){e.r(h),e.d(h,{default:function(){return n}});var _=e(15009),r=e.n(_),O=e(99289),E=e.n(O),D=e(5574),l=e.n(D),a=e(99270),M=e(86548),c=e(97269),C=e(78613),U=e(71577),d=e(62435),t=e(86074),p=function(L){var T=c.A.useFormInstance(),K=(0,d.useState)(!1),B=l()(K,2),m=B[0],f=B[1],x=(0,d.useState)(),S=l()(x,2),Z=S[0],R=S[1],G=function(b){T==null||T.setFieldValue("backgroundImage",b.url),R(b.url),f(!1)};return(0,d.useEffect)(function(){new Promise(function(y){setTimeout(function(){R(T==null?void 0:T.getFieldValue(L.name||"")),y(!0)},500)})},[]),(0,t.jsxs)(c.A.Item,{name:L.name,label:L.label,children:[(0,t.jsx)(C.Z,{src:Z,height:150,width:150}),(0,t.jsx)(U.Z,{icon:(0,t.jsx)(M.Z,{}),onClick:function(){return f(!0)}}),(0,t.jsx)(a.Z,{open:m,onOpenChange:f,onSelect:G})]})},v=p,I=e(85335),P=e(66352),W=e(62884),A=e(30029),j=e(90905),u=e(27790),s=e(71230),i=e(15746),o=function(){var L=(0,j.useParams)(),T=L.id,K=(0,d.useRef)();(0,d.useEffect)(function(){(0,P.jE)(T).then(function(m){var f;(f=K.current)===null||f===void 0||f.setFields([{name:"backgroundImage",value:m.backgroundImage}])})},[T]);var B=function(){var m=E()(r()().mark(function f(x){var S;return r()().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:return R.next=2,(0,P.iH)(T,x);case 2:S=R.sent,S.succeeded&&u.ZP.success("Saved!");case 4:case"end":return R.stop()}},f)}));return function(x){return m.apply(this,arguments)}}();return(0,t.jsx)(W._z,{children:(0,t.jsxs)(s.Z,{gutter:16,children:[(0,t.jsx)(i.Z,{span:16,children:(0,t.jsx)(A.Z,{children:(0,t.jsx)(c.A,{onFinish:B,formRef:K,children:(0,t.jsx)(v,{name:"backgroundImage",label:"Background image"})})})}),(0,t.jsx)(i.Z,{span:8,children:(0,t.jsx)(I.Z,{})})]})})},n=o},20385:function(F,h,e){e.d(h,{Ah:function(){return C},Cq:function(){return p},V6:function(){return M},kE:function(){return W},tg:function(){return j},z3:function(){return I}});var _=e(15009),r=e.n(_),O=e(97857),E=e.n(O),D=e(99289),l=e.n(D),a=e(90905);function M(s,i,o){return c.apply(this,arguments)}function c(){return c=l()(r()().mark(function s(i,o,n){return r()().wrap(function(L){for(;;)switch(L.prev=L.next){case 0:return L.abrupt("return",(0,a.request)("fileExplorer/list",E()({method:"GET",params:E()({type:Object.keys(o!=null?o:[]).length>0?o==null?void 0:o.join(","):""},i)},n||{})));case 1:case"end":return L.stop()}},s)})),c.apply(this,arguments)}function C(s){return U.apply(this,arguments)}function U(){return U=l()(r()().mark(function s(i){return r()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,a.request)("fileExplorer/delete-file-content/".concat(i),{method:"POST"}));case 1:case"end":return n.stop()}},s)})),U.apply(this,arguments)}function d(s){return t.apply(this,arguments)}function t(){return t=_asyncToGenerator(_regeneratorRuntime().mark(function s(i){return _regeneratorRuntime().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",request("fileExplorer/delete-file-item",{method:"POST",data:i}));case 1:case"end":return n.stop()}},s)})),t.apply(this,arguments)}function p(s){return v.apply(this,arguments)}function v(){return v=l()(r()().mark(function s(i){return r()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,a.request)("fileExplorer/".concat(i)));case 1:case"end":return n.stop()}},s)})),v.apply(this,arguments)}function I(s,i){return P.apply(this,arguments)}function P(){return P=l()(r()().mark(function s(i,o){return r()().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return g.abrupt("return",(0,a.request)("fileExplorer/file-items/".concat(o.id)));case 1:case"end":return g.stop()}},s)})),P.apply(this,arguments)}function W(s){return A.apply(this,arguments)}function A(){return A=l()(r()().mark(function s(i){var o;return r()().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return o=new FormData,o.append("file",i),g.abrupt("return",(0,a.request)("fileExplorer/upload",{method:"POST",data:o}));case 3:case"end":return g.stop()}},s)})),A.apply(this,arguments)}function j(s){return u.apply(this,arguments)}function u(){return u=l()(r()().mark(function s(i){return r()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,a.request)("fileexplorer/upload-from-url",{method:"POST",data:{url:i}}));case 1:case"end":return n.stop()}},s)})),u.apply(this,arguments)}},5251:function(F,h,e){e.d(h,{Er:function(){return E},p6:function(){return D}});var _=e(27484),r=e.n(_);function O(a){return a.trim()}function E(a){return new URL(a||"",localStorage.getItem("wf_URL")||"").href}function D(a){return a?r()(a).format("DD/MM/YYYY hh:mm:ss"):"-"}var l=function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:100;return new Promise(function(c){setTimeout(function(){c(!0)},M)})}}}]);
