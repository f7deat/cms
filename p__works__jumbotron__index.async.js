"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[6497],{47389:function(K,D,e){var l=e(1413),r=e(62435),M=e(27363),p=e(91146),c=function(a,f){return r.createElement(p.Z,(0,l.Z)((0,l.Z)({},a),{},{ref:f,icon:M.Z}))};c.displayName="EditOutlined",D.Z=r.forwardRef(c)},88484:function(K,D,e){e.d(D,{Z:function(){return a}});var l=e(1413),r=e(62435),M={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M400 317.7h73.9V656c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V317.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 163a8 8 0 00-12.6 0l-112 141.7c-4.1 5.3-.4 13 6.3 13zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z"}}]},name:"upload",theme:"outlined"},p=M,c=e(91146),i=function(E,I){return r.createElement(c.Z,(0,l.Z)((0,l.Z)({},E),{},{ref:I,icon:p}))};i.displayName="UploadOutlined";var a=r.forwardRef(i)},63434:function(K,D,e){var l=e(1413),r=e(91),M=e(22270),p=e(84567),c=e(62435),i=e(90789),a=e(96987),f=e(86074),E=["options","fieldProps","proFieldProps","valueEnum"],I=c.forwardRef(function(v,h){var R=v.options,O=v.fieldProps,L=v.proFieldProps,A=v.valueEnum,T=(0,r.Z)(v,E);return(0,f.jsx)(a.Z,(0,l.Z)({ref:h,valueType:"checkbox",valueEnum:(0,M.h)(A,void 0),fieldProps:(0,l.Z)({options:R},O),lightProps:(0,l.Z)({labelFormatter:function(){return(0,f.jsx)(a.Z,(0,l.Z)({ref:h,valueType:"checkbox",mode:"read",valueEnum:(0,M.h)(A,void 0),filedConfig:{customLightMode:!0},fieldProps:(0,l.Z)({options:R},O),proFieldProps:L},T))}},T.lightProps),proFieldProps:L},T))}),g=c.forwardRef(function(v,h){var R=v.fieldProps,O=v.children;return(0,f.jsx)(p.Z,(0,l.Z)((0,l.Z)({ref:h},R),{},{children:O}))}),j=(0,i.G)(g,{valuePropName:"checked"}),t=j;t.Group=I,D.Z=t},5966:function(K,D,e){var l=e(1413),r=e(91),M=e(62435),p=e(96987),c=e(86074),i=["fieldProps","proFieldProps"],a=["fieldProps","proFieldProps"],f="text",E=function(t){var v=t.fieldProps,h=t.proFieldProps,R=(0,r.Z)(t,i);return(0,c.jsx)(p.Z,(0,l.Z)({valueType:f,fieldProps:v,filedConfig:{valueType:f},proFieldProps:h},R))},I=function(t){var v=t.fieldProps,h=t.proFieldProps,R=(0,r.Z)(t,a);return(0,c.jsx)(p.Z,(0,l.Z)({valueType:"password",fieldProps:v,proFieldProps:h,filedConfig:{valueType:f}},R))},g=E;g.Password=I,g.displayName="ProFormComponent",D.Z=g},85335:function(K,D,e){var l=e(15009),r=e.n(l),M=e(99289),p=e.n(M),c=e(66352),i=e(28199),a=e(34994),f=e(5966),E=e(63434),I=e(35312),g=e(58301),j=e(62435),t=e(86074),v=function(){var R=(0,I.useParams)(),O=R.id,L=(0,j.useRef)();(0,j.useEffect)(function(){(0,c.Mk)(O).then(function(T){var _;(_=L.current)===null||_===void 0||_.setFields([{name:"name",value:T.name},{name:"active",value:T.active}])})},[O]);var A=function(){var T=p()(r()().mark(function _(Z){var W;return r()().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:return U.next=2,(0,c.Qb)(Z);case 2:W=U.sent,W.succeeded?g.ZP.success("Saved!"):g.ZP.error(W.errors[0].description);case 4:case"end":return U.stop()}},_)}));return function(Z){return T.apply(this,arguments)}}();return(0,t.jsx)(i.Z,{title:"Info",children:(0,t.jsxs)(a.A,{formRef:L,onFinish:A,children:[(0,t.jsx)(f.Z,{hidden:!0,name:"id",initialValue:O}),(0,t.jsx)(f.Z,{name:"name",label:"Name"}),(0,t.jsx)(E.Z,{name:"active",label:"Active"})]})})};D.Z=v},99270:function(K,D,e){var l=e(97857),r=e.n(l),M=e(15009),p=e.n(M),c=e(99289),i=e.n(c),a=e(20385),f=e(5251),E=e(88484),I=e(34994),g=e(5966),j=e(37476),t=e(16309),v=e(35312),h=e(58301),R=e(65419),O=e(71577),L=e(55241),A=e(32545),T=e(62435),_=e(86074),Z=function(B){var U=(0,v.useIntl)(),s=(0,T.useRef)(),d={name:"file",action:a.kE,accept:"image/png, image/jpeg",onChange:function(u){if(u.file.status!=="uploading"&&console.log(u.file,u.fileList),u.file.status==="done"){var P;h.ZP.success("".concat(u.file.name," file uploaded successfully")),(P=s.current)===null||P===void 0||P.reload()}else u.file.status==="error"&&h.ZP.error("".concat(u.file.name," file upload failed."))}},n=function(){var m=i()(p()().mark(function u(P){var y,F;return p()().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return C.next=2,(0,a.tg)(P.url);case 2:y=C.sent,y.succeeded&&(h.ZP.success("Uploaded!"),(F=s.current)===null||F===void 0||F.reload());case 4:case"end":return C.stop()}},u)}));return function(P){return m.apply(this,arguments)}}(),o=(0,_.jsx)(I.A,{onFinish:n,children:(0,_.jsx)(g.Z,{name:"url",rules:[{required:!0}],placeholder:"URL"})});return(0,_.jsx)(j.Y,{open:B.open,onOpenChange:B.onOpenChange,children:(0,_.jsx)(t.Rs,{ghost:!0,toolBarRender:function(){return[(0,T.createElement)(R.Z,r()(r()({},d),{},{key:0}),(0,_.jsx)(O.ZP,{icon:(0,_.jsx)(E.Z,{}),type:"primary",children:"Upload"})),(0,_.jsx)(L.Z,{trigger:"click",content:o,title:"Upload Via URL",children:(0,_.jsx)(O.ZP,{icon:(0,_.jsx)(E.Z,{}),onClick:n,children:"Via URL"})},2)]},headerTitle:U.formatMessage({id:"menu.fileManager"}),request:function(u){return(0,a.V6)(r()({},u),[".png",".jpg",".jpeg","image/jpeg"])},search:{layout:"vertical"},pagination:{pageSize:6},grid:{column:3},onItem:function(u){return{onClick:function(){B.onSelect&&B.onSelect(u)}}},metas:{content:{dataIndex:"name",title:"Name",render:function(u,P){return(0,_.jsx)(A.Z,{src:(0,f.Er)(P.url),height:100,preview:!1})}}},actionRef:s})})};D.Z=Z},57892:function(K,D,e){e.r(D),e.d(D,{default:function(){return U}});var l=e(15009),r=e.n(l),M=e(99289),p=e.n(M),c=e(5574),i=e.n(c),a=e(99270),f=e(47389),E=e(34994),I=e(32545),g=e(71577),j=e(62435),t=e(86074),v=function(d){var n=E.A.useFormInstance(),o=(0,j.useState)(!1),m=i()(o,2),u=m[0],P=m[1],y=(0,j.useState)(),F=i()(y,2),b=F[0],C=F[1],G=function(S){n==null||n.setFieldValue("backgroundImage",S.url),C(S.url),P(!1)};return(0,j.useEffect)(function(){new Promise(function(x){setTimeout(function(){C(n==null?void 0:n.getFieldValue(d.name||"")),x(!0)},500)})},[]),(0,t.jsxs)(E.A.Item,{name:d.name,label:d.label,children:[(0,t.jsx)(I.Z,{src:b,height:150,width:150}),(0,t.jsx)(g.ZP,{icon:(0,t.jsx)(f.Z,{}),onClick:function(){return P(!0)}}),(0,t.jsx)(a.Z,{open:u,onOpenChange:P,onSelect:G})]})},h=v,R=e(85335),O=e(66352),L=e(63386),A=e(28199),T=e(35312),_=e(58301),Z=e(71230),W=e(15746),B=function(){var d=(0,T.useParams)(),n=d.id,o=(0,j.useRef)();(0,j.useEffect)(function(){(0,O.Tu)(n).then(function(u){var P;(P=o.current)===null||P===void 0||P.setFields([{name:"backgroundImage",value:u.backgroundImage}])})},[n]);var m=function(){var u=p()(r()().mark(function P(y){var F;return r()().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return C.next=2,(0,O.iH)(n,y);case 2:F=C.sent,F.succeeded&&_.ZP.success("Saved!");case 4:case"end":return C.stop()}},P)}));return function(y){return u.apply(this,arguments)}}();return(0,t.jsx)(L._z,{children:(0,t.jsxs)(Z.Z,{gutter:16,children:[(0,t.jsx)(W.Z,{span:16,children:(0,t.jsx)(A.Z,{children:(0,t.jsx)(E.A,{onFinish:m,formRef:o,children:(0,t.jsx)(h,{name:"backgroundImage",label:"Background image"})})})}),(0,t.jsx)(W.Z,{span:8,children:(0,t.jsx)(R.Z,{})})]})})},U=B},20385:function(K,D,e){e.d(D,{Ah:function(){return I},Cq:function(){return v},V6:function(){return f},kE:function(){return L},p6:function(){return B},tg:function(){return T},yk:function(){return Z},z3:function(){return R}});var l=e(15009),r=e.n(l),M=e(97857),p=e.n(M),c=e(99289),i=e.n(c),a=e(35312);function f(s,d,n){return E.apply(this,arguments)}function E(){return E=i()(r()().mark(function s(d,n,o){return r()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.abrupt("return",(0,a.request)("file/list",p()({method:"GET",params:p()({type:Object.keys(n!=null?n:[]).length>0?n==null?void 0:n.join(","):""},d)},o||{})));case 1:case"end":return u.stop()}},s)})),E.apply(this,arguments)}function I(s){return g.apply(this,arguments)}function g(){return g=i()(r()().mark(function s(d){return r()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",(0,a.request)("file/delete-file-content/".concat(d),{method:"POST"}));case 1:case"end":return o.stop()}},s)})),g.apply(this,arguments)}function j(s){return t.apply(this,arguments)}function t(){return t=_asyncToGenerator(_regeneratorRuntime().mark(function s(d){return _regeneratorRuntime().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",request("file/delete-file-item",{method:"POST",data:d}));case 1:case"end":return o.stop()}},s)})),t.apply(this,arguments)}function v(s){return h.apply(this,arguments)}function h(){return h=i()(r()().mark(function s(d){return r()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",(0,a.request)("file/".concat(d)));case 1:case"end":return o.stop()}},s)})),h.apply(this,arguments)}function R(s,d){return O.apply(this,arguments)}function O(){return O=i()(r()().mark(function s(d,n){return r()().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return m.abrupt("return",(0,a.request)("file/file-items/".concat(n.id)));case 1:case"end":return m.stop()}},s)})),O.apply(this,arguments)}function L(s){return A.apply(this,arguments)}function A(){return A=i()(r()().mark(function s(d){var n;return r()().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return n=new FormData,n.append("file",d),m.abrupt("return",(0,a.request)("file/upload",{method:"POST",data:n}));case 3:case"end":return m.stop()}},s)})),A.apply(this,arguments)}function T(s){return _.apply(this,arguments)}function _(){return _=i()(r()().mark(function s(d){return r()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",(0,a.request)("file/upload-from-url",{method:"POST",data:{url:d}}));case 1:case"end":return o.stop()}},s)})),_.apply(this,arguments)}function Z(){return W.apply(this,arguments)}function W(){return W=i()(r()().mark(function s(){return r()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,a.request)("file/count"));case 1:case"end":return n.stop()}},s)})),W.apply(this,arguments)}function B(){return U.apply(this,arguments)}function U(){return U=i()(r()().mark(function s(){return r()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,a.request)("file/total-size"));case 1:case"end":return n.stop()}},s)})),U.apply(this,arguments)}},5251:function(K,D,e){e.d(D,{Er:function(){return p},p6:function(){return c}});var l=e(27484),r=e.n(l);function M(a){return a.trim()}function p(a){return new URL(a||"",localStorage.getItem("wf_URL")||"").href}function c(a){return a?r()(a).format("DD/MM/YYYY hh:mm:ss"):"-"}var i=function(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:100;return new Promise(function(E){setTimeout(function(){E(!0)},f)})}}}]);
