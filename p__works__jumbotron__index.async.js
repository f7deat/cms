"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[6497],{94155:function(S,O,e){e.d(O,{Z:function(){return r}});var l=e(1413),n=e(62435),E={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M689 165.1L308.2 493.5c-10.9 9.4-10.9 27.5 0 37L689 858.9c14.2 12.2 35 1.2 35-18.5V183.6c0-19.7-20.8-30.7-35-18.5z"}}]},name:"caret-left",theme:"outlined"},c=E,h=e(84089),_=function(d,M){return n.createElement(h.Z,(0,l.Z)((0,l.Z)({},d),{},{ref:M,icon:c}))};_.displayName="CaretLeftOutlined";var r=n.forwardRef(_)},88484:function(S,O,e){e.d(O,{Z:function(){return r}});var l=e(1413),n=e(62435),E={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M400 317.7h73.9V656c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V317.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 163a8 8 0 00-12.6 0l-112 141.7c-4.1 5.3-.4 13 6.3 13zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z"}}]},name:"upload",theme:"outlined"},c=E,h=e(84089),_=function(d,M){return n.createElement(h.Z,(0,l.Z)((0,l.Z)({},d),{},{ref:M,icon:c}))};_.displayName="UploadOutlined";var r=n.forwardRef(_)},63434:function(S,O,e){var l=e(1413),n=e(91),E=e(86074),c=e(22270),h=e(32808),_=e(62435),r=e(90789),C=e(15790),d=["options","fieldProps","proFieldProps","valueEnum"],M=_.forwardRef(function(f,o){var A=f.options,R=f.fieldProps,B=f.proFieldProps,U=f.valueEnum,I=(0,n.Z)(f,d);return(0,E.jsx)(C.Z,(0,l.Z)({ref:o,valueType:"checkbox",valueEnum:(0,c.h)(U,void 0),fieldProps:(0,l.Z)({options:A},R),lightProps:(0,l.Z)({labelFormatter:function(){return(0,E.jsx)(C.Z,(0,l.Z)({ref:o,valueType:"checkbox",mode:"read",valueEnum:(0,c.h)(U,void 0),filedConfig:{customLightMode:!0},fieldProps:(0,l.Z)({options:A},R),proFieldProps:B},I))}},I.lightProps),proFieldProps:B},I))}),j=_.forwardRef(function(f,o){var A=f.fieldProps,R=f.children;return(0,E.jsx)(h.Z,(0,l.Z)((0,l.Z)({ref:o},A),{},{children:R}))}),m=(0,r.G)(j,{valuePropName:"checked"}),s=m;s.Group=M,O.Z=s},5966:function(S,O,e){var l=e(1413),n=e(91),E=e(86074),c=e(15790),h=["fieldProps","proFieldProps"],_=["fieldProps","proFieldProps"],r="text",C=function(m){var s=m.fieldProps,f=m.proFieldProps,o=(0,n.Z)(m,h);return(0,E.jsx)(c.Z,(0,l.Z)({valueType:r,fieldProps:s,filedConfig:{valueType:r},proFieldProps:f},o))},d=function(m){var s=m.fieldProps,f=m.proFieldProps,o=(0,n.Z)(m,_);return(0,E.jsx)(c.Z,(0,l.Z)({valueType:"password",fieldProps:s,proFieldProps:f,filedConfig:{valueType:r}},o))},M=C;M.Password=d,M.displayName="ProFormComponent",O.Z=M},85335:function(S,O,e){var l=e(15009),n=e.n(l),E=e(99289),c=e.n(E),h=e(66352),_=e(94155),r=e(30029),C=e(97269),d=e(5966),M=e(63434),j=e(90905),m=e(27790),s=e(71577),f=e(62435),o=e(86074),A=function(){var B=(0,j.useParams)(),U=B.id,I=(0,f.useRef)();(0,f.useEffect)(function(){(0,h.Mk)(U).then(function(a){var i;(i=I.current)===null||i===void 0||i.setFields([{name:"name",value:a.name},{name:"active",value:a.active}])})},[U]);var P=function(){var a=c()(n()().mark(function i(u){var t;return n()().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:return D.next=2,(0,h.Qb)(u);case 2:t=D.sent,t.succeeded?m.ZP.success("Saved!"):m.ZP.error(t.errors[0].description);case 4:case"end":return D.stop()}},i)}));return function(u){return a.apply(this,arguments)}}();return(0,o.jsx)(r.Z,{title:"Info",extra:(0,o.jsxs)(s.Z,{onClick:function(){return j.history.back()},children:[(0,o.jsx)(_.Z,{}),(0,o.jsx)(j.FormattedMessage,{id:"general.back"})]}),children:(0,o.jsxs)(C.A,{formRef:I,onFinish:P,children:[(0,o.jsx)(d.Z,{hidden:!0,name:"id",initialValue:U}),(0,o.jsx)(d.Z,{name:"name",label:"Name"}),(0,o.jsx)(M.Z,{name:"active",label:"Active"})]})})};O.Z=A},99270:function(S,O,e){var l=e(97857),n=e.n(l),E=e(15009),c=e.n(E),h=e(99289),_=e.n(h),r=e(20385),C=e(5251),d=e(88484),M=e(97269),j=e(5966),m=e(99351),s=e(22538),f=e(90905),o=e(27790),A=e(31365),R=e(71577),B=e(55241),U=e(78613),I=e(62435),P=e(86074),a=function(u){var t=(0,f.useIntl)(),g=(0,I.useRef)(),D={name:"file",action:r.kE,accept:"image/png, image/jpeg",onChange:function(p){if(p.file.status!=="uploading"&&console.log(p.file,p.fileList),p.file.status==="done"){var v;o.ZP.success("".concat(p.file.name," file uploaded successfully")),(v=g.current)===null||v===void 0||v.reload()}else p.file.status==="error"&&o.ZP.error("".concat(p.file.name," file upload failed."))}},L=function(){var W=_()(c()().mark(function p(v){var F,x;return c()().wrap(function(T){for(;;)switch(T.prev=T.next){case 0:return T.next=2,(0,r.tg)(v.url);case 2:F=T.sent,F.succeeded&&(o.ZP.success("Uploaded!"),(x=g.current)===null||x===void 0||x.reload());case 4:case"end":return T.stop()}},p)}));return function(v){return W.apply(this,arguments)}}(),Z=(0,P.jsx)(M.A,{onFinish:L,children:(0,P.jsx)(j.Z,{name:"url",rules:[{required:!0}],placeholder:"URL"})});return(0,P.jsx)(m.Y,{open:u.open,onOpenChange:u.onOpenChange,children:(0,P.jsx)(s.Rs,{ghost:!0,toolBarRender:function(){return[(0,I.createElement)(A.Z,n()(n()({},D),{},{key:0}),(0,P.jsx)(R.Z,{icon:(0,P.jsx)(d.Z,{}),type:"primary",children:"Upload"})),(0,P.jsx)(B.Z,{trigger:"click",content:Z,title:"Upload Via URL",children:(0,P.jsx)(R.Z,{icon:(0,P.jsx)(d.Z,{}),onClick:L,children:"Via URL"})},2)]},headerTitle:t.formatMessage({id:"menu.fileManager"}),request:function(p){return(0,r.V6)(n()({},p),[".png",".jpg",".jpeg","image/jpeg"])},search:{layout:"vertical"},pagination:{pageSize:6},grid:{column:3},onItem:function(p){return{onClick:function(){!u.onSelect||u.onSelect(p)}}},metas:{content:{dataIndex:"name",title:"Name",render:function(p,v){return(0,P.jsx)(U.Z,{src:(0,C.Er)(v.url),height:100,preview:!1})}}},actionRef:g})})};O.Z=a},57892:function(S,O,e){e.r(O),e.d(O,{default:function(){return t}});var l=e(15009),n=e.n(l),E=e(99289),c=e.n(E),h=e(5574),_=e.n(h),r=e(99270),C=e(86548),d=e(97269),M=e(78613),j=e(71577),m=e(62435),s=e(86074),f=function(D){var L=d.A.useFormInstance(),Z=(0,m.useState)(!1),W=_()(Z,2),p=W[0],v=W[1],F=(0,m.useState)(),x=_()(F,2),K=x[0],T=x[1],G=function(b){L==null||L.setFieldValue("backgroundImage",b.url),T(b.url),v(!1)};return(0,m.useEffect)(function(){new Promise(function(y){setTimeout(function(){T(L==null?void 0:L.getFieldValue(D.name||"")),y(!0)},500)})},[]),(0,s.jsxs)(d.A.Item,{name:D.name,label:D.label,children:[(0,s.jsx)(M.Z,{src:K,height:150,width:150}),(0,s.jsx)(j.Z,{icon:(0,s.jsx)(C.Z,{}),onClick:function(){return v(!0)}}),(0,s.jsx)(r.Z,{open:p,onOpenChange:v,onSelect:G})]})},o=f,A=e(85335),R=e(66352),B=e(62884),U=e(30029),I=e(90905),P=e(27790),a=e(71230),i=e(15746),u=function(){var D=(0,I.useParams)(),L=D.id,Z=(0,m.useRef)();(0,m.useEffect)(function(){(0,R.jE)(L).then(function(p){var v;(v=Z.current)===null||v===void 0||v.setFields([{name:"backgroundImage",value:p.backgroundImage}])})},[L]);var W=function(){var p=c()(n()().mark(function v(F){var x;return n()().wrap(function(T){for(;;)switch(T.prev=T.next){case 0:return T.next=2,(0,R.iH)(L,F);case 2:x=T.sent,x.succeeded&&P.ZP.success("Saved!");case 4:case"end":return T.stop()}},v)}));return function(F){return p.apply(this,arguments)}}();return(0,s.jsx)(B._z,{children:(0,s.jsxs)(a.Z,{gutter:16,children:[(0,s.jsx)(i.Z,{span:16,children:(0,s.jsx)(U.Z,{children:(0,s.jsx)(d.A,{onFinish:W,formRef:Z,children:(0,s.jsx)(o,{name:"backgroundImage",label:"Background image"})})})}),(0,s.jsx)(i.Z,{span:8,children:(0,s.jsx)(A.Z,{})})]})})},t=u},20385:function(S,O,e){e.d(O,{Ah:function(){return M},Cq:function(){return f},V6:function(){return C},kE:function(){return B},tg:function(){return I},z3:function(){return A}});var l=e(15009),n=e.n(l),E=e(97857),c=e.n(E),h=e(99289),_=e.n(h),r=e(90905);function C(a,i,u){return d.apply(this,arguments)}function d(){return d=_()(n()().mark(function a(i,u,t){return n()().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:return D.abrupt("return",(0,r.request)("fileExplorer/list",c()({method:"GET",params:c()({type:Object.keys(u!=null?u:[]).length>0?u==null?void 0:u.join(","):""},i)},t||{})));case 1:case"end":return D.stop()}},a)})),d.apply(this,arguments)}function M(a){return j.apply(this,arguments)}function j(){return j=_()(n()().mark(function a(i){return n()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,r.request)("fileExplorer/delete-file-content/".concat(i),{method:"POST"}));case 1:case"end":return t.stop()}},a)})),j.apply(this,arguments)}function m(a){return s.apply(this,arguments)}function s(){return s=_asyncToGenerator(_regeneratorRuntime().mark(function a(i){return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",request("fileExplorer/delete-file-item",{method:"POST",data:i}));case 1:case"end":return t.stop()}},a)})),s.apply(this,arguments)}function f(a){return o.apply(this,arguments)}function o(){return o=_()(n()().mark(function a(i){return n()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,r.request)("fileExplorer/".concat(i)));case 1:case"end":return t.stop()}},a)})),o.apply(this,arguments)}function A(a,i){return R.apply(this,arguments)}function R(){return R=_()(n()().mark(function a(i,u){return n()().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return g.abrupt("return",(0,r.request)("fileExplorer/file-items/".concat(u.id)));case 1:case"end":return g.stop()}},a)})),R.apply(this,arguments)}function B(a){return U.apply(this,arguments)}function U(){return U=_()(n()().mark(function a(i){var u;return n()().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return u=new FormData,u.append("file",i),g.abrupt("return",(0,r.request)("fileExplorer/upload",{method:"POST",data:u}));case 3:case"end":return g.stop()}},a)})),U.apply(this,arguments)}function I(a){return P.apply(this,arguments)}function P(){return P=_()(n()().mark(function a(i){return n()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,r.request)("fileexplorer/upload-from-url",{method:"POST",data:{url:i}}));case 1:case"end":return t.stop()}},a)})),P.apply(this,arguments)}},5251:function(S,O,e){e.d(O,{Er:function(){return c},p6:function(){return h}});var l=e(27484),n=e.n(l);function E(r){return r.trim()}function c(r){return new URL(r||"",localStorage.getItem("wf_URL")||"").href}function h(r){return r?n()(r).format("DD/MM/YYYY hh:mm:ss"):"-"}var _=function(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:100;return new Promise(function(d){setTimeout(function(){d(!0)},C)})}}}]);
