"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[4302],{1912:function(I,f,e){e.d(f,{Z:function(){return a}});var u=e(1413),r=e(62435),h={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M868 545.5L536.1 163a31.96 31.96 0 00-48.3 0L156 545.5a7.97 7.97 0 006 13.2h81c4.6 0 9-2 12.1-5.5L474 300.9V864c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V300.9l218.9 252.3c3 3.5 7.4 5.5 12.1 5.5h81c6.8 0 10.5-8 6-13.2z"}}]},name:"arrow-up",theme:"outlined"},d=h,_=e(91146),l=function(n,P){return r.createElement(_.Z,(0,u.Z)((0,u.Z)({},n),{},{ref:P,icon:d}))};l.displayName="ArrowUpOutlined";var a=r.forwardRef(l)},16596:function(I,f,e){e.d(f,{Z:function(){return a}});var u=e(1413),r=e(62435),h={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M518.3 459a8 8 0 00-12.6 0l-112 141.7a7.98 7.98 0 006.3 12.9h73.9V856c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V613.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 459z"}},{tag:"path",attrs:{d:"M811.4 366.7C765.6 245.9 648.9 160 512.2 160S258.8 245.8 213 366.6C127.3 389.1 64 467.2 64 560c0 110.5 89.5 200 199.9 200H304c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8h-40.1c-33.7 0-65.4-13.4-89-37.7-23.5-24.2-36-56.8-34.9-90.6.9-26.4 9.9-51.2 26.2-72.1 16.7-21.3 40.1-36.8 66.1-43.7l37.9-9.9 13.9-36.6c8.6-22.8 20.6-44.1 35.7-63.4a245.6 245.6 0 0152.4-49.9c41.1-28.9 89.5-44.2 140-44.2s98.9 15.3 140 44.2c19.9 14 37.5 30.8 52.4 49.9 15.1 19.3 27.1 40.7 35.7 63.4l13.8 36.5 37.8 10C846.1 454.5 884 503.8 884 560c0 33.1-12.9 64.3-36.3 87.7a123.07 123.07 0 01-87.6 36.3H720c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h40.1C870.5 760 960 670.5 960 560c0-92.7-63.1-170.7-148.6-193.3z"}}]},name:"cloud-upload",theme:"outlined"},d=h,_=e(91146),l=function(n,P){return r.createElement(_.Z,(0,u.Z)((0,u.Z)({},n),{},{ref:P,icon:d}))};l.displayName="CloudUploadOutlined";var a=r.forwardRef(l)},47389:function(I,f,e){var u=e(1413),r=e(62435),h=e(27363),d=e(91146),_=function(a,c){return r.createElement(d.Z,(0,u.Z)((0,u.Z)({},a),{},{ref:c,icon:h.Z}))};_.displayName="EditOutlined",f.Z=r.forwardRef(_)},64082:function(I,f,e){e.d(f,{Z:function(){return a}});var u=e(1413),r=e(62435),h={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M885.2 446.3l-.2-.8-112.2-285.1c-5-16.1-19.9-27.2-36.8-27.2H281.2c-17 0-32.1 11.3-36.9 27.6L139.4 443l-.3.7-.2.8c-1.3 4.9-1.7 9.9-1 14.8-.1 1.6-.2 3.2-.2 4.8V830a60.9 60.9 0 0060.8 60.8h627.2c33.5 0 60.8-27.3 60.9-60.8V464.1c0-1.3 0-2.6-.1-3.7.4-4.9 0-9.6-1.3-14.1zm-295.8-43l-.3 15.7c-.8 44.9-31.8 75.1-77.1 75.1-22.1 0-41.1-7.1-54.8-20.6S436 441.2 435.6 419l-.3-15.7H229.5L309 210h399.2l81.7 193.3H589.4zm-375 76.8h157.3c24.3 57.1 76 90.8 140.4 90.8 33.7 0 65-9.4 90.3-27.2 22.2-15.6 39.5-37.4 50.7-63.6h156.5V814H214.4V480.1z"}}]},name:"inbox",theme:"outlined"},d=h,_=e(91146),l=function(n,P){return r.createElement(_.Z,(0,u.Z)((0,u.Z)({},n),{},{ref:P,icon:d}))};l.displayName="InboxOutlined";var a=r.forwardRef(l)},90672:function(I,f,e){var u=e(1413),r=e(91),h=e(62435),d=e(96987),_=e(86074),l=["fieldProps","proFieldProps"],a=function(n,P){var O=n.fieldProps,x=n.proFieldProps,E=(0,r.Z)(n,l);return(0,_.jsx)(d.Z,(0,u.Z)({ref:P,valueType:"textarea",fieldProps:O,proFieldProps:x},E))};f.Z=h.forwardRef(a)},5966:function(I,f,e){var u=e(1413),r=e(91),h=e(62435),d=e(96987),_=e(86074),l=["fieldProps","proFieldProps"],a=["fieldProps","proFieldProps"],c="text",n=function(E){var R=E.fieldProps,T=E.proFieldProps,U=(0,r.Z)(E,l);return(0,_.jsx)(d.Z,(0,u.Z)({valueType:c,fieldProps:R,filedConfig:{valueType:c},proFieldProps:T},U))},P=function(E){var R=E.fieldProps,T=E.proFieldProps,U=(0,r.Z)(E,a);return(0,_.jsx)(d.Z,(0,u.Z)({valueType:"password",fieldProps:R,proFieldProps:T,filedConfig:{valueType:c}},U))},O=n;O.Password=P,O.displayName="ProFormComponent",f.Z=O},1913:function(I,f,e){var u=e(15009),r=e.n(u),h=e(99289),d=e.n(h),_=e(5574),l=e.n(_),a=e(20385),c=e(64082),n=e(16596),P=e(65419),O=e(58301),x=e(98366),E=e(71577),R=e(96074),T=e(96365),U=e(62435),p=e(86074),W=P.Z.Dragger,F=function(D){var K=(0,U.useState)(""),y=l()(K,2),Z=y[0],L=y[1];function s(t){var i;try{i=new URL(t)}catch(M){return!1}return i.protocol==="https:"}var v=function(){var t=d()(r()().mark(function i(M){var j;return r()().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:if(s(M)){m.next=3;break}return O.ZP.error("Sorry, URL failed to upload."),m.abrupt("return");case 3:return m.next=5,(0,a.tg)(M);case 5:j=m.sent,j.succeeded&&O.ZP.success("Uploaded!");case 7:case"end":return m.stop()}},i)}));return function(M){return t.apply(this,arguments)}}(),o=function(){var t=d()(r()().mark(function i(){return r()().wrap(function(j){for(;;)switch(j.prev=j.next){case 0:if(s(Z)){j.next=3;break}return O.ZP.error("Sorry, URL failed to upload."),j.abrupt("return");case 3:D.onFinish(Z),D.onCancel();case 5:case"end":return j.stop()}},i)}));return function(){return t.apply(this,arguments)}}();return(0,p.jsxs)(x.Z,{open:D.open,onCancel:function(){return D.onCancel()},centered:!0,title:"Upload",onOk:o,children:[(0,p.jsx)("div",{className:"mb-4",children:(0,p.jsxs)(W,{children:[(0,p.jsx)("p",{className:"ant-upload-drag-icon",children:(0,p.jsx)(c.Z,{})}),(0,p.jsx)("p",{className:"ant-upload-text",children:"Click or drag file to this area to upload"}),(0,p.jsx)("p",{className:"ant-upload-hint",children:"Support for a single or bulk upload. Strictly prohibited from uploading company data or other banned files."})]})}),(0,p.jsx)("div",{className:"text-center",children:(0,p.jsx)(E.ZP,{icon:(0,p.jsx)(n.Z,{}),type:"link",size:"large",children:(0,p.jsx)("b",{children:"Choose from your computer"})})}),(0,p.jsx)(R.Z,{children:"or"}),(0,p.jsx)(T.Z,{placeholder:"Paste image or URL",onChange:function(i){return L(i.currentTarget.value)}})]})};f.Z=F},24302:function(I,f,e){e.r(f),e.d(f,{default:function(){return M}});var u=e(5574),r=e.n(u),h=e(97857),d=e.n(h),_=e(1912),l=e(71577),a=e(1913),c=e(62435),n=e(86074),P=function(){var g=(0,c.useState)(!1),m=r()(g,2),A=m[0],C=m[1];return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(l.ZP,{icon:(0,n.jsx)(_.Z,{}),type:"primary",onClick:function(){return C(!0)},children:"Upload"}),(0,n.jsx)(a.Z,{open:A,onCancel:function(){return C(!1)},onFinish:function(){return C(!0)}})]})},O=P,x=e(20385),E=e(5251),R=e(37476),T=e(16309),U=e(35312),p=e(32545),W=function(g){var m=(0,U.useIntl)(),A=(0,c.useRef)();return(0,n.jsx)(R.Y,{open:g.open,onOpenChange:g.onOpenChange,children:(0,n.jsx)(T.Rs,{ghost:!0,toolBarRender:function(){return[(0,n.jsx)(O,{},"upload")]},headerTitle:m.formatMessage({id:"menu.fileManager"}),request:function(b){return(0,x.V6)(d()({},b),[".png",".jpg",".jpeg","image/jpeg"])},search:{layout:"vertical"},pagination:{pageSize:6},grid:{column:3},onItem:function(b){return{onClick:function(){g.onSelect&&g.onSelect(b)}}},metas:{content:{dataIndex:"name",title:"Name",render:function(b,B){return(0,n.jsx)(p.Z,{src:(0,E.Er)(B.url),height:100,preview:!1})}}},actionRef:A})})},F=W,S=e(47389),D=e(34994),K=e(32983),y=function(g){var m=D.A.useFormInstance(),A=(0,c.useState)(!1),C=r()(A,2),b=C[0],B=C[1],G=(0,c.useState)(),V=r()(G,2),z=V[0],$=V[1],H=function(w){m==null||m.setFieldValue("backgroundImage",w.url),$(w.url),B(!1)};(0,c.useEffect)(function(){new Promise(function(N){setTimeout(function(){$(m==null?void 0:m.getFieldValue(g.name||"")),N(!0)},500)})},[]);var Y=function(){return(0,n.jsx)("div",{className:"border p-4",children:(0,n.jsx)(K.Z,{})})};return(0,n.jsxs)(D.A.Item,{name:g.name,label:g.label,children:[(0,n.jsxs)("div",{className:"relative",children:[z?(0,n.jsx)(p.Z,{src:z,height:150,className:"w-full border"}):(0,n.jsx)(Y,{}),(0,n.jsx)(l.ZP,{icon:(0,n.jsx)(S.Z,{}),onClick:function(){return B(!0)},type:"text",className:"absolute top-0 right-0"})]}),(0,n.jsx)(F,{open:b,onOpenChange:B,onSelect:H})]})},Z=y,L=e(66352),s=e(5966),v=e(90672),o=e(71230),t=e(15746),i=function(){var g=(0,U.useParams)(),m=g.id,A=D.A.useFormInstance();return(0,c.useEffect)(function(){(0,L.Tu)(m).then(function(C){A==null||A.setFields([{name:"backgroundImage",value:C.backgroundImage}])})},[m]),(0,n.jsxs)(o.Z,{gutter:16,children:[(0,n.jsx)(t.Z,{md:16,children:(0,n.jsx)(Z,{name:"backgroundImage",label:"Background image"})}),(0,n.jsxs)(t.Z,{md:8,children:[(0,n.jsx)(s.Z,{name:"title",label:"Title"}),(0,n.jsx)(v.Z,{name:"description",label:"Description"})]})]})},M=i},20385:function(I,f,e){e.d(f,{Ah:function(){return P},Cq:function(){return R},V6:function(){return c},kE:function(){return W},p6:function(){return Z},tg:function(){return S},yk:function(){return K},z3:function(){return U}});var u=e(15009),r=e.n(u),h=e(97857),d=e.n(h),_=e(99289),l=e.n(_),a=e(35312);function c(s,v,o){return n.apply(this,arguments)}function n(){return n=l()(r()().mark(function s(v,o,t){return r()().wrap(function(M){for(;;)switch(M.prev=M.next){case 0:return M.abrupt("return",(0,a.request)("file/list",d()({method:"GET",params:d()({type:Object.keys(o!=null?o:[]).length>0?o==null?void 0:o.join(","):""},v)},t||{})));case 1:case"end":return M.stop()}},s)})),n.apply(this,arguments)}function P(s){return O.apply(this,arguments)}function O(){return O=l()(r()().mark(function s(v){return r()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,a.request)("file/delete-file-content/".concat(v),{method:"POST"}));case 1:case"end":return t.stop()}},s)})),O.apply(this,arguments)}function x(s){return E.apply(this,arguments)}function E(){return E=_asyncToGenerator(_regeneratorRuntime().mark(function s(v){return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",request("file/delete-file-item",{method:"POST",data:v}));case 1:case"end":return t.stop()}},s)})),E.apply(this,arguments)}function R(s){return T.apply(this,arguments)}function T(){return T=l()(r()().mark(function s(v){return r()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,a.request)("file/".concat(v)));case 1:case"end":return t.stop()}},s)})),T.apply(this,arguments)}function U(s,v){return p.apply(this,arguments)}function p(){return p=l()(r()().mark(function s(v,o){return r()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",(0,a.request)("file/file-items/".concat(o.id)));case 1:case"end":return i.stop()}},s)})),p.apply(this,arguments)}function W(s){return F.apply(this,arguments)}function F(){return F=l()(r()().mark(function s(v){var o;return r()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return o=new FormData,o.append("file",v),i.abrupt("return",(0,a.request)("file/upload",{method:"POST",data:o}));case 3:case"end":return i.stop()}},s)})),F.apply(this,arguments)}function S(s){return D.apply(this,arguments)}function D(){return D=l()(r()().mark(function s(v){return r()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,a.request)("file/upload-from-url",{method:"POST",data:{url:v}}));case 1:case"end":return t.stop()}},s)})),D.apply(this,arguments)}function K(){return y.apply(this,arguments)}function y(){return y=l()(r()().mark(function s(){return r()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",(0,a.request)("file/count"));case 1:case"end":return o.stop()}},s)})),y.apply(this,arguments)}function Z(){return L.apply(this,arguments)}function L(){return L=l()(r()().mark(function s(){return r()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",(0,a.request)("file/total-size"));case 1:case"end":return o.stop()}},s)})),L.apply(this,arguments)}},5251:function(I,f,e){e.d(f,{Er:function(){return d},p6:function(){return _}});var u=e(27484),r=e.n(u);function h(a){return a.trim()}function d(a){return new URL(a||"",localStorage.getItem("wf_URL")||"").href}function _(a){return a?r()(a).format("DD/MM/YYYY hh:mm:ss"):"-"}var l=function(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:100;return new Promise(function(n){setTimeout(function(){n(!0)},c)})}}}]);
